define("angular2",[],function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:false};e[r].call(i.exports,i,i.exports,n);i.loaded=true;return i.exports}n.m=e;n.c=t;n.p="";return n(0)}([function(e,t,n){function r(e){for(var n in e)if(!t.hasOwnProperty(n))t[n]=e[n]}r(n(1));r(n(201));r(n(202));r(n(203))},function(e,t,n){function r(e){for(var n in e)if(!t.hasOwnProperty(n))t[n]=e[n]}r(n(2));r(n(58));r(n(5));r(n(59));r(n(82));r(n(83));r(n(186));r(n(187));r(n(100));r(n(188));r(n(189));r(n(130));r(n(190));r(n(86));r(n(198));r(n(23))},function(e,t,n){var r=n(3);t.QueryMetadata=r.QueryMetadata;t.ContentChildrenMetadata=r.ContentChildrenMetadata;t.ContentChildMetadata=r.ContentChildMetadata;t.ViewChildrenMetadata=r.ViewChildrenMetadata;t.ViewQueryMetadata=r.ViewQueryMetadata;t.ViewChildMetadata=r.ViewChildMetadata;t.AttributeMetadata=r.AttributeMetadata;var i=n(22);t.ComponentMetadata=i.ComponentMetadata;t.DirectiveMetadata=i.DirectiveMetadata;t.PipeMetadata=i.PipeMetadata;t.PropertyMetadata=i.PropertyMetadata;t.EventMetadata=i.EventMetadata;t.HostBindingMetadata=i.HostBindingMetadata;t.HostListenerMetadata=i.HostListenerMetadata;var o=n(56);t.ViewMetadata=o.ViewMetadata;t.ViewEncapsulation=o.ViewEncapsulation;var a=n(3);var s=n(22);var c=n(56);var u=n(8);t.Component=u.makeDecorator(s.ComponentMetadata,function(e){return e.View=t.View});t.Directive=u.makeDecorator(s.DirectiveMetadata);t.View=u.makeDecorator(c.ViewMetadata,function(e){return e.View=t.View});t.Attribute=u.makeParamDecorator(a.AttributeMetadata);t.Query=u.makeParamDecorator(a.QueryMetadata);t.ContentChildren=u.makePropDecorator(a.ContentChildrenMetadata);t.ContentChild=u.makePropDecorator(a.ContentChildMetadata);t.ViewChildren=u.makePropDecorator(a.ViewChildrenMetadata);t.ViewChild=u.makePropDecorator(a.ViewChildMetadata);t.ViewQuery=u.makeParamDecorator(a.ViewQueryMetadata);t.Pipe=u.makeDecorator(s.PipeMetadata);t.Property=u.makePropDecorator(s.PropertyMetadata);t.Event=u.makePropDecorator(s.EventMetadata);t.HostBinding=u.makePropDecorator(s.HostBindingMetadata);t.HostListener=u.makePropDecorator(s.HostListenerMetadata)},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var o=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var a=n(4);var s=n(5);var c=n(6);var u=function(e){r(t,e);function t(t){e.call(this);this.attributeName=t}Object.defineProperty(t.prototype,"token",{get:function(){return this},enumerable:true,configurable:true});t.prototype.toString=function(){return"@Attribute("+a.stringify(this.attributeName)+")"};t=i([a.CONST(),o("design:paramtypes",[String])],t);return t}(c.DependencyMetadata);t.AttributeMetadata=u;var l=function(e){r(t,e);function t(t,n){var r=n===void 0?{}:n,i=r.descendants,o=i===void 0?false:i,a=r.first,s=a===void 0?false:a;e.call(this);this._selector=t;this.descendants=o;this.first=s}Object.defineProperty(t.prototype,"isViewQuery",{get:function(){return false},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"selector",{get:function(){return s.resolveForwardRef(this._selector)},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"isVarBindingQuery",{get:function(){return a.isString(this.selector)},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"varBindings",{get:function(){return a.StringWrapper.split(this.selector,new RegExp(","))},enumerable:true,configurable:true});t.prototype.toString=function(){return"@Query("+a.stringify(this.selector)+")"};t=i([a.CONST(),o("design:paramtypes",[Object,Object])],t);return t}(c.DependencyMetadata);t.QueryMetadata=l;var p=function(e){r(t,e);function t(t,n){var r=(n===void 0?{}:n).descendants,i=r===void 0?false:r;e.call(this,t,{descendants:i})}t=i([a.CONST(),o("design:paramtypes",[Object,Object])],t);return t}(l);t.ContentChildrenMetadata=p;var f=function(e){r(t,e);function t(t){e.call(this,t,{descendants:true,first:true})}t=i([a.CONST(),o("design:paramtypes",[Object])],t);return t}(l);t.ContentChildMetadata=f;var h=function(e){r(t,e);function t(t,n){var r=n===void 0?{}:n,i=r.descendants,o=i===void 0?false:i,a=r.first,s=a===void 0?false:a;e.call(this,t,{descendants:o,first:s})}Object.defineProperty(t.prototype,"isViewQuery",{get:function(){return true},enumerable:true,configurable:true});t.prototype.toString=function(){return"@ViewQuery("+a.stringify(this.selector)+")"};t=i([a.CONST(),o("design:paramtypes",[Object,Object])],t);return t}(l);t.ViewQueryMetadata=h;var d=function(e){r(t,e);function t(t){e.call(this,t,{descendants:true})}t=i([a.CONST(),o("design:paramtypes",[Object])],t);return t}(h);t.ViewChildrenMetadata=d;var v=function(e){r(t,e);function t(t){e.call(this,t,{descendants:true,first:true})}t=i([a.CONST(),o("design:paramtypes",[Object])],t);return t}(h);t.ViewChildMetadata=v},function(e,t){(function(e){var n=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var r;if(typeof window==="undefined"){if(typeof WorkerGlobalScope!=="undefined"&&self instanceof WorkerGlobalScope){r=self}else{r=e}}else{r=window}var i=r;t.global=i;t.Type=Function;function o(e){return e["name"]}t.getTypeNameForDebugging=o;t.Math=i.Math;t.Date=i.Date;var a=typeof i["assert"]!=="undefined";function s(){return a}t.assertionsEnabled=s;i.assert=function U(e){if(a){i["assert"].call(e)}};function c(e){return e}t.CONST_EXPR=c;function u(){return function(e){return e}}t.CONST=u;function l(){return function(e){return e}}t.ABSTRACT=l;function p(e){return e!==undefined&&e!==null}t.isPresent=p;function f(e){return e===undefined||e===null}t.isBlank=f;function h(e){return typeof e==="string"}t.isString=h;function d(e){return typeof e==="function"}t.isFunction=d;function v(e){return d(e)}t.isType=v;function y(e){return typeof e==="object"&&e!==null}t.isStringMap=y;function g(e){return e instanceof i.Promise}t.isPromise=g;function m(e){return Array.isArray(e)}t.isArray=m;function _(e){return typeof e==="number"}t.isNumber=_;function b(e){return e instanceof t.Date&&!isNaN(e.valueOf())}t.isDate=b;function w(e){if(typeof e==="string"){return e}if(e===undefined||e===null){return""+e}if(e.name){return e.name}var t=e.toString();var n=t.indexOf("\n");return n===-1?t:t.substring(0,n)}t.stringify=w;function C(e){return e}t.serializeEnum=C;function E(e,t){return e}t.deserializeEnum=E;var R=function(){function e(){}e.fromCharCode=function(e){return String.fromCharCode(e)};e.charCodeAt=function(e,t){return e.charCodeAt(t)};e.split=function(e,t){return e.split(t)};e.equals=function(e,t){return e===t};e.replace=function(e,t,n){return e.replace(t,n)};e.replaceAll=function(e,t,n){return e.replace(t,n)};e.slice=function(e,t,n){if(t===void 0){t=0}if(n===void 0){n=null}return e.slice(t,n===null?undefined:n)};e.toUpperCase=function(e){return e.toUpperCase()};e.toLowerCase=function(e){return e.toLowerCase()};e.startsWith=function(e,t){return e.startsWith(t)};e.substring=function(e,t,n){if(n===void 0){n=null}return e.substring(t,n===null?undefined:n)};e.replaceAllMapped=function(e,t,n){return e.replace(t,function(){var e=[];for(var t=0;t<arguments.length;t++){e[t-0]=arguments[t]}e.splice(-2,2);return n(e)})};e.contains=function(e,t){return e.indexOf(t)!=-1};e.compare=function(e,t){if(e<t){return-1}else if(e>t){return 1}else{return 0}};return e}();t.StringWrapper=R;var P=function(){function e(e){if(e===void 0){e=[]}this.parts=e}e.prototype.add=function(e){this.parts.push(e)};e.prototype.toString=function(){return this.parts.join("")};return e}();t.StringJoiner=P;var D=function(e){n(t,e);function t(t){e.call(this,t);this.message=t}t.prototype.toString=function(){return this.message};return t}(Error);t.NumberParseError=D;var I=function(){function e(){}e.toFixed=function(e,t){return e.toFixed(t)};e.equal=function(e,t){return e===t};e.parseIntAutoRadix=function(e){var t=parseInt(e);if(isNaN(t)){throw new D("Invalid integer literal when parsing "+e)}return t};e.parseInt=function(e,t){if(t==10){if(/^(\-|\+)?[0-9]+$/.test(e)){return parseInt(e,t)}}else if(t==16){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e)){return parseInt(e,t)}}else{var n=parseInt(e,t);if(!isNaN(n)){return n}}throw new D("Invalid integer literal when parsing "+e+" in base "+t)};e.parseFloat=function(e){return parseFloat(e)};Object.defineProperty(e,"NaN",{get:function(){return NaN},enumerable:true,configurable:true});e.isNaN=function(e){return isNaN(e)};e.isInteger=function(e){return Number.isInteger(e)};return e}();t.NumberWrapper=I;t.RegExp=i.RegExp;var x=function(){function e(){}e.create=function(e,t){if(t===void 0){t=""}t=t.replace(/g/g,"");return new i.RegExp(e,t+"g")};e.firstMatch=function(e,t){e.lastIndex=0;return e.exec(t)};e.test=function(e,t){e.lastIndex=0;return e.test(t)};e.matcher=function(e,t){e.lastIndex=0;return{re:e,input:t}};return e}();t.RegExpWrapper=x;var O=function(){function e(){}e.next=function(e){return e.re.exec(e.input)};return e}();t.RegExpMatcherWrapper=O;var S=function(){function e(){}e.apply=function(e,t){return e.apply(null,t)};return e}();t.FunctionWrapper=S;function N(e,t){return e===t||typeof e==="number"&&typeof t==="number"&&isNaN(e)&&isNaN(t)}t.looseIdentical=N;function M(e){return e}t.getMapKey=M;function B(e){return f(e)?null:e}t.normalizeBlank=B;function A(e){return f(e)?false:e}t.normalizeBool=A;function V(e){return e!==null&&(typeof e==="function"||typeof e==="object")}t.isJsObject=V;function T(e){console.log(e)}t.print=T;var k=function(){function e(){}e.parse=function(e){return i.JSON.parse(e)};e.stringify=function(e){return i.JSON.stringify(e,null,2)};return e}();t.Json=k;var j=function(){function e(){}e.create=function(e,n,r,i,o,a,s){if(n===void 0){n=1}if(r===void 0){r=1}if(i===void 0){i=0}if(o===void 0){o=0}if(a===void 0){a=0}if(s===void 0){s=0}return new t.Date(e,n-1,r,i,o,a,s)};e.fromMillis=function(e){return new t.Date(e)};e.toMillis=function(e){return e.getTime()};e.now=function(){return new t.Date};e.toJson=function(e){return e.toJSON()};return e}();t.DateWrapper=j;function L(e,t,n){var r=t.split(".");var i=e;while(r.length>1){var o=r.shift();if(i.hasOwnProperty(o)){i=i[o]}else{i=i[o]={}}}if(i===undefined||i===null){i={}}i[r.shift()]=n}t.setValueOnPath=L;var F=null;function W(){if(f(F)){if(p(Symbol)&&p(Symbol.iterator)){F=Symbol.iterator}else{var e=Object.getOwnPropertyNames(Map.prototype);for(var t=0;t<e.length;++t){var n=e[t];if(n!=="entries"&&n!=="size"&&Map.prototype[n]===Map.prototype["entries"]){F=n}}}}return F}t.getSymbolIterator=W}).call(t,function(){return this}())},function(e,t,n){function r(e){for(var n in e)if(!t.hasOwnProperty(n))t[n]=e[n]}var i=n(6);t.InjectMetadata=i.InjectMetadata;t.OptionalMetadata=i.OptionalMetadata;t.InjectableMetadata=i.InjectableMetadata;t.SelfMetadata=i.SelfMetadata;t.HostMetadata=i.HostMetadata;t.SkipSelfMetadata=i.SkipSelfMetadata;t.DependencyMetadata=i.DependencyMetadata;r(n(7));var o=n(9);t.forwardRef=o.forwardRef;t.resolveForwardRef=o.resolveForwardRef;var a=n(10);t.Injector=a.Injector;var s=n(12);t.Binding=s.Binding;t.BindingBuilder=s.BindingBuilder;t.ResolvedBinding=s.ResolvedBinding;t.ResolvedFactory=s.ResolvedFactory;t.Dependency=s.Dependency;t.bind=s.bind;var c=n(18);t.Key=c.Key;t.TypeLiteral=c.TypeLiteral;var u=n(20);t.NoBindingError=u.NoBindingError;t.AbstractBindingError=u.AbstractBindingError;t.CyclicDependencyError=u.CyclicDependencyError;t.InstantiationError=u.InstantiationError;t.InvalidBindingError=u.InvalidBindingError;t.NoAnnotationError=u.NoAnnotationError;t.OutOfBoundsError=u.OutOfBoundsError;var l=n(21);t.OpaqueToken=l.OpaqueToken},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(4);var a=function(){function e(e){this.token=e}e.prototype.toString=function(){return"@Inject("+o.stringify(this.token)+")"};e=r([o.CONST(),i("design:paramtypes",[Object])],e);return e}();t.InjectMetadata=a;var s=function(){function e(){}e.prototype.toString=function(){return"@Optional()"};e=r([o.CONST(),i("design:paramtypes",[])],e);return e}();t.OptionalMetadata=s;var c=function(){function e(){}Object.defineProperty(e.prototype,"token",{get:function(){return null},enumerable:true,configurable:true});e=r([o.CONST(),i("design:paramtypes",[])],e);return e}();t.DependencyMetadata=c;var u=function(){function e(){}e=r([o.CONST(),i("design:paramtypes",[])],e);return e}();t.InjectableMetadata=u;var l=function(){function e(){}e.prototype.toString=function(){return"@Self()"};e=r([o.CONST(),i("design:paramtypes",[])],e);return e}();t.SelfMetadata=l;var p=function(){function e(){}e.prototype.toString=function(){return"@SkipSelf()"};e=r([o.CONST(),i("design:paramtypes",[])],e);return e}();t.SkipSelfMetadata=p;var f=function(){function e(){}e.prototype.toString=function(){return"@Host()"};e=r([o.CONST(),i("design:paramtypes",[])],e);return e}();t.HostMetadata=f},function(e,t,n){var r=n(6);var i=n(8);t.Inject=i.makeParamDecorator(r.InjectMetadata);t.Optional=i.makeParamDecorator(r.OptionalMetadata);t.Injectable=i.makeDecorator(r.InjectableMetadata);t.Self=i.makeParamDecorator(r.SelfMetadata);t.Host=i.makeParamDecorator(r.HostMetadata);t.SkipSelf=i.makeParamDecorator(r.SkipSelfMetadata)},function(e,t,n){var r=n(4);function i(e){if(r.isFunction(e)&&e.hasOwnProperty("annotation")){e=e.annotation}return e}function o(e,t){if(e===Object||e===String||e===Function||e===Number||e===Array){throw new Error("Can not use native "+r.stringify(e)+" as constructor")}if(r.isFunction(e)){return e}else if(e instanceof Array){var n=e;var o=e[e.length-1];if(!r.isFunction(o)){throw new Error("Last position of Class method array must be Function in key "+t+" was '"+r.stringify(o)+"'")}var a=n.length-1;if(a!=o.length){throw new Error("Number of annotations ("+a+") does not match number of arguments ("+o.length+") in the function: "+r.stringify(o))}var c=[];for(var u=0,l=n.length-1;u<l;u++){var p=[];c.push(p);var f=n[u];if(f instanceof Array){for(var h=0;h<f.length;h++){p.push(i(f[h]))}}else if(r.isFunction(f)){p.push(i(f))}else{p.push(f)}}s.defineMetadata("parameters",c,o);return o}else{throw new Error("Only Function or Array is supported in Class definition for key '"+t+"' is '"+r.stringify(e)+"'")}}function a(e){var t=o(e.hasOwnProperty("constructor")?e.constructor:undefined,"constructor");var n=t.prototype;if(e.hasOwnProperty("extends")){if(r.isFunction(e.extends)){t.prototype=n=Object.create(e.extends.prototype)}else{throw new Error("Class definition 'extends' property must be a constructor function was: "+r.stringify(e.extends))}}for(var i in e){if(i!="extends"&&i!="prototype"&&e.hasOwnProperty(i)){n[i]=o(e[i],i)}}if(this&&this.annotations instanceof Array){s.defineMetadata("annotations",this.annotations,t)}return t}t.Class=a;var s=r.global.Reflect;if(!(s&&s.getMetadata)){throw"reflect-metadata shim is required when using class decorators"}function c(e,t){if(t===void 0){t=null}function n(n){var i=new e(n);if(this instanceof e){return i}else{var o=r.isFunction(this)&&this.annotations instanceof Array?this.annotations:[];o.push(i);var c=function u(e){var t=s.getOwnMetadata("annotations",e);t=t||[];t.push(i);s.defineMetadata("annotations",t,e);return e};c.annotations=o;c.Class=a;if(t)t(c);return c}}n.prototype=Object.create(e.prototype);return n}t.makeDecorator=c;function u(e){function t(){var t=[];for(var n=0;n<arguments.length;n++){t[n-0]=arguments[n]}var r=Object.create(e.prototype);e.apply(r,t);if(this instanceof e){return r}else{i.annotation=r;return i}function i(e,t,n){var i=s.getMetadata("parameters",e);i=i||[];while(i.length<=n){i.push(null)}i[n]=i[n]||[];var o=i[n];o.push(r);s.defineMetadata("parameters",i,e);return e}}t.prototype=Object.create(e.prototype);return t}t.makeParamDecorator=u;function l(e){function t(){var t=[];for(var n=0;n<arguments.length;n++){t[n-0]=arguments[n]}var r=Object.create(e.prototype);e.apply(r,t);if(this instanceof e){return r}else{return function i(e,t){var n=s.getOwnMetadata("propMetadata",e.constructor);n=n||{};n[t]=n[t]||[];n[t].unshift(r);s.defineMetadata("propMetadata",n,e.constructor)}}}t.prototype=Object.create(e.prototype);return t}t.makePropDecorator=l},function(e,t,n){var r=n(4);function i(e){e.__forward_ref__=i;e.toString=function(){return r.stringify(this())};return e}t.forwardRef=i;function o(e){if(r.isFunction(e)&&e.hasOwnProperty("__forward_ref__")&&e.__forward_ref__===i){return e()}else{return e}}t.resolveForwardRef=o},function(e,t,n){var r=n(11);var i=n(12);var o=n(20);var a=n(4);var s=n(18);var c=n(6);var u=10;t.UNDEFINED=a.CONST_EXPR(new Object);(function(e){e[e["Public"]=0]="Public";e[e["Private"]=1]="Private";e[e["PublicAndPrivate"]=2]="PublicAndPrivate"})(t.Visibility||(t.Visibility={}));var l=t.Visibility;function p(e,t){return e===t||(t===l.PublicAndPrivate||e===l.PublicAndPrivate)}var f=function(){function e(e,t){this.binding0=null;this.binding1=null;this.binding2=null;this.binding3=null;this.binding4=null;this.binding5=null;this.binding6=null;this.binding7=null;this.binding8=null;this.binding9=null;this.keyId0=null;this.keyId1=null;this.keyId2=null;this.keyId3=null;this.keyId4=null;this.keyId5=null;this.keyId6=null;this.keyId7=null;this.keyId8=null;this.keyId9=null;this.visibility0=null;this.visibility1=null;this.visibility2=null;this.visibility3=null;this.visibility4=null;this.visibility5=null;this.visibility6=null;this.visibility7=null;this.visibility8=null;this.visibility9=null;var n=t.length;if(n>0){this.binding0=t[0].binding;this.keyId0=t[0].getKeyId();this.visibility0=t[0].visibility}if(n>1){this.binding1=t[1].binding;this.keyId1=t[1].getKeyId();this.visibility1=t[1].visibility}if(n>2){this.binding2=t[2].binding;this.keyId2=t[2].getKeyId();this.visibility2=t[2].visibility}if(n>3){this.binding3=t[3].binding;this.keyId3=t[3].getKeyId();this.visibility3=t[3].visibility}if(n>4){this.binding4=t[4].binding;this.keyId4=t[4].getKeyId();this.visibility4=t[4].visibility}if(n>5){this.binding5=t[5].binding;this.keyId5=t[5].getKeyId();this.visibility5=t[5].visibility}if(n>6){this.binding6=t[6].binding;this.keyId6=t[6].getKeyId();this.visibility6=t[6].visibility}if(n>7){this.binding7=t[7].binding;this.keyId7=t[7].getKeyId();this.visibility7=t[7].visibility}if(n>8){this.binding8=t[8].binding;this.keyId8=t[8].getKeyId();this.visibility8=t[8].visibility}if(n>9){this.binding9=t[9].binding;this.keyId9=t[9].getKeyId();this.visibility9=t[9].visibility}}e.prototype.getBindingAtIndex=function(e){if(e==0)return this.binding0;if(e==1)return this.binding1;if(e==2)return this.binding2;if(e==3)return this.binding3;if(e==4)return this.binding4;if(e==5)return this.binding5;if(e==6)return this.binding6;if(e==7)return this.binding7;if(e==8)return this.binding8;if(e==9)return this.binding9;throw new o.OutOfBoundsError(e)};e.prototype.createInjectorStrategy=function(e){return new v(e,this)};return e}();t.ProtoInjectorInlineStrategy=f;var h=function(){function e(e,t){var n=t.length;this.bindings=r.ListWrapper.createFixedSize(n);this.keyIds=r.ListWrapper.createFixedSize(n);this.visibilities=r.ListWrapper.createFixedSize(n);for(var i=0;i<n;i++){this.bindings[i]=t[i].binding;this.keyIds[i]=t[i].getKeyId();this.visibilities[i]=t[i].visibility}}e.prototype.getBindingAtIndex=function(e){if(e<0||e>=this.bindings.length){throw new o.OutOfBoundsError(e)}return this.bindings[e]};e.prototype.createInjectorStrategy=function(e){return new y(this,e)};return e}();t.ProtoInjectorDynamicStrategy=h;var d=function(){function e(e){this.numberOfBindings=e.length;this._strategy=e.length>u?new h(this,e):new f(this,e)}e.prototype.getBindingAtIndex=function(e){return this._strategy.getBindingAtIndex(e)};return e}();t.ProtoInjector=d;var v=function(){function e(e,n){this.injector=e;this.protoStrategy=n;this.obj0=t.UNDEFINED;this.obj1=t.UNDEFINED;this.obj2=t.UNDEFINED;this.obj3=t.UNDEFINED;this.obj4=t.UNDEFINED;this.obj5=t.UNDEFINED;this.obj6=t.UNDEFINED;this.obj7=t.UNDEFINED;this.obj8=t.UNDEFINED;this.obj9=t.UNDEFINED}e.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0};e.prototype.instantiateBinding=function(e,t){return this.injector._new(e,t)};e.prototype.attach=function(e,t){var n=this.injector;n._parent=e;n._isHost=t};e.prototype.getObjByKeyId=function(e,n){var r=this.protoStrategy;var i=this.injector;if(r.keyId0===e&&p(r.visibility0,n)){if(this.obj0===t.UNDEFINED){this.obj0=i._new(r.binding0,r.visibility0)}return this.obj0}if(r.keyId1===e&&p(r.visibility1,n)){if(this.obj1===t.UNDEFINED){this.obj1=i._new(r.binding1,r.visibility1)}return this.obj1}if(r.keyId2===e&&p(r.visibility2,n)){if(this.obj2===t.UNDEFINED){this.obj2=i._new(r.binding2,r.visibility2)}return this.obj2}if(r.keyId3===e&&p(r.visibility3,n)){if(this.obj3===t.UNDEFINED){this.obj3=i._new(r.binding3,r.visibility3)}return this.obj3}if(r.keyId4===e&&p(r.visibility4,n)){if(this.obj4===t.UNDEFINED){this.obj4=i._new(r.binding4,r.visibility4)}return this.obj4}if(r.keyId5===e&&p(r.visibility5,n)){if(this.obj5===t.UNDEFINED){this.obj5=i._new(r.binding5,r.visibility5)}return this.obj5}if(r.keyId6===e&&p(r.visibility6,n)){if(this.obj6===t.UNDEFINED){this.obj6=i._new(r.binding6,r.visibility6)}return this.obj6}if(r.keyId7===e&&p(r.visibility7,n)){if(this.obj7===t.UNDEFINED){this.obj7=i._new(r.binding7,r.visibility7)}return this.obj7}if(r.keyId8===e&&p(r.visibility8,n)){if(this.obj8===t.UNDEFINED){this.obj8=i._new(r.binding8,r.visibility8)}return this.obj8}if(r.keyId9===e&&p(r.visibility9,n)){if(this.obj9===t.UNDEFINED){this.obj9=i._new(r.binding9,r.visibility9)}return this.obj9}return t.UNDEFINED};e.prototype.getObjAtIndex=function(e){if(e==0)return this.obj0;if(e==1)return this.obj1;if(e==2)return this.obj2;if(e==3)return this.obj3;if(e==4)return this.obj4;if(e==5)return this.obj5;if(e==6)return this.obj6;if(e==7)return this.obj7;if(e==8)return this.obj8;if(e==9)return this.obj9;throw new o.OutOfBoundsError(e)};e.prototype.getMaxNumberOfObjects=function(){return u};return e}();t.InjectorInlineStrategy=v;var y=function(){function e(e,n){this.protoStrategy=e;this.injector=n;this.objs=r.ListWrapper.createFixedSize(e.bindings.length);r.ListWrapper.fill(this.objs,t.UNDEFINED)}e.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0};e.prototype.instantiateBinding=function(e,t){return this.injector._new(e,t)};e.prototype.attach=function(e,t){var n=this.injector;n._parent=e;n._isHost=t};e.prototype.getObjByKeyId=function(e,n){var r=this.protoStrategy;for(var i=0;i<r.keyIds.length;i++){if(r.keyIds[i]===e&&p(r.visibilities[i],n)){if(this.objs[i]===t.UNDEFINED){this.objs[i]=this.injector._new(r.bindings[i],r.visibilities[i])}return this.objs[i]}}return t.UNDEFINED};e.prototype.getObjAtIndex=function(e){if(e<0||e>=this.objs.length){throw new o.OutOfBoundsError(e)}return this.objs[e]};e.prototype.getMaxNumberOfObjects=function(){return this.objs.length};return e}();t.InjectorDynamicStrategy=y;var g=function(){function e(e,t){this.binding=e;this.visibility=t}e.prototype.getKeyId=function(){return this.binding.key.id};return e}();t.BindingWithVisibility=g;var m=function(){function e(e,t,n,r){if(t===void 0){t=null}if(n===void 0){n=null}if(r===void 0){r=null}this._proto=e;this._parent=t;this._depProvider=n;this._debugContext=r;this._isHost=false;this._constructionCounter=0;this._strategy=e._strategy.createInjectorStrategy(this)}e.resolve=function(e){return i.resolveBindings(e)};e.resolveAndCreate=function(t){var n=e.resolve(t);return e.fromResolvedBindings(n)};e.fromResolvedBindings=function(t){var n=t.map(function(e){return new g(e,l.Public)});var r=new d(n);return new e(r,null,null)};e.prototype.debugContext=function(){return this._debugContext()};e.prototype.get=function(e){return this._getByKey(s.Key.get(e),null,null,false,l.PublicAndPrivate)};e.prototype.getOptional=function(e){return this._getByKey(s.Key.get(e),null,null,true,l.PublicAndPrivate)};e.prototype.getAt=function(e){return this._strategy.getObjAtIndex(e)};Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"internalStrategy",{get:function(){return this._strategy},enumerable:true,configurable:true});e.prototype.resolveAndCreateChild=function(t){var n=e.resolve(t);return this.createChildFromResolved(n)};e.prototype.createChildFromResolved=function(t){var n=t.map(function(e){return new g(e,l.Public)});var r=new d(n);var i=new e(r,null,null);i._parent=this;return i};e.prototype.resolveAndInstantiate=function(t){return this.instantiateResolved(e.resolve([t])[0])};e.prototype.instantiateResolved=function(e){return this._instantiateBinding(e,l.PublicAndPrivate)};e.prototype._new=function(e,t){if(this._constructionCounter++>this._strategy.getMaxNumberOfObjects()){throw new o.CyclicDependencyError(this,e.key)}return this._instantiateBinding(e,t)};e.prototype._instantiateBinding=function(e,t){if(e.multiBinding){var n=r.ListWrapper.createFixedSize(e.resolvedFactories.length);for(var i=0;i<e.resolvedFactories.length;++i){n[i]=this._instantiate(e,e.resolvedFactories[i],t)}return n}else{return this._instantiate(e,e.resolvedFactories[0],t)}};e.prototype._instantiate=function(e,t,n){var r=t.factory;var i=t.dependencies;var a=i.length;var s,c,u,l,p,f,h,d,v,y,g,m,_,b,w,C,E,R,P,D;try{s=a>0?this._getByDependency(e,i[0],n):null;c=a>1?this._getByDependency(e,i[1],n):null;u=a>2?this._getByDependency(e,i[2],n):null;l=a>3?this._getByDependency(e,i[3],n):null;p=a>4?this._getByDependency(e,i[4],n):null;f=a>5?this._getByDependency(e,i[5],n):null;h=a>6?this._getByDependency(e,i[6],n):null;d=a>7?this._getByDependency(e,i[7],n):null;v=a>8?this._getByDependency(e,i[8],n):null;y=a>9?this._getByDependency(e,i[9],n):null;g=a>10?this._getByDependency(e,i[10],n):null;m=a>11?this._getByDependency(e,i[11],n):null;_=a>12?this._getByDependency(e,i[12],n):null;b=a>13?this._getByDependency(e,i[13],n):null;w=a>14?this._getByDependency(e,i[14],n):null;C=a>15?this._getByDependency(e,i[15],n):null;E=a>16?this._getByDependency(e,i[16],n):null;R=a>17?this._getByDependency(e,i[17],n):null;P=a>18?this._getByDependency(e,i[18],n):null;D=a>19?this._getByDependency(e,i[19],n):null}catch(I){if(I instanceof o.AbstractBindingError||I instanceof o.InstantiationError){I.addKey(this,e.key)}throw I}var x;try{switch(a){case 0:x=r();break;case 1:x=r(s);break;case 2:x=r(s,c);break;case 3:x=r(s,c,u);break;case 4:x=r(s,c,u,l);break;case 5:x=r(s,c,u,l,p);break;case 6:x=r(s,c,u,l,p,f);break;case 7:x=r(s,c,u,l,p,f,h);break;case 8:x=r(s,c,u,l,p,f,h,d);break;case 9:x=r(s,c,u,l,p,f,h,d,v);break;case 10:x=r(s,c,u,l,p,f,h,d,v,y);break;case 11:x=r(s,c,u,l,p,f,h,d,v,y,g);break;case 12:x=r(s,c,u,l,p,f,h,d,v,y,g,m);break;case 13:x=r(s,c,u,l,p,f,h,d,v,y,g,m,_);break;case 14:x=r(s,c,u,l,p,f,h,d,v,y,g,m,_,b);break;case 15:x=r(s,c,u,l,p,f,h,d,v,y,g,m,_,b,w);break;case 16:x=r(s,c,u,l,p,f,h,d,v,y,g,m,_,b,w,C);break;case 17:x=r(s,c,u,l,p,f,h,d,v,y,g,m,_,b,w,C,E);break;case 18:x=r(s,c,u,l,p,f,h,d,v,y,g,m,_,b,w,C,E,R);break;case 19:x=r(s,c,u,l,p,f,h,d,v,y,g,m,_,b,w,C,E,R,P);break;case 20:x=r(s,c,u,l,p,f,h,d,v,y,g,m,_,b,w,C,E,R,P,D);break}}catch(I){throw new o.InstantiationError(this,I,I.stack,e.key)}return x};e.prototype._getByDependency=function(e,n,r){var i=a.isPresent(this._depProvider)?this._depProvider.getDependency(this,e,n):t.UNDEFINED;if(i!==t.UNDEFINED){return i}else{return this._getByKey(n.key,n.lowerBoundVisibility,n.upperBoundVisibility,n.optional,r)}};e.prototype._getByKey=function(e,t,n,r,i){if(e===_){return this}if(n instanceof c.SelfMetadata){return this._getByKeySelf(e,r,i)}else if(n instanceof c.HostMetadata){return this._getByKeyHost(e,r,i,t)}else{return this._getByKeyDefault(e,r,i,t)}};e.prototype._throwOrNull=function(e,t){if(t){return null}else{throw new o.NoBindingError(this,e)}};e.prototype._getByKeySelf=function(e,n,r){var i=this._strategy.getObjByKeyId(e.id,r);return i!==t.UNDEFINED?i:this._throwOrNull(e,n)};e.prototype._getByKeyHost=function(e,n,r,i){var o=this;if(i instanceof c.SkipSelfMetadata){if(o._isHost){return this._getPrivateDependency(e,n,o)}else{o=o._parent}}while(o!=null){var s=o._strategy.getObjByKeyId(e.id,r);if(s!==t.UNDEFINED)return s;if(a.isPresent(o._parent)&&o._isHost){return this._getPrivateDependency(e,n,o)}else{o=o._parent}}return this._throwOrNull(e,n)};e.prototype._getPrivateDependency=function(e,n,r){var i=r._parent._strategy.getObjByKeyId(e.id,l.Private);return i!==t.UNDEFINED?i:this._throwOrNull(e,n)};e.prototype._getByKeyDefault=function(e,n,r,i){var o=this;if(i instanceof c.SkipSelfMetadata){r=o._isHost?l.PublicAndPrivate:l.Public;o=o._parent}while(o!=null){var a=o._strategy.getObjByKeyId(e.id,r);if(a!==t.UNDEFINED)return a;r=o._isHost?l.PublicAndPrivate:l.Public;o=o._parent}return this._throwOrNull(e,n)};Object.defineProperty(e.prototype,"displayName",{get:function(){return"Injector(bindings: ["+b(this,function(e){return' "'+e.key.displayName+'" '}).join(", ")+"])"},enumerable:true,configurable:true});e.prototype.toString=function(){return this.displayName};return e}();t.Injector=m;var _=s.Key.get(m);function b(e,t){var n=[];for(var r=0;r<e._proto.numberOfBindings;++r){n.push(t(e._proto.getBindingAtIndex(r)))}return n}},function(e,t,n){var r=n(4);t.Map=r.global.Map;t.Set=r.global.Set;t.StringMap=r.global.Object;var i=function(){try{if(new t.Map([[1,2]]).size===1){return function n(e){return new t.Map(e)}}}catch(e){}return function r(e){var n=new t.Map;for(var r=0;r<e.length;r++){var i=e[r];n.set(i[0],i[1])}return n}}();var o=function(){try{if(new t.Map(new t.Map)){return function n(e){return new t.Map(e)}}}catch(e){}return function r(e){var n=new t.Map;e.forEach(function(e,t){n.set(t,e)});return n}}();var a=function(){if((new t.Map).keys().next){return function e(t){var n=t.keys();var r;while(!(r=n.next()).done){t.set(r.value,null)}}}else{return function n(e){e.forEach(function(t,n){e.set(n,null)})}}}();var s=function(){try{if((new t.Map).values().next){return function n(e,t){return t?Array.from(e.values()):Array.from(e.keys())}}}catch(e){}return function r(e,t){var n=l.createFixedSize(e.size),r=0;e.forEach(function(e,i){n[r]=t?e:i;r++});return n}}();var c=function(){function e(){}e.clone=function(e){return o(e)};e.createFromStringMap=function(e){var n=new t.Map;for(var r in e){n.set(r,e[r])}return n};e.toStringMap=function(e){var t={};e.forEach(function(e,n){return t[n]=e});return t};e.createFromPairs=function(e){return i(e)};e.forEach=function(e,t){e.forEach(t)};e.get=function(e,t){return e.get(t)};e.size=function(e){return e.size};e.delete=function(e,t){e.delete(t)};e.clearValues=function(e){a(e)};e.iterable=function(e){return e};e.keys=function(e){return s(e,false)};e.values=function(e){return s(e,true)};return e}();t.MapWrapper=c;var u=function(){function e(){}e.create=function(){return{}};e.contains=function(e,t){return e.hasOwnProperty(t)};e.get=function(e,t){return e.hasOwnProperty(t)?e[t]:undefined};e.set=function(e,t,n){e[t]=n};e.keys=function(e){return Object.keys(e);
};e.isEmpty=function(e){for(var t in e){return false}return true};e.delete=function(e,t){delete e[t]};e.forEach=function(e,t){for(var n in e){if(e.hasOwnProperty(n)){t(e[n],n)}}};e.merge=function(e,t){var n={};for(var r in e){if(e.hasOwnProperty(r)){n[r]=e[r]}}for(var r in t){if(t.hasOwnProperty(r)){n[r]=t[r]}}return n};e.equals=function(e,t){var n=Object.keys(e);var r=Object.keys(t);if(n.length!=r.length){return false}var i;for(var o=0;o<n.length;o++){i=n[o];if(e[i]!==t[i]){return false}}return true};return e}();t.StringMapWrapper=u;var l=function(){function e(){}e.createFixedSize=function(e){return new Array(e)};e.createGrowableSize=function(e){return new Array(e)};e.clone=function(e){return e.slice(0)};e.map=function(e,t){return e.map(t)};e.forEach=function(e,t){for(var n=0;n<e.length;n++){t(e[n])}};e.forEachWithIndex=function(e,t){for(var n=0;n<e.length;n++){t(e[n],n)}};e.first=function(e){if(!e)return null;return e[0]};e.last=function(e){if(!e||e.length==0)return null;return e[e.length-1]};e.find=function(e,t){for(var n=0;n<e.length;++n){if(t(e[n]))return e[n]}return null};e.indexOf=function(e,t,n){if(n===void 0){n=0}return e.indexOf(t,n)};e.reduce=function(e,t,n){return e.reduce(t,n)};e.filter=function(e,t){return e.filter(t)};e.any=function(e,t){for(var n=0;n<e.length;++n){if(t(e[n]))return true}return false};e.contains=function(e,t){return e.indexOf(t)!==-1};e.reversed=function(t){var n=e.clone(t);return n.reverse()};e.concat=function(e,t){return e.concat(t)};e.insert=function(e,t,n){e.splice(t,0,n)};e.removeAt=function(e,t){var n=e[t];e.splice(t,1);return n};e.removeAll=function(e,t){for(var n=0;n<t.length;++n){var r=e.indexOf(t[n]);e.splice(r,1)}};e.removeLast=function(e){return e.pop()};e.remove=function(e,t){var n=e.indexOf(t);if(n>-1){e.splice(n,1);return true}return false};e.clear=function(e){e.length=0};e.join=function(e,t){return e.join(t)};e.isEmpty=function(e){return e.length==0};e.fill=function(e,t,n,r){if(n===void 0){n=0}if(r===void 0){r=null}e.fill(t,n,r===null?e.length:r)};e.equals=function(e,t){if(e.length!=t.length)return false;for(var n=0;n<e.length;++n){if(e[n]!==t[n])return false}return true};e.slice=function(e,t,n){if(t===void 0){t=0}if(n===void 0){n=null}return e.slice(t,n===null?undefined:n)};e.splice=function(e,t,n){return e.splice(t,n)};e.sort=function(e,t){if(r.isPresent(t)){e.sort(t)}else{e.sort()}};e.toString=function(e){return e.toString()};e.toJSON=function(e){return JSON.stringify(e)};e.maximum=function(e,t){if(e.length==0){return null}var n=null;var i=-Infinity;for(var o=0;o<e.length;o++){var a=e[o];if(r.isBlank(a)){continue}var s=t(a);if(s>i){n=a;i=s}}return n};return e}();t.ListWrapper=l;function p(e){if(!r.isJsObject(e))return false;return r.isArray(e)||!(e instanceof t.Map)&&r.getSymbolIterator()in e}t.isListLikeIterable=p;function f(e,t){if(r.isArray(e)){for(var n=0;n<e.length;n++){t(e[n])}}else{var i=e[r.getSymbolIterator()]();var o;while(!(o=i.next()).done){t(o.value)}}}t.iterateListLike=f;var h=function(){var e=new t.Set([1,2,3]);if(e.size===3){return function n(e){return new t.Set(e)}}else{return function r(e){var n=new t.Set(e);if(n.size!==e.length){for(var r=0;r<e.length;r++){n.add(e[r])}}return n}}}();var d=function(){function e(){}e.createFromList=function(e){return h(e)};e.has=function(e,t){return e.has(t)};e.delete=function(e,t){e.delete(t)};return e}();t.SetWrapper=d},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(4);var a=n(13);var s=n(11);var c=n(15);var u=n(18);var l=n(6);var p=n(20);var f=n(9);var h=function(){function e(e,t,n,r,i){this.key=e;this.optional=t;this.lowerBoundVisibility=n;this.upperBoundVisibility=r;this.properties=i}e.fromKey=function(t){return new e(t,false,null,null,[])};return e}();t.Dependency=h;var d=o.CONST_EXPR([]);var v=function(){function e(e,t){var n=t.toClass,r=t.toValue,i=t.toAlias,o=t.toFactory,a=t.deps,s=t.multi;this.token=e;this.toClass=n;this.toValue=r;this.toAlias=i;this.toFactory=o;this.dependencies=a;this._multi=s}Object.defineProperty(e.prototype,"multi",{get:function(){return o.normalizeBool(this._multi)},enumerable:true,configurable:true});e=r([o.CONST(),i("design:paramtypes",[Object,Object])],e);return e}();t.Binding=v;var y=function(){function e(e,t,n){this.key=e;this.resolvedFactories=t;this.multiBinding=n}Object.defineProperty(e.prototype,"resolvedFactory",{get:function(){return this.resolvedFactories[0]},enumerable:true,configurable:true});return e}();t.ResolvedBinding=y;var g=function(){function e(e,t){this.factory=e;this.dependencies=t}return e}();t.ResolvedFactory=g;function m(e){return new _(e)}t.bind=m;var _=function(){function e(e){this.token=e}e.prototype.toClass=function(e){return new v(this.token,{toClass:e})};e.prototype.toValue=function(e){return new v(this.token,{toValue:e})};e.prototype.toAlias=function(e){if(o.isBlank(e)){throw new a.BaseException("Can not alias "+o.stringify(this.token)+" to a blank value!")}return new v(this.token,{toAlias:e})};e.prototype.toFactory=function(e,t){return new v(this.token,{toFactory:e,deps:t})};return e}();t.BindingBuilder=_;function b(e){var t;var n;if(o.isPresent(e.toClass)){var r=f.resolveForwardRef(e.toClass);t=c.reflector.factory(r);n=x(r)}else if(o.isPresent(e.toAlias)){t=function(e){return e};n=[h.fromKey(u.Key.get(e.toAlias))]}else if(o.isPresent(e.toFactory)){t=e.toFactory;n=I(e.toFactory,e.dependencies)}else{t=function(){return e.toValue};n=d}return new g(t,n)}t.resolveFactory=b;function w(e){return new y(u.Key.get(e.token),[b(e)],false)}t.resolveBinding=w;function C(e){var t=R(P(e,new Map));return t.map(function(e){if(e instanceof E){return new y(e.key,[e.resolvedFactory],false)}else{var t=e;return new y(t[0].key,t.map(function(e){return e.resolvedFactory}),true)}})}t.resolveBindings=C;var E=function(){function e(e,t){this.key=e;this.resolvedFactory=t}return e}();function R(e){return s.MapWrapper.values(e)}function P(e,t){s.ListWrapper.forEach(e,function(e){if(e instanceof o.Type){D(m(e).toClass(e),t)}else if(e instanceof v){D(e,t)}else if(e instanceof Array){P(e,t)}else if(e instanceof _){throw new p.InvalidBindingError(e.token)}else{throw new p.InvalidBindingError(e)}});return t}function D(e,t){var n=u.Key.get(e.token);var r=b(e);var i=new E(n,r);if(e.multi){var a=t.get(n.id);if(a instanceof Array){a.push(i)}else if(o.isBlank(a)){t.set(n.id,[i])}else{throw new p.MixingMultiBindingsWithRegularBindings(a,e)}}else{var a=t.get(n.id);if(a instanceof Array){throw new p.MixingMultiBindingsWithRegularBindings(a,e)}t.set(n.id,i)}}function I(e,t){if(o.isBlank(t)){return x(e)}else{var n=s.ListWrapper.map(t,function(e){return[e]});return s.ListWrapper.map(t,function(t){return O(e,t,n)})}}function x(e){var t=c.reflector.parameters(e);if(o.isBlank(t))return[];if(s.ListWrapper.any(t,function(e){return o.isBlank(e)})){throw new p.NoAnnotationError(e,t)}return s.ListWrapper.map(t,function(n){return O(e,n,t)})}function O(e,t,n){var r=[];var i=null;var a=false;if(!o.isArray(t)){return S(t,a,null,null,r)}var s=null;var c=null;for(var u=0;u<t.length;++u){var h=t[u];if(h instanceof o.Type){i=h}else if(h instanceof l.InjectMetadata){i=h.token}else if(h instanceof l.OptionalMetadata){a=true}else if(h instanceof l.SelfMetadata){c=h}else if(h instanceof l.HostMetadata){c=h}else if(h instanceof l.SkipSelfMetadata){s=h}else if(h instanceof l.DependencyMetadata){if(o.isPresent(h.token)){i=h.token}r.push(h)}}i=f.resolveForwardRef(i);if(o.isPresent(i)){return S(i,a,s,c,r)}else{throw new p.NoAnnotationError(e,n)}}function S(e,t,n,r,i){return new h(u.Key.get(e),t,n,r,i)}},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=n(14);var o=n(14);t.ExceptionHandler=o.ExceptionHandler;var a=function(e){r(t,e);function t(t){if(t===void 0){t="--"}e.call(this,t);this.message=t;this.stack=new Error(t).stack}t.prototype.toString=function(){return this.message};return t}(Error);t.BaseException=a;var s=function(e){r(t,e);function t(t,n,r,i){e.call(this,t);this._wrapperMessage=t;this._originalException=n;this._originalStack=r;this._context=i;this._wrapperStack=new Error(t).stack}Object.defineProperty(t.prototype,"wrapperMessage",{get:function(){return this._wrapperMessage},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"wrapperStack",{get:function(){return this._wrapperStack},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"originalException",{get:function(){return this._originalException},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"originalStack",{get:function(){return this._originalStack},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"context",{get:function(){return this._context},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"message",{get:function(){return i.ExceptionHandler.exceptionToString(this)},enumerable:true,configurable:true});t.prototype.toString=function(){return this.message};return t}(Error);t.WrappedException=s;function c(e){return new TypeError(e)}t.makeTypeError=c},function(e,t,n){var r=n(4);var i=n(13);var o=n(11);var a=function(){function e(){this.res=[]}e.prototype.log=function(e){this.res.push(e)};e.prototype.logError=function(e){this.res.push(e)};e.prototype.logGroup=function(e){this.res.push(e)};e.prototype.logGroupEnd=function(){};return e}();var s=function(){function e(e,t){if(t===void 0){t=true}this._logger=e;this._rethrowException=t}e.exceptionToString=function(t,n,r){if(n===void 0){n=null}if(r===void 0){r=null}var i=new a;var o=new e(i,false);o.call(t,n,r);return i.res.join("\n")};e.prototype.call=function(e,t,n){if(t===void 0){t=null}if(n===void 0){n=null}var i=this._findOriginalException(e);var o=this._findOriginalStack(e);var a=this._findContext(e);this._logger.logGroup("EXCEPTION: "+this._extractMessage(e));if(r.isPresent(t)&&r.isBlank(o)){this._logger.logError("STACKTRACE:");this._logger.logError(this._longStackTrace(t))}if(r.isPresent(n)){this._logger.logError("REASON: "+n)}if(r.isPresent(i)){this._logger.logError("ORIGINAL EXCEPTION: "+this._extractMessage(i))}if(r.isPresent(o)){this._logger.logError("ORIGINAL STACKTRACE:");this._logger.logError(this._longStackTrace(o))}if(r.isPresent(a)){this._logger.logError("ERROR CONTEXT:");this._logger.logError(a)}this._logger.logGroupEnd();if(this._rethrowException)throw e};e.prototype._extractMessage=function(e){return e instanceof i.WrappedException?e.wrapperMessage:e.toString()};e.prototype._longStackTrace=function(e){return o.isListLikeIterable(e)?e.join("\n\n-----async gap-----\n"):e.toString()};e.prototype._findContext=function(e){try{if(!(e instanceof i.WrappedException))return null;return r.isPresent(e.context)?e.context:this._findContext(e.originalException)}catch(t){return null}};e.prototype._findOriginalException=function(e){if(!(e instanceof i.WrappedException))return null;var t=e.originalException;while(t instanceof i.WrappedException&&r.isPresent(t.originalException)){t=t.originalException}return t};e.prototype._findOriginalStack=function(e){if(!(e instanceof i.WrappedException))return null;var t=e;var n=e.originalStack;while(t instanceof i.WrappedException&&r.isPresent(t.originalException)){t=t.originalException;if(t instanceof i.WrappedException&&r.isPresent(t.originalException)){n=t.originalStack}}return n};return e}();t.ExceptionHandler=s},function(e,t,n){var r=n(16);var i=n(16);t.Reflector=i.Reflector;t.ReflectionInfo=i.ReflectionInfo;var o=n(17);t.reflector=new r.Reflector(new o.ReflectionCapabilities)},function(e,t,n){var r=n(4);var i=n(13);var o=n(11);var a=function(){function e(e,t,n,r,i){this.annotations=e;this.parameters=t;this.factory=n;this.interfaces=r;this.propMetadata=i}return e}();t.ReflectionInfo=a;var s=function(){function e(e){this._injectableInfo=new o.Map;this._getters=new o.Map;this._setters=new o.Map;this._methods=new o.Map;this._usedKeys=null;this.reflectionCapabilities=e}e.prototype.isReflectionEnabled=function(){return this.reflectionCapabilities.isReflectionEnabled()};e.prototype.trackUsage=function(){this._usedKeys=new o.Set};e.prototype.listUnusedKeys=function(){var e=this;if(this._usedKeys==null){throw new i.BaseException("Usage tracking is disabled")}var t=o.MapWrapper.keys(this._injectableInfo);return o.ListWrapper.filter(t,function(t){return!o.SetWrapper.has(e._usedKeys,t)})};e.prototype.registerFunction=function(e,t){this._injectableInfo.set(e,t)};e.prototype.registerType=function(e,t){this._injectableInfo.set(e,t)};e.prototype.registerGetters=function(e){c(this._getters,e)};e.prototype.registerSetters=function(e){c(this._setters,e)};e.prototype.registerMethods=function(e){c(this._methods,e)};e.prototype.factory=function(e){if(this._containsReflectionInfo(e)){var t=this._getReflectionInfo(e).factory;return r.isPresent(t)?t:null}else{return this.reflectionCapabilities.factory(e)}};e.prototype.parameters=function(e){if(this._injectableInfo.has(e)){var t=this._getReflectionInfo(e).parameters;return r.isPresent(t)?t:[]}else{return this.reflectionCapabilities.parameters(e)}};e.prototype.annotations=function(e){if(this._injectableInfo.has(e)){var t=this._getReflectionInfo(e).annotations;return r.isPresent(t)?t:[]}else{return this.reflectionCapabilities.annotations(e)}};e.prototype.propMetadata=function(e){if(this._injectableInfo.has(e)){var t=this._getReflectionInfo(e).propMetadata;return r.isPresent(t)?t:{}}else{return this.reflectionCapabilities.propMetadata(e)}};e.prototype.interfaces=function(e){if(this._injectableInfo.has(e)){var t=this._getReflectionInfo(e).interfaces;return r.isPresent(t)?t:[]}else{return this.reflectionCapabilities.interfaces(e)}};e.prototype.getter=function(e){if(this._getters.has(e)){return this._getters.get(e)}else{return this.reflectionCapabilities.getter(e)}};e.prototype.setter=function(e){if(this._setters.has(e)){return this._setters.get(e)}else{return this.reflectionCapabilities.setter(e)}};e.prototype.method=function(e){if(this._methods.has(e)){return this._methods.get(e)}else{return this.reflectionCapabilities.method(e)}};e.prototype._getReflectionInfo=function(e){if(r.isPresent(this._usedKeys)){this._usedKeys.add(e)}return this._injectableInfo.get(e)};e.prototype._containsReflectionInfo=function(e){return this._injectableInfo.has(e)};e.prototype.importUri=function(e){return this.reflectionCapabilities.importUri(e)};e.prototype.moduleId=function(e){return this.reflectionCapabilities.moduleId(e)};return e}();t.Reflector=s;function c(e,t){o.StringMapWrapper.forEach(t,function(t,n){return e.set(n,t)})}},function(e,t,n){var r=n(4);var i=n(13);var o=n(11);var a=function(){function e(e){this._reflect=r.isPresent(e)?e:r.global.Reflect}e.prototype.isReflectionEnabled=function(){return true};e.prototype.factory=function(e){switch(e.length){case 0:return function(){return new e};case 1:return function(t){return new e(t)};case 2:return function(t,n){return new e(t,n)};case 3:return function(t,n,r){return new e(t,n,r)};case 4:return function(t,n,r,i){return new e(t,n,r,i)};case 5:return function(t,n,r,i,o){return new e(t,n,r,i,o)};case 6:return function(t,n,r,i,o,a){return new e(t,n,r,i,o,a)};case 7:return function(t,n,r,i,o,a,s){return new e(t,n,r,i,o,a,s)};case 8:return function(t,n,r,i,o,a,s,c){return new e(t,n,r,i,o,a,s,c)};case 9:return function(t,n,r,i,o,a,s,c,u){return new e(t,n,r,i,o,a,s,c,u)};case 10:return function(t,n,r,i,o,a,s,c,u,l){return new e(t,n,r,i,o,a,s,c,u,l)};case 11:return function(t,n,r,i,o,a,s,c,u,l,p){return new e(t,n,r,i,o,a,s,c,u,l,p)};case 12:return function(t,n,r,i,o,a,s,c,u,l,p,f){return new e(t,n,r,i,o,a,s,c,u,l,p,f)};case 13:return function(t,n,r,i,o,a,s,c,u,l,p,f,h){return new e(t,n,r,i,o,a,s,c,u,l,p,f,h)};case 14:return function(t,n,r,i,o,a,s,c,u,l,p,f,h,d){return new e(t,n,r,i,o,a,s,c,u,l,p,f,h,d)};case 15:return function(t,n,r,i,o,a,s,c,u,l,p,f,h,d,v){return new e(t,n,r,i,o,a,s,c,u,l,p,f,h,d,v)};case 16:return function(t,n,r,i,o,a,s,c,u,l,p,f,h,d,v,y){return new e(t,n,r,i,o,a,s,c,u,l,p,f,h,d,v,y)};case 17:return function(t,n,r,i,o,a,s,c,u,l,p,f,h,d,v,y,g){return new e(t,n,r,i,o,a,s,c,u,l,p,f,h,d,v,y,g)};case 18:return function(t,n,r,i,o,a,s,c,u,l,p,f,h,d,v,y,g,m){return new e(t,n,r,i,o,a,s,c,u,l,p,f,h,d,v,y,g,m)};case 19:return function(t,n,r,i,o,a,s,c,u,l,p,f,h,d,v,y,g,m,_){return new e(t,n,r,i,o,a,s,c,u,l,p,f,h,d,v,y,g,m,_)};case 20:return function(t,n,r,i,o,a,s,c,u,l,p,f,h,d,v,y,g,m,_,b){return new e(t,n,r,i,o,a,s,c,u,l,p,f,h,d,v,y,g,m,_,b)}}throw new Error("Cannot create a factory for '"+r.stringify(e)+"' because its constructor has more than 20 arguments")};e.prototype._zipTypesAndAnnotaions=function(e,t){var n;if(typeof e==="undefined"){n=o.ListWrapper.createFixedSize(t.length)}else{n=o.ListWrapper.createFixedSize(e.length)}for(var i=0;i<n.length;i++){if(typeof e==="undefined"){n[i]=[]}else if(e[i]!=Object){n[i]=[e[i]]}else{n[i]=[]}if(r.isPresent(t)&&r.isPresent(t[i])){n[i]=n[i].concat(t[i])}}return n};e.prototype.parameters=function(e){if(r.isPresent(e.parameters)){return e.parameters}if(r.isPresent(this._reflect)&&r.isPresent(this._reflect.getMetadata)){var t=this._reflect.getMetadata("parameters",e);var n=this._reflect.getMetadata("design:paramtypes",e);if(r.isPresent(n)||r.isPresent(t)){return this._zipTypesAndAnnotaions(n,t)}}return o.ListWrapper.createFixedSize(e.length)};e.prototype.annotations=function(e){if(r.isPresent(e.annotations)){var t=e.annotations;if(r.isFunction(t)&&t.annotations){t=t.annotations}return t}if(r.isPresent(this._reflect)&&r.isPresent(this._reflect.getMetadata)){var t=this._reflect.getMetadata("annotations",e);if(r.isPresent(t))return t}return[]};e.prototype.propMetadata=function(e){if(r.isPresent(e.propMetadata)){var t=e.propMetadata;if(r.isFunction(t)&&t.propMetadata){t=t.propMetadata}return t}if(r.isPresent(this._reflect)&&r.isPresent(this._reflect.getMetadata)){var t=this._reflect.getMetadata("propMetadata",e);if(r.isPresent(t))return t}return{}};e.prototype.interfaces=function(e){throw new i.BaseException("JavaScript does not support interfaces")};e.prototype.getter=function(e){return new Function("o","return o."+e+";")};e.prototype.setter=function(e){return new Function("o","v","return o."+e+" = v;")};e.prototype.method=function(e){var t="if (!o."+e+") throw new Error('\""+e+"\" is undefined');\n        return o."+e+".apply(o, args);";return new Function("o","args",t)};e.prototype.importUri=function(e){return"./"};e.prototype.moduleId=function(e){return null};return e}();t.ReflectionCapabilities=a},function(e,t,n){var r=n(11);var i=n(4);var o=n(13);var a=n(19);var s=n(9);var c=n(19);t.TypeLiteral=c.TypeLiteral;var u=function(){function e(e,t){this.token=e;this.id=t;if(i.isBlank(e)){throw new o.BaseException("Token must be defined!")}}Object.defineProperty(e.prototype,"displayName",{get:function(){return i.stringify(this.token)},enumerable:true,configurable:true});e.get=function(e){return p.get(s.resolveForwardRef(e))};Object.defineProperty(e,"numberOfKeys",{get:function(){return p.numberOfKeys},enumerable:true,configurable:true});return e}();t.Key=u;var l=function(){function e(){this._allKeys=new Map}e.prototype.get=function(e){if(e instanceof u)return e;var t=e;if(e instanceof a.TypeLiteral){t=e.type}e=t;if(this._allKeys.has(e)){return this._allKeys.get(e)}var n=new u(e,u.numberOfKeys);this._allKeys.set(e,n);return n};Object.defineProperty(e.prototype,"numberOfKeys",{get:function(){return r.MapWrapper.size(this._allKeys)},enumerable:true,configurable:true});return e}();t.KeyRegistry=l;var p=new l},function(e,t){var n=function(){function e(){}Object.defineProperty(e.prototype,"type",{get:function(){throw new Error("Type literals are only supported in Dart")},enumerable:true,configurable:true});return e}();t.TypeLiteral=n},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=n(11);var o=n(4);var a=n(13);function s(e){var t=[];for(var n=0;n<e.length;++n){if(i.ListWrapper.contains(t,e[n])){t.push(e[n]);return t}else{t.push(e[n])}}return t}function c(e){if(e.length>1){var t=s(i.ListWrapper.reversed(e));var n=i.ListWrapper.map(t,function(e){return o.stringify(e.token)});return" ("+n.join(" -> ")+")"}else{return""}}var u=function(e){r(t,e);function t(t,n,r){e.call(this,"DI Exception");this.keys=[n];this.injectors=[t];this.constructResolvingMessage=r;this.message=this.constructResolvingMessage(this.keys)}t.prototype.addKey=function(e,t){this.injectors.push(e);this.keys.push(t);this.message=this.constructResolvingMessage(this.keys)};Object.defineProperty(t.prototype,"context",{get:function(){return this.injectors[this.injectors.length-1].debugContext()},enumerable:true,configurable:true});return t}(a.BaseException);t.AbstractBindingError=u;var l=function(e){r(t,e);function t(t,n){e.call(this,t,n,function(e){var t=o.stringify(i.ListWrapper.first(e).token);return"No provider for "+t+"!"+c(e)})}return t}(u);t.NoBindingError=l;var p=function(e){r(t,e);function t(t,n){e.call(this,t,n,function(e){return"Cannot instantiate cyclic dependency!"+c(e)})}return t}(u);t.CyclicDependencyError=p;var f=function(e){r(t,e);function t(t,n,r,i){e.call(this,"DI Exception",n,r,null);this.keys=[i];this.injectors=[t]}t.prototype.addKey=function(e,t){this.injectors.push(e);this.keys.push(t)};Object.defineProperty(t.prototype,"wrapperMessage",{get:function(){var e=o.stringify(i.ListWrapper.first(this.keys).token);return"Error during instantiation of "+e+"!"+c(this.keys)+"."},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"causeKey",{get:function(){return this.keys[0]},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"context",{get:function(){return this.injectors[this.injectors.length-1].debugContext()},enumerable:true,configurable:true});return t}(a.WrappedException);t.InstantiationError=f;var h=function(e){r(t,e);function t(t){e.call(this,"Invalid binding - only instances of Binding and Type are allowed, got: "+t.toString())}return t}(a.BaseException);t.InvalidBindingError=h;var d=function(e){r(t,e);function t(n,r){e.call(this,t._genMessage(n,r))}t._genMessage=function(e,t){var n=[];for(var r=0,a=t.length;r<a;r++){var s=t[r];if(o.isBlank(s)||s.length==0){n.push("?")}else{n.push(i.ListWrapper.map(s,o.stringify).join(" "))}}return"Cannot resolve all parameters for "+o.stringify(e)+"("+n.join(", ")+"). "+"Make sure they all have valid type or annotations."};return t}(a.BaseException);t.NoAnnotationError=d;var v=function(e){r(t,e);function t(t){e.call(this,"Index "+t+" is out-of-bounds.")}return t}(a.BaseException);t.OutOfBoundsError=v;var y=function(e){r(t,e);function t(t,n){e.call(this,"Cannot mix multi bindings and regular bindings, got: "+t.toString()+" "+n.toString())}return t}(a.BaseException);t.MixingMultiBindingsWithRegularBindings=y},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(4);var a=function(){function e(e){this._desc=e}e.prototype.toString=function(){return"Token "+this._desc};e=r([o.CONST(),i("design:paramtypes",[String])],e);return e}();t.OpaqueToken=a},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var o=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var a=n(4);var s=n(6);var c=n(23);var u=function(e){r(t,e);function t(t){var n=t===void 0?{}:t,r=n.selector,i=n.properties,o=n.events,a=n.host,s=n.bindings,c=n.exportAs,u=n.moduleId,l=n.queries,p=n.compileChildren,f=p===void 0?true:p;e.call(this);this.selector=r;this.properties=i;this.events=o;this.host=a;this.exportAs=c;this.moduleId=u;this.queries=l;this.compileChildren=f;this.bindings=s}t=i([a.CONST(),o("design:paramtypes",[Object])],t);return t}(s.InjectableMetadata);t.DirectiveMetadata=u;var l=function(e){r(t,e);function t(t){var n=t===void 0?{}:t,r=n.selector,i=n.properties,o=n.events,a=n.host,s=n.exportAs,u=n.moduleId,l=n.bindings,p=n.viewBindings,f=n.changeDetection,h=f===void 0?c.ChangeDetectionStrategy.Default:f,d=n.queries,v=n.compileChildren,y=v===void 0?true:v;e.call(this,{selector:r,properties:i,events:o,host:a,exportAs:s,moduleId:u,bindings:l,queries:d,compileChildren:y});this.changeDetection=h;this.viewBindings=p}t=i([a.CONST(),o("design:paramtypes",[Object])],t);return t}(u);t.ComponentMetadata=l;var p=function(e){r(t,e);function t(t){var n=t.name,r=t.pure;e.call(this);this.name=n;this._pure=r}Object.defineProperty(t.prototype,"pure",{get:function(){return a.isPresent(this._pure)?this._pure:true},enumerable:true,configurable:true});t=i([a.CONST(),o("design:paramtypes",[Object])],t);return t}(s.InjectableMetadata);t.PipeMetadata=p;var f=function(){function e(e){this.bindingPropertyName=e}e=i([a.CONST(),o("design:paramtypes",[String])],e);return e}();t.PropertyMetadata=f;var h=function(){function e(e){this.bindingPropertyName=e}e=i([a.CONST(),o("design:paramtypes",[String])],e);return e}();t.EventMetadata=h;var d=function(){function e(e){this.hostPropertyName=e}e=i([a.CONST(),o("design:paramtypes",[String])],e);return e}();t.HostBindingMetadata=d;var v=function(){function e(e,t){this.eventName=e;this.args=t}e=i([a.CONST(),o("design:paramtypes",[String,Array])],e);return e}();t.HostListenerMetadata=v},function(e,t,n){var r=n(24);t.ChangeDetectionStrategy=r.ChangeDetectionStrategy;t.ExpressionChangedAfterItHasBeenCheckedException=r.ExpressionChangedAfterItHasBeenCheckedException;t.ChangeDetectionError=r.ChangeDetectionError;t.Locals=r.Locals;t.ChangeDetectorRef=r.ChangeDetectorRef;t.WrappedValue=r.WrappedValue;t.IterableDiffers=r.IterableDiffers;t.KeyValueDiffers=r.KeyValueDiffers},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var o=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var a=n(25);var s=n(47);var c=n(42);var u=n(48);var l=n(49);var p=n(50);var f=n(51);var h=n(52);var d=n(5);var v=n(11);var y=n(4);var g=n(43);t.ASTWithSource=g.ASTWithSource;t.AST=g.AST;t.AstTransformer=g.AstTransformer;t.PropertyRead=g.PropertyRead;t.LiteralArray=g.LiteralArray;t.ImplicitReceiver=g.ImplicitReceiver;var m=n(53);t.Lexer=m.Lexer;var _=n(54);t.Parser=_.Parser;var b=n(55);t.Locals=b.Locals;var w=n(34);t.DehydratedException=w.DehydratedException;t.ExpressionChangedAfterItHasBeenCheckedException=w.ExpressionChangedAfterItHasBeenCheckedException;t.ChangeDetectionError=w.ChangeDetectionError;var C=n(52);t.ChangeDetection=C.ChangeDetection;t.ChangeDetectorDefinition=C.ChangeDetectorDefinition;t.DebugContext=C.DebugContext;t.ChangeDetectorGenConfig=C.ChangeDetectorGenConfig;var E=n(29);t.ChangeDetectionStrategy=E.ChangeDetectionStrategy;t.CHANGE_DECTION_STRATEGY_VALUES=E.CHANGE_DECTION_STRATEGY_VALUES;var R=n(42);t.DynamicProtoChangeDetector=R.DynamicProtoChangeDetector;var P=n(31);t.BindingRecord=P.BindingRecord;t.BindingTarget=P.BindingTarget;var D=n(32);t.DirectiveIndex=D.DirectiveIndex;t.DirectiveRecord=D.DirectiveRecord;var I=n(44);t.DynamicChangeDetector=I.DynamicChangeDetector;var x=n(33);t.ChangeDetectorRef=x.ChangeDetectorRef;var O=n(48);t.IterableDiffers=O.IterableDiffers;var S=n(50);t.KeyValueDiffers=S.KeyValueDiffers;var N=n(28);t.WrappedValue=N.WrappedValue;t.keyValDiff=y.CONST_EXPR([y.CONST_EXPR(new f.DefaultKeyValueDifferFactory)]);t.iterableDiff=y.CONST_EXPR([y.CONST_EXPR(new l.DefaultIterableDifferFactory)]);t.defaultIterableDiffers=y.CONST_EXPR(new u.IterableDiffers(t.iterableDiff));t.defaultKeyValueDiffers=y.CONST_EXPR(new p.KeyValueDiffers(t.keyValDiff));t.preGeneratedProtoDetectors={};var M=function(e){r(n,e);function n(n,r){e.call(this);this._dynamicChangeDetection=new B;this._protoChangeDetectorFactories=y.isPresent(r)?r:t.preGeneratedProtoDetectors;this._genConfig=y.isPresent(n)?n:new h.ChangeDetectorGenConfig(y.assertionsEnabled(),y.assertionsEnabled(),false,false)}n.isSupported=function(){return s.PregenProtoChangeDetector.isSupported()};n.prototype.getProtoChangeDetector=function(e,t){if(v.StringMapWrapper.contains(this._protoChangeDetectorFactories,e)){return v.StringMapWrapper.get(this._protoChangeDetectorFactories,e)(t)}return this._dynamicChangeDetection.getProtoChangeDetector(e,t)};Object.defineProperty(n.prototype,"genConfig",{get:function(){return this._genConfig},enumerable:true,configurable:true});Object.defineProperty(n.prototype,"generateDetectors",{get:function(){return true},enumerable:true,configurable:true});n=i([d.Injectable(),o("design:paramtypes",[h.ChangeDetectorGenConfig,Object])],n);return n}(h.ChangeDetection);t.PreGeneratedChangeDetection=M;var B=function(e){r(t,e);function t(t){e.call(this);this._genConfig=y.isPresent(t)?t:new h.ChangeDetectorGenConfig(y.assertionsEnabled(),y.assertionsEnabled(),false,false)}t.prototype.getProtoChangeDetector=function(e,t){return new c.DynamicProtoChangeDetector(t)};Object.defineProperty(t.prototype,"genConfig",{get:function(){return this._genConfig},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"generateDetectors",{get:function(){return true},enumerable:true,configurable:true});t=i([d.Injectable(),o("design:paramtypes",[h.ChangeDetectorGenConfig])],t);return t}(h.ChangeDetection);t.DynamicChangeDetection=B;var A=function(e){r(t,e);function t(t){e.call(this);this._genConfig=y.isPresent(t)?t:new h.ChangeDetectorGenConfig(y.assertionsEnabled(),y.assertionsEnabled(),false,true)}t.isSupported=function(){return a.JitProtoChangeDetector.isSupported()};t.prototype.getProtoChangeDetector=function(e,t){return new a.JitProtoChangeDetector(t)};Object.defineProperty(t.prototype,"genConfig",{get:function(){return this._genConfig},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"generateDetectors",{get:function(){return true},enumerable:true,configurable:true});t=i([d.Injectable(),o("design:paramtypes",[h.ChangeDetectorGenConfig])],t);return t}(h.ChangeDetection);t.JitChangeDetection=A},function(e,t,n){var r=n(26);var i=function(){
function e(e){this.definition=e;this._factory=this._createFactory(e)}e.isSupported=function(){return true};e.prototype.instantiate=function(e){return this._factory(e)};e.prototype._createFactory=function(e){return new r.ChangeDetectorJITGenerator(e,"util","AbstractChangeDetector").generate()};return e}();t.JitProtoChangeDetector=i},function(e,t,n){var r=n(4);var i=n(13);var o=n(27);var a=n(28);var s=n(38);var c=n(39);var u=n(40);var l=n(42);var p="isChanged";var f="changes";var h=function(){function e(e,t,n){this.changeDetectionUtilVarName=t;this.abstractChangeDetectorVarName=n;var r=l.createPropertyRecords(e);var i=l.createEventRecords(e);var o=e.bindingRecords.map(function(e){return e.target});this.id=e.id;this.changeDetectionStrategy=e.strategy;this.genConfig=e.genConfig;this.records=r;this.propertyBindingTargets=o;this.eventBindings=i;this.directiveRecords=e.directiveRecords;this._names=new s.CodegenNameUtil(this.records,this.eventBindings,this.directiveRecords,this.changeDetectionUtilVarName);this._logic=new c.CodegenLogicUtil(this._names,this.changeDetectionUtilVarName,this.changeDetectionStrategy);this.typeName=s.sanitizeName("ChangeDetector_"+this.id)}e.prototype.generate=function(){var e="\n      "+this.generateSource()+"\n      return function(dispatcher) {\n        return new "+this.typeName+"(dispatcher);\n      }\n    ";return new Function(this.abstractChangeDetectorVarName,this.changeDetectionUtilVarName,e)(o.AbstractChangeDetector,a.ChangeDetectionUtil)};e.prototype.generateSource=function(){var e=this;return"\n      var "+this.typeName+" = function "+this.typeName+"(dispatcher) {\n        "+this.abstractChangeDetectorVarName+".call(\n            this, "+JSON.stringify(this.id)+", dispatcher, "+this.records.length+",\n            "+this.typeName+".gen_propertyBindingTargets, "+this.typeName+".gen_directiveIndices,\n            "+u.codify(this.changeDetectionStrategy)+");\n        this.dehydrateDirectives(false);\n      }\n\n      "+this.typeName+".prototype = Object.create("+this.abstractChangeDetectorVarName+".prototype);\n\n      "+this.typeName+".prototype.detectChangesInRecordsInternal = function(throwOnChange) {\n        "+this._names.genInitLocals()+"\n        var "+p+" = false;\n        var "+f+" = null;\n\n        "+this.records.map(function(t){return e._genRecord(t)}).join("\n")+"\n      }\n\n      "+this._maybeGenHandleEventInternal()+"\n\n      "+this._genCheckNoChanges()+"\n\n      "+this._maybeGenAfterContentLifecycleCallbacks()+"\n\n      "+this._maybeGenAfterViewLifecycleCallbacks()+"\n\n      "+this._maybeGenHydrateDirectives()+"\n\n      "+this._maybeGenDehydrateDirectives()+"\n\n      "+this._genPropertyBindingTargets()+"\n\n      "+this._genDirectiveIndices()+"\n    "};e.prototype._genPropertyBindingTargets=function(){var e=this._logic.genPropertyBindingTargets(this.propertyBindingTargets,this.genConfig.genDebugInfo);return this.typeName+".gen_propertyBindingTargets = "+e+";"};e.prototype._genDirectiveIndices=function(){var e=this._logic.genDirectiveIndices(this.directiveRecords);return this.typeName+".gen_directiveIndices = "+e+";"};e.prototype._maybeGenHandleEventInternal=function(){var e=this;if(this.eventBindings.length>0){var t=this.eventBindings.map(function(t){return e._genEventBinding(t)}).join("\n");return"\n        "+this.typeName+".prototype.handleEventInternal = function(eventName, elIndex, locals) {\n          var "+this._names.getPreventDefaultAccesor()+" = false;\n          "+this._names.genInitEventLocals()+"\n          "+t+"\n          return "+this._names.getPreventDefaultAccesor()+";\n        }\n      "}else{return""}};e.prototype._genEventBinding=function(e){var t=this;var n=e.records.map(function(n){return t._genEventBindingEval(e,n)}).join("\n");return'\n    if (eventName === "'+e.eventName+'" && elIndex === '+e.elIndex+") {\n      "+n+"\n    }"};e.prototype._genEventBindingEval=function(e,t){if(t.lastInBinding){var n=this._logic.genEventBindingEvalValue(e,t);var r=this._genMarkPathToRootAsCheckOnce(t);var i=this._genUpdatePreventDefault(e,t);return n+"\n"+r+"\n"+i}else{return this._logic.genEventBindingEvalValue(e,t)}};e.prototype._genMarkPathToRootAsCheckOnce=function(e){var t=e.bindingRecord;if(t.isDefaultChangeDetection()){return""}else{return this._names.getDetectorName(t.directiveRecord.directiveIndex)+".markPathToRootAsCheckOnce();"}};e.prototype._genUpdatePreventDefault=function(e,t){var n=this._names.getEventLocalName(e,t.selfIndex);return"if ("+n+" === false) { "+this._names.getPreventDefaultAccesor()+" = true};"};e.prototype._maybeGenDehydrateDirectives=function(){var e=this._names.genPipeOnDestroy();if(e){e="if (destroyPipes) { "+e+" }"}var t=this._names.genDehydrateFields();if(!e&&!t)return"";return this.typeName+".prototype.dehydrateDirectives = function(destroyPipes) {\n        "+e+"\n        "+t+"\n    }"};e.prototype._maybeGenHydrateDirectives=function(){var e=this._logic.genHydrateDirectives(this.directiveRecords);var t=this._logic.genHydrateDetectors(this.directiveRecords);if(!e&&!t)return"";return this.typeName+".prototype.hydrateDirectives = function(directives) {\n      "+e+"\n      "+t+"\n    }"};e.prototype._maybeGenAfterContentLifecycleCallbacks=function(){var e=this._logic.genContentLifecycleCallbacks(this.directiveRecords);if(e.length>0){var t=e.join("\n");return"\n        "+this.typeName+".prototype.afterContentLifecycleCallbacksInternal = function() {\n          "+t+"\n        }\n      "}else{return""}};e.prototype._maybeGenAfterViewLifecycleCallbacks=function(){var e=this._logic.genViewLifecycleCallbacks(this.directiveRecords);if(e.length>0){var t=e.join("\n");return"\n        "+this.typeName+".prototype.afterViewLifecycleCallbacksInternal = function() {\n          "+t+"\n        }\n      "}else{return""}};e.prototype._genRecord=function(e){var t;if(e.isLifeCycleRecord()){t=this._genDirectiveLifecycle(e)}else if(e.isPipeRecord()){t=this._genPipeCheck(e)}else{t=this._genReferenceCheck(e)}return"\n      "+this._maybeFirstInBinding(e)+"\n      "+t+"\n      "+this._maybeGenLastInDirective(e)+"\n    "};e.prototype._genDirectiveLifecycle=function(e){if(e.name==="DoCheck"){return this._genOnCheck(e)}else if(e.name==="OnInit"){return this._genOnInit(e)}else if(e.name==="OnChanges"){return this._genOnChange(e)}else{throw new i.BaseException("Unknown lifecycle event '"+e.name+"'")}};e.prototype._genPipeCheck=function(e){var t=this;var n=this._names.getLocalName(e.contextIndex);var r=e.args.map(function(e){return t._names.getLocalName(e)}).join(", ");var i=this._names.getFieldName(e.selfIndex);var o=this._names.getLocalName(e.selfIndex);var a=this._names.getPipeName(e.selfIndex);var s=e.name;var c="\n      if ("+a+" === "+this.changeDetectionUtilVarName+".uninitialized) {\n        "+a+" = "+this._names.getPipesAccessorName()+".get('"+s+"');\n      }\n    ";var u=o+" = "+a+".pipe.transform("+n+", ["+r+"]);";var l=e.args.map(function(e){return t._names.getChangeName(e)});l.push(this._names.getChangeName(e.contextIndex));var p="!"+a+".pure || ("+l.join(" || ")+")";var f="\n      if ("+i+" !== "+o+") {\n        "+o+" = "+this.changeDetectionUtilVarName+".unwrapValue("+o+")\n        "+this._genChangeMarker(e)+"\n        "+this._genUpdateDirectiveOrElement(e)+"\n        "+this._genAddToChanges(e)+"\n        "+i+" = "+o+";\n      }\n    ";var h=e.shouldBeChecked()?""+u+f:u;if(e.isUsedByOtherRecord()){return c+" if ("+p+") { "+h+" } else { "+o+" = "+i+"; }"}else{return c+" if ("+p+") { "+h+" }"}};e.prototype._genReferenceCheck=function(e){var t=this;var n=this._names.getFieldName(e.selfIndex);var r=this._names.getLocalName(e.selfIndex);var i="\n      "+this._logic.genPropertyBindingEvalValue(e)+"\n    ";var o="\n      if ("+r+" !== "+n+") {\n        "+this._genChangeMarker(e)+"\n        "+this._genUpdateDirectiveOrElement(e)+"\n        "+this._genAddToChanges(e)+"\n        "+n+" = "+r+";\n      }\n    ";var a=e.shouldBeChecked()?""+i+o:i;if(e.isPureFunction()){var s=e.args.map(function(e){return t._names.getChangeName(e)}).join(" || ");if(e.isUsedByOtherRecord()){return"if ("+s+") { "+a+" } else { "+r+" = "+n+"; }"}else{return"if ("+s+") { "+a+" }"}}else{return a}};e.prototype._genChangeMarker=function(e){return e.argumentToPureFunction?this._names.getChangeName(e.selfIndex)+" = true":""};e.prototype._genUpdateDirectiveOrElement=function(e){if(!e.lastInBinding)return"";var t=this._names.getLocalName(e.selfIndex);var n=this._names.getFieldName(e.selfIndex);var r=this.genConfig.logBindingUpdate?"this.logBindingUpdate("+t+");":"";var i=e.bindingRecord;if(i.target.isDirective()){var o=this._names.getDirectiveName(i.directiveRecord.directiveIndex)+"."+i.target.name;return"\n        "+this._genThrowOnChangeCheck(n,t)+"\n        "+o+" = "+t+";\n        "+r+"\n        "+p+" = true;\n      "}else{return"\n        "+this._genThrowOnChangeCheck(n,t)+"\n        this.notifyDispatcher("+t+");\n        "+r+"\n      "}};e.prototype._genThrowOnChangeCheck=function(e,t){if(this.genConfig.genCheckNoChanges){return"\n        if(throwOnChange) {\n          this.throwOnChangeError("+e+", "+t+");\n        }\n        "}else{return""}};e.prototype._genCheckNoChanges=function(){if(this.genConfig.genCheckNoChanges){return this.typeName+".prototype.checkNoChanges = function() { this.runDetectChanges(true); }"}else{return""}};e.prototype._genAddToChanges=function(e){var t=this._names.getLocalName(e.selfIndex);var n=this._names.getFieldName(e.selfIndex);if(!e.bindingRecord.callOnChanges())return"";return f+" = this.addChange("+f+", "+n+", "+t+");"};e.prototype._maybeFirstInBinding=function(e){var t=a.ChangeDetectionUtil.protoByIndex(this.records,e.selfIndex-1);var n=r.isBlank(t)||t.bindingRecord!==e.bindingRecord;return n&&!e.bindingRecord.isDirectiveLifecycle()?this._names.getPropertyBindingIndex()+" = "+e.propertyBindingIndex+";":""};e.prototype._maybeGenLastInDirective=function(e){if(!e.lastInDirective)return"";return"\n      "+f+" = null;\n      "+this._genNotifyOnPushDetectors(e)+"\n      "+p+" = false;\n    "};e.prototype._genOnCheck=function(e){var t=e.bindingRecord;return"if (!throwOnChange) "+this._names.getDirectiveName(t.directiveRecord.directiveIndex)+".doCheck();"};e.prototype._genOnInit=function(e){var t=e.bindingRecord;return"if (!throwOnChange && !"+this._names.getAlreadyCheckedName()+") "+this._names.getDirectiveName(t.directiveRecord.directiveIndex)+".onInit();"};e.prototype._genOnChange=function(e){var t=e.bindingRecord;return"if (!throwOnChange && "+f+") "+this._names.getDirectiveName(t.directiveRecord.directiveIndex)+".onChanges("+f+");"};e.prototype._genNotifyOnPushDetectors=function(e){var t=e.bindingRecord;if(!e.lastInDirective||t.isDefaultChangeDetection())return"";var n="\n      if("+p+") {\n        "+this._names.getDetectorName(t.directiveRecord.directiveIndex)+".markAsCheckOnce();\n      }\n    ";return n};return e}();t.ChangeDetectorJITGenerator=h},function(e,t,n){var r=n(4);var i=n(13);var o=n(11);var a=n(28);var s=n(33);var c=n(34);var u=n(29);var l=n(35);var p=n(37);var f=l.wtfCreateScope("ChangeDetector#check(ascii id, bool throwOnChange)");var h=function(){function e(e,t,n,r,i,o){this.element=e;this.componentElement=t;this.context=n;this.locals=r;this.injector=i;this.expression=o}return e}();var d=function(){function e(e,t,n,r,i,o){this.id=e;this.dispatcher=t;this.numberOfPropertyProtoRecords=n;this.bindingTargets=r;this.directiveIndices=i;this.strategy=o;this.lightDomChildren=[];this.shadowDomChildren=[];this.alreadyChecked=false;this.locals=null;this.mode=null;this.pipes=null;this.ref=new s.ChangeDetectorRef(this)}e.prototype.addChild=function(e){this.lightDomChildren.push(e);e.parent=this};e.prototype.removeChild=function(e){o.ListWrapper.remove(this.lightDomChildren,e)};e.prototype.addShadowDomChild=function(e){this.shadowDomChildren.push(e);e.parent=this};e.prototype.removeShadowDomChild=function(e){o.ListWrapper.remove(this.shadowDomChildren,e)};e.prototype.remove=function(){this.parent.removeChild(this)};e.prototype.handleEvent=function(e,t,n){var r=this.handleEventInternal(e,t,n);this.markPathToRootAsCheckOnce();return r};e.prototype.handleEventInternal=function(e,t,n){return false};e.prototype.detectChanges=function(){this.runDetectChanges(false)};e.prototype.checkNoChanges=function(){throw new i.BaseException("Not implemented")};e.prototype.runDetectChanges=function(e){if(this.mode===u.ChangeDetectionStrategy.Detached||this.mode===u.ChangeDetectionStrategy.Checked)return;var t=f(this.id,e);this.detectChangesInRecords(e);this._detectChangesInLightDomChildren(e);if(!e)this.afterContentLifecycleCallbacks();this._detectChangesInShadowDomChildren(e);if(!e)this.afterViewLifecycleCallbacks();if(this.mode===u.ChangeDetectionStrategy.CheckOnce)this.mode=u.ChangeDetectionStrategy.Checked;this.alreadyChecked=true;l.wtfLeave(t)};e.prototype.detectChangesInRecords=function(e){if(!this.hydrated()){this.throwDehydratedError()}try{this.detectChangesInRecordsInternal(e)}catch(t){this._throwError(t,t.stack)}};e.prototype.detectChangesInRecordsInternal=function(e){};e.prototype.hydrate=function(e,t,n,r){this.mode=a.ChangeDetectionUtil.changeDetectionMode(this.strategy);this.context=e;if(this.strategy===u.ChangeDetectionStrategy.OnPushObserve){this.observeComponent(e)}this.locals=t;this.pipes=r;this.hydrateDirectives(n);this.alreadyChecked=false};e.prototype.hydrateDirectives=function(e){};e.prototype.dehydrate=function(){this.dehydrateDirectives(true);if(this.strategy===u.ChangeDetectionStrategy.OnPushObserve){this._unsubsribeFromObservables()}this.context=null;this.locals=null;this.pipes=null};e.prototype.dehydrateDirectives=function(e){};e.prototype.hydrated=function(){return this.context!==null};e.prototype.afterContentLifecycleCallbacks=function(){this.dispatcher.notifyAfterContentChecked();this.afterContentLifecycleCallbacksInternal()};e.prototype.afterContentLifecycleCallbacksInternal=function(){};e.prototype.afterViewLifecycleCallbacks=function(){this.dispatcher.notifyAfterViewChecked();this.afterViewLifecycleCallbacksInternal()};e.prototype.afterViewLifecycleCallbacksInternal=function(){};e.prototype._detectChangesInLightDomChildren=function(e){var t=this.lightDomChildren;for(var n=0;n<t.length;++n){t[n].runDetectChanges(e)}};e.prototype._detectChangesInShadowDomChildren=function(e){var t=this.shadowDomChildren;for(var n=0;n<t.length;++n){t[n].runDetectChanges(e)}};e.prototype.markAsCheckOnce=function(){this.mode=u.ChangeDetectionStrategy.CheckOnce};e.prototype.markPathToRootAsCheckOnce=function(){var e=this;while(r.isPresent(e)&&e.mode!==u.ChangeDetectionStrategy.Detached){if(e.mode===u.ChangeDetectionStrategy.Checked)e.mode=u.ChangeDetectionStrategy.CheckOnce;e=e.parent}};e.prototype._unsubsribeFromObservables=function(){if(r.isPresent(this.subscriptions)){for(var e=0;e<this.subscriptions.length;++e){var t=this.subscriptions[e];if(r.isPresent(this.subscriptions[e])){t.cancel();this.subscriptions[e]=null}}}};e.prototype.observeValue=function(e,t){var n=this;if(p.isObservable(e)){this._createArrayToStoreObservables();if(r.isBlank(this.subscriptions[t])){this.streams[t]=e.changes;this.subscriptions[t]=e.changes.listen(function(e){return n.ref.markForCheck()})}else if(this.streams[t]!==e.changes){this.subscriptions[t].cancel();this.streams[t]=e.changes;this.subscriptions[t]=e.changes.listen(function(e){return n.ref.markForCheck()})}}return e};e.prototype.observeDirective=function(e,t){var n=this;if(p.isObservable(e)){this._createArrayToStoreObservables();var r=this.numberOfPropertyProtoRecords+t+2;this.streams[r]=e.changes;this.subscriptions[r]=e.changes.listen(function(e){return n.ref.markForCheck()})}return e};e.prototype.observeComponent=function(e){var t=this;if(p.isObservable(e)){this._createArrayToStoreObservables();var n=this.numberOfPropertyProtoRecords+1;this.streams[n]=e.changes;this.subscriptions[n]=e.changes.listen(function(e){return t.ref.markForCheck()})}return e};e.prototype._createArrayToStoreObservables=function(){if(r.isBlank(this.subscriptions)){this.subscriptions=o.ListWrapper.createFixedSize(this.numberOfPropertyProtoRecords+this.directiveIndices.length+2);this.streams=o.ListWrapper.createFixedSize(this.numberOfPropertyProtoRecords+this.directiveIndices.length+2)}};e.prototype.getDirectiveFor=function(e,t){return e.getDirectiveFor(this.directiveIndices[t])};e.prototype.getDetectorFor=function(e,t){return e.getDetectorFor(this.directiveIndices[t])};e.prototype.notifyDispatcher=function(e){this.dispatcher.notifyOnBinding(this._currentBinding(),e)};e.prototype.logBindingUpdate=function(e){this.dispatcher.logBindingUpdate(this._currentBinding(),e)};e.prototype.addChange=function(e,t,n){if(r.isBlank(e)){e={}}e[this._currentBinding().name]=a.ChangeDetectionUtil.simpleChange(t,n);return e};e.prototype._throwError=function(e,t){var n=this.dispatcher.getDebugContext(this._currentBinding().elementIndex,null);var i=r.isPresent(n)?new h(n.element,n.componentElement,n.context,n.locals,n.injector,this._currentBinding().debug):null;throw new c.ChangeDetectionError(this._currentBinding().debug,e,t,i)};e.prototype.throwOnChangeError=function(e,t){throw new c.ExpressionChangedAfterItHasBeenCheckedException(this._currentBinding().debug,e,t,null)};e.prototype.throwDehydratedError=function(){throw new c.DehydratedException};e.prototype._currentBinding=function(){return this.bindingTargets[this.propertyBindingIndex]};return e}();t.AbstractChangeDetector=d},function(e,t,n){var r=n(4);var i=n(13);var o=n(11);var a=n(29);var s=n(30);var c=n(31);var u=n(32);var l=function(){function e(e){this.wrapped=e}e.wrap=function(e){var t=p[f++%5];t.wrapped=e;return t};return e}();t.WrappedValue=l;var p=[new l(null),new l(null),new l(null),new l(null),new l(null)];var f=0;var h=function(){function e(e,t){this.previousValue=e;this.currentValue=t}e.prototype.isFirstChange=function(){return this.previousValue===g.uninitialized};return e}();t.SimpleChange=h;var d=0;var v=[new h(null,null),new h(null,null),new h(null,null),new h(null,null),new h(null,null),new h(null,null),new h(null,null),new h(null,null),new h(null,null),new h(null,null),new h(null,null),new h(null,null),new h(null,null),new h(null,null),new h(null,null),new h(null,null),new h(null,null),new h(null,null),new h(null,null),new h(null,null)];function y(e,t){var n=d++%20;var r=v[n];r.previousValue=e;r.currentValue=t;return r}var g=function(){function e(){}e.arrayFn0=function(){return[]};e.arrayFn1=function(e){return[e]};e.arrayFn2=function(e,t){return[e,t]};e.arrayFn3=function(e,t,n){return[e,t,n]};e.arrayFn4=function(e,t,n,r){return[e,t,n,r]};e.arrayFn5=function(e,t,n,r,i){return[e,t,n,r,i]};e.arrayFn6=function(e,t,n,r,i,o){return[e,t,n,r,i,o]};e.arrayFn7=function(e,t,n,r,i,o,a){return[e,t,n,r,i,o,a]};e.arrayFn8=function(e,t,n,r,i,o,a,s){return[e,t,n,r,i,o,a,s]};e.arrayFn9=function(e,t,n,r,i,o,a,s,c){return[e,t,n,r,i,o,a,s,c]};e.operation_negate=function(e){return!e};e.operation_add=function(e,t){return e+t};e.operation_subtract=function(e,t){return e-t};e.operation_multiply=function(e,t){return e*t};e.operation_divide=function(e,t){return e/t};e.operation_remainder=function(e,t){return e%t};e.operation_equals=function(e,t){return e==t};e.operation_not_equals=function(e,t){return e!=t};e.operation_identical=function(e,t){return e===t};e.operation_not_identical=function(e,t){return e!==t};e.operation_less_then=function(e,t){return e<t};e.operation_greater_then=function(e,t){return e>t};e.operation_less_or_equals_then=function(e,t){return e<=t};e.operation_greater_or_equals_then=function(e,t){return e>=t};e.operation_logical_and=function(e,t){return e&&t};e.operation_logical_or=function(e,t){return e||t};e.cond=function(e,t,n){return e?t:n};e.mapFn=function(e){function t(t){var n=o.StringMapWrapper.create();for(var r=0;r<e.length;++r){o.StringMapWrapper.set(n,e[r],t[r])}return n}switch(e.length){case 0:return function(){return[]};case 1:return function(e){return t([e])};case 2:return function(e,n){return t([e,n])};case 3:return function(e,n,r){return t([e,n,r])};case 4:return function(e,n,r,i){return t([e,n,r,i])};case 5:return function(e,n,r,i,o){return t([e,n,r,i,o])};case 6:return function(e,n,r,i,o,a){return t([e,n,r,i,o,a])};case 7:return function(e,n,r,i,o,a,s){return t([e,n,r,i,o,a,s])};case 8:return function(e,n,r,i,o,a,s,c){return t([e,n,r,i,o,a,s,c])};case 9:return function(e,n,r,i,o,a,s,c,u){return t([e,n,r,i,o,a,s,c,u])};default:throw new i.BaseException("Does not support literal maps with more than 9 elements")}};e.keyedAccess=function(e,t){return e[t[0]]};e.unwrapValue=function(e){if(e instanceof l){return e.wrapped}else{return e}};e.changeDetectionMode=function(e){return a.isDefaultChangeDetectionStrategy(e)?a.ChangeDetectionStrategy.CheckAlways:a.ChangeDetectionStrategy.CheckOnce};e.simpleChange=function(e,t){return y(e,t)};e.isValueBlank=function(e){return r.isBlank(e)};e.s=function(e){return r.isPresent(e)?""+e:""};e.protoByIndex=function(e,t){return t<1?null:e[t-1]};e.callPipeOnDestroy=function(e){if(s.implementsOnDestroy(e.pipe)){e.pipe.onDestroy()}};e.bindingTarget=function(e,t,n,r,i){return new c.BindingTarget(e,t,n,r,i)};e.directiveIndex=function(e,t){return new u.DirectiveIndex(e,t)};e.uninitialized=r.CONST_EXPR(new Object);return e}();t.ChangeDetectionUtil=g},function(e,t,n){var r=n(4);(function(e){e[e["CheckOnce"]=0]="CheckOnce";e[e["Checked"]=1]="Checked";e[e["CheckAlways"]=2]="CheckAlways";e[e["Detached"]=3]="Detached";e[e["OnPush"]=4]="OnPush";e[e["Default"]=5]="Default";e[e["OnPushObserve"]=6]="OnPushObserve"})(t.ChangeDetectionStrategy||(t.ChangeDetectionStrategy={}));var i=t.ChangeDetectionStrategy;t.CHANGE_DECTION_STRATEGY_VALUES=[i.CheckOnce,i.Checked,i.CheckAlways,i.Detached,i.OnPush,i.Default,i.OnPushObserve];function o(e){return r.isBlank(e)||e===i.Default}t.isDefaultChangeDetectionStrategy=o},function(e,t){function n(e){return e.constructor.prototype.onDestroy}t.implementsOnDestroy=n},function(e,t,n){var r=n(4);var i="directiveLifecycle";var o="native";var a="directive";var s="elementProperty";var c="elementAttribute";var u="elementClass";var l="elementStyle";var p="textNode";var f="event";var h="hostEvent";var d=function(){function e(e,t,n,r,i){this.mode=e;this.elementIndex=t;this.name=n;this.unit=r;this.debug=i}e.prototype.isDirective=function(){return this.mode===a};e.prototype.isElementProperty=function(){return this.mode===s};e.prototype.isElementAttribute=function(){return this.mode===c};e.prototype.isElementClass=function(){return this.mode===u};e.prototype.isElementStyle=function(){return this.mode===l};e.prototype.isTextNode=function(){return this.mode===p};return e}();t.BindingTarget=d;var v=function(){function e(e,t,n,r,i,o,a){this.mode=e;this.target=t;this.implicitReceiver=n;this.ast=r;this.setter=i;this.lifecycleEvent=o;this.directiveRecord=a}e.prototype.isDirectiveLifecycle=function(){return this.mode===i};e.prototype.callOnChanges=function(){return r.isPresent(this.directiveRecord)&&this.directiveRecord.callOnChanges};e.prototype.isDefaultChangeDetection=function(){return r.isBlank(this.directiveRecord)||this.directiveRecord.isDefaultChangeDetection()};e.createDirectiveDoCheck=function(t){return new e(i,null,0,null,null,"DoCheck",t)};e.createDirectiveOnInit=function(t){return new e(i,null,0,null,null,"OnInit",t)};e.createDirectiveOnChanges=function(t){return new e(i,null,0,null,null,"OnChanges",t)};e.createForDirective=function(t,n,r,i){var o=i.directiveIndex.elementIndex;var s=new d(a,o,n,null,t.toString());return new e(a,s,0,t,r,null,i)};e.createForElementProperty=function(t,n,r){var i=new d(s,n,r,null,t.toString());return new e(o,i,0,t,null,null,null)};e.createForElementAttribute=function(t,n,r){var i=new d(c,n,r,null,t.toString());return new e(o,i,0,t,null,null,null)};e.createForElementClass=function(t,n,r){var i=new d(u,n,r,null,t.toString());return new e(o,i,0,t,null,null,null)};e.createForElementStyle=function(t,n,r,i){var a=new d(l,n,r,i,t.toString());return new e(o,a,0,t,null,null,null)};e.createForHostProperty=function(t,n,r){var i=new d(s,t.elementIndex,r,null,n.toString());return new e(o,i,t,n,null,null,null)};e.createForHostAttribute=function(t,n,r){var i=new d(c,t.elementIndex,r,null,n.toString());return new e(o,i,t,n,null,null,null)};e.createForHostClass=function(t,n,r){var i=new d(u,t.elementIndex,r,null,n.toString());return new e(o,i,t,n,null,null,null)};e.createForHostStyle=function(t,n,r,i){var a=new d(l,t.elementIndex,r,i,n.toString());return new e(o,a,t,n,null,null,null)};e.createForTextNode=function(t,n){var r=new d(p,n,null,null,t.toString());return new e(o,r,0,t,null,null,null)};e.createForEvent=function(t,n,r){var i=new d(f,r,n,null,t.toString());return new e(f,i,0,t,null,null,null)};e.createForHostEvent=function(t,n,r){var i=r.directiveIndex;var o=new d(h,i.elementIndex,n,null,t.toString());return new e(h,o,i,t,null,null,r)};return e}();t.BindingRecord=v},function(e,t,n){var r=n(4);var i=n(29);var o=function(){function e(e,t){this.elementIndex=e;this.directiveIndex=t}Object.defineProperty(e.prototype,"name",{get:function(){return this.elementIndex+"_"+this.directiveIndex},enumerable:true,configurable:true});return e}();t.DirectiveIndex=o;var a=function(){function e(e){var t=e===void 0?{}:e,n=t.directiveIndex,i=t.callAfterContentInit,o=t.callAfterContentChecked,a=t.callAfterViewInit,s=t.callAfterViewChecked,c=t.callOnChanges,u=t.callDoCheck,l=t.callOnInit,p=t.changeDetection;this.directiveIndex=n;this.callAfterContentInit=r.normalizeBool(i);this.callAfterContentChecked=r.normalizeBool(o);this.callOnChanges=r.normalizeBool(c);this.callAfterViewInit=r.normalizeBool(a);this.callAfterViewChecked=r.normalizeBool(s);this.callDoCheck=r.normalizeBool(u);this.callOnInit=r.normalizeBool(l);this.changeDetection=p}e.prototype.isDefaultChangeDetection=function(){return i.isDefaultChangeDetectionStrategy(this.changeDetection)};return e}();t.DirectiveRecord=a},function(e,t,n){var r=n(29);var i=function(){function e(e){this._cd=e}e.prototype.markForCheck=function(){this._cd.markPathToRootAsCheckOnce()};e.prototype.detach=function(){this._cd.mode=r.ChangeDetectionStrategy.Detached};e.prototype.detectChanges=function(){this._cd.detectChanges()};e.prototype.reattach=function(){this._cd.mode=r.ChangeDetectionStrategy.CheckAlways;this.markForCheck()};return e}();t.ChangeDetectorRef=i},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=n(13);var o=function(e){r(t,e);function t(t,n,r,i){e.call(this,"Expression '"+t+"' has changed after it was checked. "+("Previous value: '"+n+"'. Current value: '"+r+"'"))}return t}(i.BaseException);t.ExpressionChangedAfterItHasBeenCheckedException=o;var a=function(e){r(t,e);function t(t,n,r,i){e.call(this,n+" in ["+t+"]",n,r,i);this.location=t}return t}(i.WrappedException);t.ChangeDetectionError=a;var s=function(e){r(t,e);function t(){e.call(this,"Attempt to detect changes on a dehydrated detector.")}return t}(i.BaseException);t.DehydratedException=s},function(e,t,n){var r=n(36);t.wtfEnabled=r.detectWTF();function i(e,t){return null}t.wtfCreateScope=t.wtfEnabled?r.createScope:function(e,t){return i};t.wtfLeave=t.wtfEnabled?r.leave:function(e,t){return t};t.wtfStartTimeRange=t.wtfEnabled?r.startTimeRange:function(e,t){return null};t.wtfEndTimeRange=t.wtfEnabled?r.endTimeRange:function(e){return null}},function(e,t,n){var r=n(4);var i;var o;function a(){var e=r.global["wtf"];if(e){i=e["trace"];if(i){o=i["events"];return true}}return false}t.detectWTF=a;function s(e,t){if(t===void 0){t=null}return o.createScope(e,t)}t.createScope=s;function c(e,t){i.leaveScope(e,t);return t}t.leave=c;function u(e,t){return i.beginTimeRange(e,t)}t.startTimeRange=u;function l(e){i.endTimeRange(e)}t.endTimeRange=l},function(e,t){function n(e){return false}t.isObservable=n},function(e,t,n){var r=n(4);var i=n(11);var o="alreadyChecked";var a="context";var s="propertyBindingIndex";var c="directiveIndices";var u="dispatcher";var l="locals";var p="mode";var f="pipes";var h="protos";t.CONTEXT_INDEX=0;var d="this.";var v=r.RegExpWrapper.create("\\W","g");function y(e){return r.StringWrapper.replaceAll(e,v,"")}t.sanitizeName=y;var g=function(){function e(e,n,r,o){this._records=e;this._eventBindings=n;this._directiveRecords=r;this._utilName=o;this._sanitizedNames=i.ListWrapper.createFixedSize(this._records.length+1);this._sanitizedNames[t.CONTEXT_INDEX]=a;for(var s=0,c=this._records.length;s<c;++s){this._sanitizedNames[s+1]=y(""+this._records[s].name+s)}this._sanitizedEventNames=new i.Map;for(var u=0;u<n.length;++u){var l=n[u];var p=[a];for(var s=0,c=l.records.length;s<c;++s){p.push(y(""+l.records[s].name+s+"_"+u))}this._sanitizedEventNames.set(l,p)}}e.prototype._addFieldPrefix=function(e){return""+d+e};e.prototype.getDispatcherName=function(){return this._addFieldPrefix(u)};e.prototype.getPipesAccessorName=function(){return this._addFieldPrefix(f)};e.prototype.getProtosName=function(){return this._addFieldPrefix(h)};e.prototype.getDirectivesAccessorName=function(){return this._addFieldPrefix(c)};e.prototype.getLocalsAccessorName=function(){return this._addFieldPrefix(l)};e.prototype.getAlreadyCheckedName=function(){return this._addFieldPrefix(o)};e.prototype.getModeName=function(){return this._addFieldPrefix(p)};e.prototype.getPropertyBindingIndex=function(){return this._addFieldPrefix(s)};e.prototype.getLocalName=function(e){return"l_"+this._sanitizedNames[e]};e.prototype.getEventLocalName=function(e,t){return"l_"+i.MapWrapper.get(this._sanitizedEventNames,e)[t]};e.prototype.getChangeName=function(e){return"c_"+this._sanitizedNames[e]};e.prototype.genInitLocals=function(){var e=[];var n=[];for(var r=0,o=this.getFieldCount();r<o;++r){if(r==t.CONTEXT_INDEX){e.push(this.getLocalName(r)+" = "+this.getFieldName(r))}else{var a=this._records[r-1];if(a.argumentToPureFunction){var s=this.getChangeName(r);e.push(this.getLocalName(r)+","+s);n.push(s)}else{e.push(""+this.getLocalName(r))}}}var c=i.ListWrapper.isEmpty(n)?"":i.ListWrapper.join(n,"=")+" = false;";return"var "+i.ListWrapper.join(e,",")+";"+c};e.prototype.genInitEventLocals=function(){var e=this;var n=[this.getLocalName(t.CONTEXT_INDEX)+" = "+this.getFieldName(t.CONTEXT_INDEX)];i.MapWrapper.forEach(this._sanitizedEventNames,function(r,i){for(var o=0;o<r.length;++o){if(o!==t.CONTEXT_INDEX){n.push(""+e.getEventLocalName(i,o))}}});return n.length>1?"var "+n.join(",")+";":""};e.prototype.getPreventDefaultAccesor=function(){return"preventDefault"};e.prototype.getFieldCount=function(){return this._sanitizedNames.length};e.prototype.getFieldName=function(e){return this._addFieldPrefix(this._sanitizedNames[e])};e.prototype.getAllFieldNames=function(){var e=[];for(var t=0,n=this.getFieldCount();t<n;++t){if(t===0||this._records[t-1].shouldBeChecked()){e.push(this.getFieldName(t))}}for(var r=0,i=this._records.length;r<i;++r){var o=this._records[r];if(o.isPipeRecord()){e.push(this.getPipeName(o.selfIndex))}}for(var a=0,s=this._directiveRecords.length;a<s;++a){var c=this._directiveRecords[a];e.push(this.getDirectiveName(c.directiveIndex));if(!c.isDefaultChangeDetection()){e.push(this.getDetectorName(c.directiveIndex))}}return e};e.prototype.genDehydrateFields=function(){var e=this.getAllFieldNames();i.ListWrapper.removeAt(e,t.CONTEXT_INDEX);if(i.ListWrapper.isEmpty(e))return"";e.push(this._utilName+".uninitialized;");return i.ListWrapper.join(e," = ")};e.prototype.genPipeOnDestroy=function(){var e=this;return i.ListWrapper.join(i.ListWrapper.map(i.ListWrapper.filter(this._records,function(e){return e.isPipeRecord()}),function(t){return e._utilName+".callPipeOnDestroy("+e.getPipeName(t.selfIndex)+");"}),"\n")};e.prototype.getPipeName=function(e){return this._addFieldPrefix(this._sanitizedNames[e]+"_pipe")};e.prototype.getDirectiveName=function(e){return this._addFieldPrefix("directive_"+e.name)};e.prototype.getDetectorName=function(e){return this._addFieldPrefix("detector_"+e.name);
};return e}();t.CodegenNameUtil=g},function(e,t,n){var r=n(11);var i=n(4);var o=n(40);var a=n(41);var s=n(29);var c=n(13);var u=function(){function e(e,t,n){this._names=e;this._utilName=t;this._changeDetection=n}e.prototype.genPropertyBindingEvalValue=function(e){var t=this;return this._genEvalValue(e,function(e){return t._names.getLocalName(e)},this._names.getLocalsAccessorName())};e.prototype.genEventBindingEvalValue=function(e,t){var n=this;return this._genEvalValue(t,function(t){return n._names.getEventLocalName(e,t)},"locals")};e.prototype._genEvalValue=function(e,t,n){var i=e.contextIndex==-1?this._names.getDirectiveName(e.directiveIndex):t(e.contextIndex);var s=r.ListWrapper.map(e.args,function(e){return t(e)}).join(", ");var u;switch(e.mode){case a.RecordType.Self:u=i;break;case a.RecordType.Const:u=o.codify(e.funcOrValue);break;case a.RecordType.PropertyRead:u=this._observe(i+"."+e.name,e);break;case a.RecordType.SafeProperty:var l=this._observe(i+"."+e.name,e);u=this._utilName+".isValueBlank("+i+") ? null : "+this._observe(l,e);break;case a.RecordType.PropertyWrite:u=i+"."+e.name+" = "+t(e.args[0]);break;case a.RecordType.Local:u=this._observe(n+".get("+o.rawString(e.name)+")",e);break;case a.RecordType.InvokeMethod:u=this._observe(i+"."+e.name+"("+s+")",e);break;case a.RecordType.SafeMethodInvoke:var p=i+"."+e.name+"("+s+")";u=this._utilName+".isValueBlank("+i+") ? null : "+this._observe(p,e);break;case a.RecordType.InvokeClosure:u=i+"("+s+")";break;case a.RecordType.PrimitiveOp:u=this._utilName+"."+e.name+"("+s+")";break;case a.RecordType.CollectionLiteral:u=this._utilName+"."+e.name+"("+s+")";break;case a.RecordType.Interpolate:u=this._genInterpolation(e);break;case a.RecordType.KeyedRead:u=this._observe(i+"["+t(e.args[0])+"]",e);break;case a.RecordType.KeyedWrite:u=i+"["+t(e.args[0])+"] = "+t(e.args[1]);break;case a.RecordType.Chain:u="null";break;default:throw new c.BaseException("Unknown operation "+e.mode)}return t(e.selfIndex)+" = "+u+";"};e.prototype._observe=function(e,t){if(this._changeDetection===s.ChangeDetectionStrategy.OnPushObserve){return"this.observeValue("+e+", "+t.selfIndex+")"}else{return e}};e.prototype.genPropertyBindingTargets=function(e,t){var n=this;var r=e.map(function(e){if(i.isBlank(e))return"null";var r=t?o.codify(e.debug):"null";return n._utilName+".bindingTarget("+o.codify(e.mode)+", "+e.elementIndex+", "+o.codify(e.name)+", "+o.codify(e.unit)+", "+r+")"});return"["+r.join(", ")+"]"};e.prototype.genDirectiveIndices=function(e){var t=this;var n=e.map(function(e){return t._utilName+".directiveIndex("+e.directiveIndex.elementIndex+", "+e.directiveIndex.directiveIndex+")"});return"["+n.join(", ")+"]"};e.prototype._genInterpolation=function(e){var t=[];for(var n=0;n<e.args.length;++n){t.push(o.codify(e.fixedArgs[n]));t.push(this._utilName+".s("+this._names.getLocalName(e.args[n])+")")}t.push(o.codify(e.fixedArgs[e.args.length]));return o.combineGeneratedStrings(t)};e.prototype.genHydrateDirectives=function(e){var t=[];for(var n=0;n<e.length;++n){var r=e[n];t.push(this._names.getDirectiveName(r.directiveIndex)+" = "+this._genReadDirective(n)+";")}return t.join("\n")};e.prototype._genReadDirective=function(e){if(this._changeDetection===s.ChangeDetectionStrategy.OnPushObserve){return"this.observeDirective(this.getDirectiveFor(directives, "+e+"), "+e+")"}else{return"this.getDirectiveFor(directives, "+e+")"}};e.prototype.genHydrateDetectors=function(e){var t=[];for(var n=0;n<e.length;++n){var r=e[n];if(!r.isDefaultChangeDetection()){t.push(this._names.getDetectorName(r.directiveIndex)+" = this.getDetectorFor(directives, "+n+");")}}return t.join("\n")};e.prototype.genContentLifecycleCallbacks=function(e){var t=[];for(var n=e.length-1;n>=0;--n){var r=e[n];if(r.callAfterContentInit){t.push("if(! "+this._names.getAlreadyCheckedName()+") "+this._names.getDirectiveName(r.directiveIndex)+".afterContentInit();")}if(r.callAfterContentChecked){t.push(this._names.getDirectiveName(r.directiveIndex)+".afterContentChecked();")}}return t};e.prototype.genViewLifecycleCallbacks=function(e){var t=[];for(var n=e.length-1;n>=0;--n){var r=e[n];if(r.callAfterViewInit){t.push("if(! "+this._names.getAlreadyCheckedName()+") "+this._names.getDirectiveName(r.directiveIndex)+".afterViewInit();")}if(r.callAfterViewChecked){t.push(this._names.getDirectiveName(r.directiveIndex)+".afterViewChecked();")}}return t};return e}();t.CodegenLogicUtil=u},function(e,t){function n(e){return JSON.stringify(e)}t.codify=n;function r(e){return"'"+e+"'"}t.rawString=r;function i(e){return e.join(" + ")}t.combineGeneratedStrings=i},function(e,t){(function(e){e[e["Self"]=0]="Self";e[e["Const"]=1]="Const";e[e["PrimitiveOp"]=2]="PrimitiveOp";e[e["PropertyRead"]=3]="PropertyRead";e[e["PropertyWrite"]=4]="PropertyWrite";e[e["Local"]=5]="Local";e[e["InvokeMethod"]=6]="InvokeMethod";e[e["InvokeClosure"]=7]="InvokeClosure";e[e["KeyedRead"]=8]="KeyedRead";e[e["KeyedWrite"]=9]="KeyedWrite";e[e["Pipe"]=10]="Pipe";e[e["Interpolate"]=11]="Interpolate";e[e["SafeProperty"]=12]="SafeProperty";e[e["CollectionLiteral"]=13]="CollectionLiteral";e[e["SafeMethodInvoke"]=14]="SafeMethodInvoke";e[e["DirectiveLifecycle"]=15]="DirectiveLifecycle";e[e["Chain"]=16]="Chain"})(t.RecordType||(t.RecordType={}));var n=t.RecordType;var r=function(){function e(e,t,n,r,i,o,a,s,c,u,l,p,f,h){this.mode=e;this.name=t;this.funcOrValue=n;this.args=r;this.fixedArgs=i;this.contextIndex=o;this.directiveIndex=a;this.selfIndex=s;this.bindingRecord=c;this.lastInBinding=u;this.lastInDirective=l;this.argumentToPureFunction=p;this.referencedBySelf=f;this.propertyBindingIndex=h}e.prototype.isPureFunction=function(){return this.mode===n.Interpolate||this.mode===n.CollectionLiteral};e.prototype.isUsedByOtherRecord=function(){return!this.lastInBinding||this.referencedBySelf};e.prototype.shouldBeChecked=function(){return this.argumentToPureFunction||this.lastInBinding||this.isPureFunction()||this.isPipeRecord()};e.prototype.isPipeRecord=function(){return this.mode===n.Pipe};e.prototype.isLifeCycleRecord=function(){return this.mode===n.DirectiveLifecycle};return e}();t.ProtoRecord=r},function(e,t,n){var r=n(4);var i=n(13);var o=n(11);var a=n(43);var s=n(28);var c=n(44);var u=n(32);var l=n(45);var p=n(46);var f=n(41);var h=function(){function e(e){this._definition=e;this._propertyBindingRecords=d(e);this._eventBindingRecords=v(e);this._propertyBindingTargets=this._definition.bindingRecords.map(function(e){return e.target});this._directiveIndices=this._definition.directiveRecords.map(function(e){return e.directiveIndex})}e.prototype.instantiate=function(e){return new c.DynamicChangeDetector(this._definition.id,e,this._propertyBindingRecords.length,this._propertyBindingTargets,this._directiveIndices,this._definition.strategy,this._propertyBindingRecords,this._eventBindingRecords,this._definition.directiveRecords,this._definition.genConfig)};return e}();t.DynamicProtoChangeDetector=h;function d(e){var t=new y;o.ListWrapper.forEachWithIndex(e.bindingRecords,function(n,r){return t.add(n,e.variableNames,r)});return p.coalesce(t.records)}t.createPropertyRecords=d;function v(e){var t=o.ListWrapper.concat(["$event"],e.variableNames);return e.eventRecords.map(function(e){var n=g.create(e,t);var r=e.implicitReceiver instanceof u.DirectiveIndex?e.implicitReceiver:null;return new l.EventBinding(e.target.name,e.target.elementIndex,r,n)})}t.createEventRecords=v;var y=function(){function e(){this.records=[]}e.prototype.add=function(e,t,n){var i=o.ListWrapper.last(this.records);if(r.isPresent(i)&&i.bindingRecord.directiveRecord==e.directiveRecord){i.lastInDirective=false}var a=this.records.length;this._appendRecords(e,t,n);var s=o.ListWrapper.last(this.records);if(r.isPresent(s)&&s!==i){s.lastInBinding=true;s.lastInDirective=true;this._setArgumentToPureFunction(a)}};e.prototype._setArgumentToPureFunction=function(e){var t=this;for(var n=e;n<this.records.length;++n){var r=this.records[n];if(r.isPureFunction()){r.args.forEach(function(e){return t.records[e-1].argumentToPureFunction=true})}if(r.mode===f.RecordType.Pipe){r.args.forEach(function(e){return t.records[e-1].argumentToPureFunction=true});this.records[r.contextIndex-1].argumentToPureFunction=true}}};e.prototype._appendRecords=function(e,t,n){if(e.isDirectiveLifecycle()){this.records.push(new f.ProtoRecord(f.RecordType.DirectiveLifecycle,e.lifecycleEvent,null,[],[],-1,null,this.records.length+1,e,false,false,false,false,null))}else{g.append(this.records,e,t,n)}};return e}();t.ProtoRecordBuilder=y;var g=function(){function e(e,t,n,r){this._records=e;this._bindingRecord=t;this._variableNames=n;this._bindingIndex=r}e.append=function(t,n,r,i){var o=new e(t,n,r,i);n.ast.visit(o)};e.create=function(t,n){var r=[];e.append(r,t,n,null);r[r.length-1].lastInBinding=true;return r};e.prototype.visitImplicitReceiver=function(e){return this._bindingRecord.implicitReceiver};e.prototype.visitInterpolation=function(e){var t=this._visitAll(e.expressions);return this._addRecord(f.RecordType.Interpolate,"interpolate",E(e.strings),t,e.strings,0)};e.prototype.visitLiteralPrimitive=function(e){return this._addRecord(f.RecordType.Const,"literal",e.value,[],null,0)};e.prototype.visitPropertyRead=function(e){var t=e.receiver.visit(this);if(r.isPresent(this._variableNames)&&o.ListWrapper.contains(this._variableNames,e.name)&&e.receiver instanceof a.ImplicitReceiver){return this._addRecord(f.RecordType.Local,e.name,e.name,[],null,t)}else{return this._addRecord(f.RecordType.PropertyRead,e.name,e.getter,[],null,t)}};e.prototype.visitPropertyWrite=function(e){if(r.isPresent(this._variableNames)&&o.ListWrapper.contains(this._variableNames,e.name)&&e.receiver instanceof a.ImplicitReceiver){throw new i.BaseException("Cannot reassign a variable binding "+e.name)}else{var t=e.receiver.visit(this);var n=e.value.visit(this);return this._addRecord(f.RecordType.PropertyWrite,e.name,e.setter,[n],null,t)}};e.prototype.visitKeyedWrite=function(e){var t=e.obj.visit(this);var n=e.key.visit(this);var r=e.value.visit(this);return this._addRecord(f.RecordType.KeyedWrite,null,null,[n,r],null,t)};e.prototype.visitSafePropertyRead=function(e){var t=e.receiver.visit(this);return this._addRecord(f.RecordType.SafeProperty,e.name,e.getter,[],null,t)};e.prototype.visitMethodCall=function(e){var t=e.receiver.visit(this);var n=this._visitAll(e.args);if(r.isPresent(this._variableNames)&&o.ListWrapper.contains(this._variableNames,e.name)){var i=this._addRecord(f.RecordType.Local,e.name,e.name,[],null,t);return this._addRecord(f.RecordType.InvokeClosure,"closure",null,n,null,i)}else{return this._addRecord(f.RecordType.InvokeMethod,e.name,e.fn,n,null,t)}};e.prototype.visitSafeMethodCall=function(e){var t=e.receiver.visit(this);var n=this._visitAll(e.args);return this._addRecord(f.RecordType.SafeMethodInvoke,e.name,e.fn,n,null,t)};e.prototype.visitFunctionCall=function(e){var t=e.target.visit(this);var n=this._visitAll(e.args);return this._addRecord(f.RecordType.InvokeClosure,"closure",null,n,null,t)};e.prototype.visitLiteralArray=function(e){var t="arrayFn"+e.expressions.length;return this._addRecord(f.RecordType.CollectionLiteral,t,m(e.expressions.length),this._visitAll(e.expressions),null,0)};e.prototype.visitLiteralMap=function(e){return this._addRecord(f.RecordType.CollectionLiteral,_(e.keys),s.ChangeDetectionUtil.mapFn(e.keys),this._visitAll(e.values),null,0)};e.prototype.visitBinary=function(e){var t=e.left.visit(this);var n=e.right.visit(this);return this._addRecord(f.RecordType.PrimitiveOp,b(e.operation),w(e.operation),[t,n],null,0)};e.prototype.visitPrefixNot=function(e){var t=e.expression.visit(this);return this._addRecord(f.RecordType.PrimitiveOp,"operation_negate",s.ChangeDetectionUtil.operation_negate,[t],null,0)};e.prototype.visitConditional=function(e){var t=e.condition.visit(this);var n=e.trueExp.visit(this);var r=e.falseExp.visit(this);return this._addRecord(f.RecordType.PrimitiveOp,"cond",s.ChangeDetectionUtil.cond,[t,n,r],null,0)};e.prototype.visitPipe=function(e){var t=e.exp.visit(this);var n=this._visitAll(e.args);return this._addRecord(f.RecordType.Pipe,e.name,e.name,n,null,t)};e.prototype.visitKeyedRead=function(e){var t=e.obj.visit(this);var n=e.key.visit(this);return this._addRecord(f.RecordType.KeyedRead,"keyedAccess",s.ChangeDetectionUtil.keyedAccess,[n],null,t)};e.prototype.visitChain=function(e){var t=this;var n=e.expressions.map(function(e){return e.visit(t)});return this._addRecord(f.RecordType.Chain,"chain",null,n,null,0)};e.prototype.visitIf=function(e){throw new i.BaseException("Not supported")};e.prototype._visitAll=function(e){var t=o.ListWrapper.createFixedSize(e.length);for(var n=0;n<e.length;++n){t[n]=e[n].visit(this)}return t};e.prototype._addRecord=function(e,t,n,r,i,o){var a=this._records.length+1;if(o instanceof u.DirectiveIndex){this._records.push(new f.ProtoRecord(e,t,n,r,i,-1,o,a,this._bindingRecord,false,false,false,false,this._bindingIndex))}else{this._records.push(new f.ProtoRecord(e,t,n,r,i,o,null,a,this._bindingRecord,false,false,false,false,this._bindingIndex))}return a};return e}();function m(e){switch(e){case 0:return s.ChangeDetectionUtil.arrayFn0;case 1:return s.ChangeDetectionUtil.arrayFn1;case 2:return s.ChangeDetectionUtil.arrayFn2;case 3:return s.ChangeDetectionUtil.arrayFn3;case 4:return s.ChangeDetectionUtil.arrayFn4;case 5:return s.ChangeDetectionUtil.arrayFn5;case 6:return s.ChangeDetectionUtil.arrayFn6;case 7:return s.ChangeDetectionUtil.arrayFn7;case 8:return s.ChangeDetectionUtil.arrayFn8;case 9:return s.ChangeDetectionUtil.arrayFn9;default:throw new i.BaseException("Does not support literal maps with more than 9 elements")}}function _(e){var t=o.ListWrapper.join(o.ListWrapper.map(e,function(e){return r.isString(e)?'"'+e+'"':""+e}),", ");return"mapFn(["+t+"])"}function b(e){switch(e){case"+":return"operation_add";case"-":return"operation_subtract";case"*":return"operation_multiply";case"/":return"operation_divide";case"%":return"operation_remainder";case"==":return"operation_equals";case"!=":return"operation_not_equals";case"===":return"operation_identical";case"!==":return"operation_not_identical";case"<":return"operation_less_then";case">":return"operation_greater_then";case"<=":return"operation_less_or_equals_then";case">=":return"operation_greater_or_equals_then";case"&&":return"operation_logical_and";case"||":return"operation_logical_or";default:throw new i.BaseException("Unsupported operation "+e)}}function w(e){switch(e){case"+":return s.ChangeDetectionUtil.operation_add;case"-":return s.ChangeDetectionUtil.operation_subtract;case"*":return s.ChangeDetectionUtil.operation_multiply;case"/":return s.ChangeDetectionUtil.operation_divide;case"%":return s.ChangeDetectionUtil.operation_remainder;case"==":return s.ChangeDetectionUtil.operation_equals;case"!=":return s.ChangeDetectionUtil.operation_not_equals;case"===":return s.ChangeDetectionUtil.operation_identical;case"!==":return s.ChangeDetectionUtil.operation_not_identical;case"<":return s.ChangeDetectionUtil.operation_less_then;case">":return s.ChangeDetectionUtil.operation_greater_then;case"<=":return s.ChangeDetectionUtil.operation_less_or_equals_then;case">=":return s.ChangeDetectionUtil.operation_greater_or_equals_then;case"&&":return s.ChangeDetectionUtil.operation_logical_and;case"||":return s.ChangeDetectionUtil.operation_logical_or;default:throw new i.BaseException("Unsupported operation "+e)}}function C(e){return r.isPresent(e)?""+e:""}function E(e){var t=e.length;var n=t>0?e[0]:null;var r=t>1?e[1]:null;var o=t>2?e[2]:null;var a=t>3?e[3]:null;var s=t>4?e[4]:null;var c=t>5?e[5]:null;var u=t>6?e[6]:null;var l=t>7?e[7]:null;var p=t>8?e[8]:null;var f=t>9?e[9]:null;switch(t-1){case 1:return function(e){return n+C(e)+r};case 2:return function(e,t){return n+C(e)+r+C(t)+o};case 3:return function(e,t,i){return n+C(e)+r+C(t)+o+C(i)+a};case 4:return function(e,t,i,c){return n+C(e)+r+C(t)+o+C(i)+a+C(c)+s};case 5:return function(e,t,i,u,l){return n+C(e)+r+C(t)+o+C(i)+a+C(u)+s+C(l)+c};case 6:return function(e,t,i,l,p,f){return n+C(e)+r+C(t)+o+C(i)+a+C(l)+s+C(p)+c+C(f)+u};case 7:return function(e,t,i,p,f,h,d){return n+C(e)+r+C(t)+o+C(i)+a+C(p)+s+C(f)+c+C(h)+u+C(d)+l};case 8:return function(e,t,i,f,h,d,v,y){return n+C(e)+r+C(t)+o+C(i)+a+C(f)+s+C(h)+c+C(d)+u+C(v)+l+C(y)+p};case 9:return function(e,t,i,h,d,v,y,g,m){return n+C(e)+r+C(t)+o+C(i)+a+C(h)+s+C(d)+c+C(v)+u+C(y)+l+C(g)+p+C(m)+f};default:throw new i.BaseException("Does not support more than 9 expressions")}}},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=n(4);var o=n(11);var a=function(){function e(){}e.prototype.visit=function(e){return null};e.prototype.toString=function(){return"AST"};return e}();t.AST=a;var s=function(e){r(t,e);function t(){e.apply(this,arguments)}t.prototype.visit=function(e){};return t}(a);t.EmptyExpr=s;var c=function(e){r(t,e);function t(){e.apply(this,arguments)}t.prototype.visit=function(e){return e.visitImplicitReceiver(this)};return t}(a);t.ImplicitReceiver=c;var u=function(e){r(t,e);function t(t){e.call(this);this.expressions=t}t.prototype.visit=function(e){return e.visitChain(this)};return t}(a);t.Chain=u;var l=function(e){r(t,e);function t(t,n,r){e.call(this);this.condition=t;this.trueExp=n;this.falseExp=r}t.prototype.visit=function(e){return e.visitConditional(this)};return t}(a);t.Conditional=l;var p=function(e){r(t,e);function t(t,n,r){e.call(this);this.condition=t;this.trueExp=n;this.falseExp=r}t.prototype.visit=function(e){return e.visitIf(this)};return t}(a);t.If=p;var f=function(e){r(t,e);function t(t,n,r){e.call(this);this.receiver=t;this.name=n;this.getter=r}t.prototype.visit=function(e){return e.visitPropertyRead(this)};return t}(a);t.PropertyRead=f;var h=function(e){r(t,e);function t(t,n,r,i){e.call(this);this.receiver=t;this.name=n;this.setter=r;this.value=i}t.prototype.visit=function(e){return e.visitPropertyWrite(this)};return t}(a);t.PropertyWrite=h;var d=function(e){r(t,e);function t(t,n,r){e.call(this);this.receiver=t;this.name=n;this.getter=r}t.prototype.visit=function(e){return e.visitSafePropertyRead(this)};return t}(a);t.SafePropertyRead=d;var v=function(e){r(t,e);function t(t,n){e.call(this);this.obj=t;this.key=n}t.prototype.visit=function(e){return e.visitKeyedRead(this)};return t}(a);t.KeyedRead=v;var y=function(e){r(t,e);function t(t,n,r){e.call(this);this.obj=t;this.key=n;this.value=r}t.prototype.visit=function(e){return e.visitKeyedWrite(this)};return t}(a);t.KeyedWrite=y;var g=function(e){r(t,e);function t(t,n,r){e.call(this);this.exp=t;this.name=n;this.args=r}t.prototype.visit=function(e){return e.visitPipe(this)};return t}(a);t.BindingPipe=g;var m=function(e){r(t,e);function t(t){e.call(this);this.value=t}t.prototype.visit=function(e){return e.visitLiteralPrimitive(this)};return t}(a);t.LiteralPrimitive=m;var _=function(e){r(t,e);function t(t){e.call(this);this.expressions=t}t.prototype.visit=function(e){return e.visitLiteralArray(this)};return t}(a);t.LiteralArray=_;var b=function(e){r(t,e);function t(t,n){e.call(this);this.keys=t;this.values=n}t.prototype.visit=function(e){return e.visitLiteralMap(this)};return t}(a);t.LiteralMap=b;var w=function(e){r(t,e);function t(t,n){e.call(this);this.strings=t;this.expressions=n}t.prototype.visit=function(e){e.visitInterpolation(this)};return t}(a);t.Interpolation=w;var C=function(e){r(t,e);function t(t,n,r){e.call(this);this.operation=t;this.left=n;this.right=r}t.prototype.visit=function(e){return e.visitBinary(this)};return t}(a);t.Binary=C;var E=function(e){r(t,e);function t(t){e.call(this);this.expression=t}t.prototype.visit=function(e){return e.visitPrefixNot(this)};return t}(a);t.PrefixNot=E;var R=function(e){r(t,e);function t(t,n,r,i){e.call(this);this.receiver=t;this.name=n;this.fn=r;this.args=i}t.prototype.visit=function(e){return e.visitMethodCall(this)};return t}(a);t.MethodCall=R;var P=function(e){r(t,e);function t(t,n,r,i){e.call(this);this.receiver=t;this.name=n;this.fn=r;this.args=i}t.prototype.visit=function(e){return e.visitSafeMethodCall(this)};return t}(a);t.SafeMethodCall=P;var D=function(e){r(t,e);function t(t,n){e.call(this);this.target=t;this.args=n}t.prototype.visit=function(e){return e.visitFunctionCall(this)};return t}(a);t.FunctionCall=D;var I=function(e){r(t,e);function t(t,n,r){e.call(this);this.ast=t;this.source=n;this.location=r}t.prototype.visit=function(e){return this.ast.visit(e)};t.prototype.toString=function(){return this.source+" in "+this.location};return t}(a);t.ASTWithSource=I;var x=function(){function e(e,t,n,r){this.key=e;this.keyIsVar=t;this.name=n;this.expression=r}return e}();t.TemplateBinding=x;var O=function(){function e(){}e.prototype.visitBinary=function(e){e.left.visit(this);e.right.visit(this);return null};e.prototype.visitChain=function(e){return this.visitAll(e.expressions)};e.prototype.visitConditional=function(e){e.condition.visit(this);e.trueExp.visit(this);e.falseExp.visit(this);return null};e.prototype.visitIf=function(e){e.condition.visit(this);e.trueExp.visit(this);e.falseExp.visit(this);return null};e.prototype.visitPipe=function(e){e.exp.visit(this);this.visitAll(e.args);return null};e.prototype.visitFunctionCall=function(e){e.target.visit(this);this.visitAll(e.args);return null};e.prototype.visitImplicitReceiver=function(e){return null};e.prototype.visitInterpolation=function(e){return this.visitAll(e.expressions)};e.prototype.visitKeyedRead=function(e){e.obj.visit(this);e.key.visit(this);return null};e.prototype.visitKeyedWrite=function(e){e.obj.visit(this);e.key.visit(this);e.value.visit(this);return null};e.prototype.visitLiteralArray=function(e){return this.visitAll(e.expressions)};e.prototype.visitLiteralMap=function(e){return this.visitAll(e.values)};e.prototype.visitLiteralPrimitive=function(e){return null};e.prototype.visitMethodCall=function(e){e.receiver.visit(this);return this.visitAll(e.args)};e.prototype.visitPrefixNot=function(e){e.expression.visit(this);return null};e.prototype.visitPropertyRead=function(e){e.receiver.visit(this);return null};e.prototype.visitPropertyWrite=function(e){e.receiver.visit(this);e.value.visit(this);return null};e.prototype.visitSafePropertyRead=function(e){e.receiver.visit(this);return null};e.prototype.visitSafeMethodCall=function(e){e.receiver.visit(this);return this.visitAll(e.args)};e.prototype.visitAll=function(e){var t=this;o.ListWrapper.forEach(e,function(e){e.visit(t)});return null};return e}();t.RecursiveAstVisitor=O;var S=function(){function e(){}e.prototype.visitImplicitReceiver=function(e){return e};e.prototype.visitInterpolation=function(e){return new w(e.strings,this.visitAll(e.expressions))};e.prototype.visitLiteralPrimitive=function(e){return new m(e.value)};e.prototype.visitPropertyRead=function(e){return new f(e.receiver.visit(this),e.name,e.getter)};e.prototype.visitPropertyWrite=function(e){return new h(e.receiver.visit(this),e.name,e.setter,e.value)};e.prototype.visitSafePropertyRead=function(e){return new d(e.receiver.visit(this),e.name,e.getter)};e.prototype.visitMethodCall=function(e){return new R(e.receiver.visit(this),e.name,e.fn,this.visitAll(e.args))};e.prototype.visitSafeMethodCall=function(e){return new P(e.receiver.visit(this),e.name,e.fn,this.visitAll(e.args))};e.prototype.visitFunctionCall=function(e){return new D(e.target.visit(this),this.visitAll(e.args))};e.prototype.visitLiteralArray=function(e){return new _(this.visitAll(e.expressions))};e.prototype.visitLiteralMap=function(e){return new b(e.keys,this.visitAll(e.values))};e.prototype.visitBinary=function(e){return new C(e.operation,e.left.visit(this),e.right.visit(this))};e.prototype.visitPrefixNot=function(e){return new E(e.expression.visit(this))};e.prototype.visitConditional=function(e){return new l(e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this))};e.prototype.visitPipe=function(e){return new g(e.exp.visit(this),e.name,this.visitAll(e.args))};e.prototype.visitKeyedRead=function(e){return new v(e.obj.visit(this),e.key.visit(this))};e.prototype.visitKeyedWrite=function(e){return new y(e.obj.visit(this),e.key.visit(this),e.value.visit(this))};e.prototype.visitAll=function(e){var t=o.ListWrapper.createFixedSize(e.length);for(var n=0;n<e.length;++n){t[n]=e[n].visit(this)}return t};e.prototype.visitChain=function(e){return new u(this.visitAll(e.expressions))};e.prototype.visitIf=function(e){var t=i.isPresent(e.falseExp)?e.falseExp.visit(this):null;return new p(e.condition.visit(this),e.trueExp.visit(this),t)};return e}();t.AstTransformer=S},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=n(4);var o=n(13);var a=n(11);var s=n(27);var c=n(28);var u=n(29);var l=n(41);var p=function(e){r(t,e);function t(t,n,r,i,o,s,c,u,l,p){e.call(this,t,n,r,i,o,s);this._records=c;this._eventBindings=u;this._directiveRecords=l;this._genConfig=p;this.directives=null;var f=c.length+1;this.values=a.ListWrapper.createFixedSize(f);this.localPipes=a.ListWrapper.createFixedSize(f);this.prevContexts=a.ListWrapper.createFixedSize(f);this.changes=a.ListWrapper.createFixedSize(f);this.dehydrateDirectives(false)}t.prototype.handleEventInternal=function(e,t,n){var r=this;var i=false;this._matchingEventBindings(e,t).forEach(function(e){var t=r._processEventBinding(e,n);if(t===false){i=true}});return i};t.prototype._processEventBinding=function(e,t){var n=a.ListWrapper.createFixedSize(e.records.length);n[0]=this.values[0];for(var r=0;r<e.records.length;++r){var i=e.records[r];var s=this._calculateCurrValue(i,n,t);if(i.lastInBinding){this._markPathAsCheckOnce(i);return s}else{this._writeSelf(i,s,n)}}throw new o.BaseException("Cannot be reached")};t.prototype._markPathAsCheckOnce=function(e){if(!e.bindingRecord.isDefaultChangeDetection()){var t=e.bindingRecord.directiveRecord;this._getDetectorFor(t.directiveIndex).markPathToRootAsCheckOnce()}};t.prototype._matchingEventBindings=function(e,t){return a.ListWrapper.filter(this._eventBindings,function(n){return n.eventName==e&&n.elIndex===t})};t.prototype.hydrateDirectives=function(t){this.values[0]=this.context;this.directives=t;if(this.strategy===u.ChangeDetectionStrategy.OnPushObserve){for(var n=0;n<this.directiveIndices.length;++n){var r=this.directiveIndices[n];e.prototype.observeDirective.call(this,t.getDirectiveFor(r),n)}}};t.prototype.dehydrateDirectives=function(e){if(e){this._destroyPipes()}this.values[0]=null;this.directives=null;a.ListWrapper.fill(this.values,c.ChangeDetectionUtil.uninitialized,1);a.ListWrapper.fill(this.changes,false);a.ListWrapper.fill(this.localPipes,null);a.ListWrapper.fill(this.prevContexts,c.ChangeDetectionUtil.uninitialized)};t.prototype._destroyPipes=function(){for(var e=0;e<this.localPipes.length;++e){if(i.isPresent(this.localPipes[e])){c.ChangeDetectionUtil.callPipeOnDestroy(this.localPipes[e])}}};t.prototype.checkNoChanges=function(){this.runDetectChanges(true)};t.prototype.detectChangesInRecordsInternal=function(e){var t=this._records;var n=null;var r=false;for(var o=0;o<t.length;++o){var a=t[o];var s=a.bindingRecord;var c=s.directiveRecord;if(this._firstInBinding(a)){this.propertyBindingIndex=a.propertyBindingIndex}if(a.isLifeCycleRecord()){if(a.name==="DoCheck"&&!e){this._getDirectiveFor(c.directiveIndex).doCheck()}else if(a.name==="OnInit"&&!e&&!this.alreadyChecked){this._getDirectiveFor(c.directiveIndex).onInit()}else if(a.name==="OnChanges"&&i.isPresent(n)&&!e){this._getDirectiveFor(c.directiveIndex).onChanges(n)}}else{var u=this._check(a,e,this.values,this.locals);if(i.isPresent(u)){this._updateDirectiveOrElement(u,s);r=true;n=this._addChange(s,u,n)}}if(a.lastInDirective){n=null;if(r&&!s.isDefaultChangeDetection()){this._getDetectorFor(c.directiveIndex).markAsCheckOnce()}r=false}}};t.prototype._firstInBinding=function(e){var t=c.ChangeDetectionUtil.protoByIndex(this._records,e.selfIndex-1);return i.isBlank(t)||t.bindingRecord!==e.bindingRecord};t.prototype.afterContentLifecycleCallbacksInternal=function(){var e=this._directiveRecords;for(var t=e.length-1;t>=0;--t){var n=e[t];if(n.callAfterContentInit&&!this.alreadyChecked){this._getDirectiveFor(n.directiveIndex).afterContentInit()}if(n.callAfterContentChecked){this._getDirectiveFor(n.directiveIndex).afterContentChecked()}}};t.prototype.afterViewLifecycleCallbacksInternal=function(){var e=this._directiveRecords;for(var t=e.length-1;t>=0;--t){var n=e[t];if(n.callAfterViewInit&&!this.alreadyChecked){this._getDirectiveFor(n.directiveIndex).afterViewInit()}if(n.callAfterViewChecked){this._getDirectiveFor(n.directiveIndex).afterViewChecked()}}};t.prototype._updateDirectiveOrElement=function(t,n){if(i.isBlank(n.directiveRecord)){e.prototype.notifyDispatcher.call(this,t.currentValue)}else{var r=n.directiveRecord.directiveIndex;n.setter(this._getDirectiveFor(r),t.currentValue)}if(this._genConfig.logBindingUpdate){e.prototype.logBindingUpdate.call(this,t.currentValue)}};t.prototype._addChange=function(t,n,r){if(t.callOnChanges()){return e.prototype.addChange.call(this,r,n.previousValue,n.currentValue)}else{return r}};t.prototype._getDirectiveFor=function(e){return this.directives.getDirectiveFor(e)};t.prototype._getDetectorFor=function(e){return this.directives.getDetectorFor(e)};t.prototype._check=function(e,t,n,r){if(e.isPipeRecord()){return this._pipeCheck(e,t,n)}else{return this._referenceCheck(e,t,n,r)}};t.prototype._referenceCheck=function(t,n,r,i){if(this._pureFuncAndArgsDidNotChange(t)){this._setChanged(t,false);return null}var o=this._calculateCurrValue(t,r,i);if(this.strategy===u.ChangeDetectionStrategy.OnPushObserve){e.prototype.observeValue.call(this,o,t.selfIndex)}if(t.shouldBeChecked()){var a=this._readSelf(t,r);if(!f(a,o)){if(t.lastInBinding){var s=c.ChangeDetectionUtil.simpleChange(a,o);if(n)this.throwOnChangeError(a,o);this._writeSelf(t,o,r);this._setChanged(t,true);return s}else{this._writeSelf(t,o,r);this._setChanged(t,true);return null}}else{this._setChanged(t,false);return null}}else{this._writeSelf(t,o,r);this._setChanged(t,true);return null}};t.prototype._calculateCurrValue=function(e,t,n){switch(e.mode){case l.RecordType.Self:return this._readContext(e,t);case l.RecordType.Const:return e.funcOrValue;case l.RecordType.PropertyRead:var r=this._readContext(e,t);return e.funcOrValue(r);case l.RecordType.SafeProperty:var r=this._readContext(e,t);return i.isBlank(r)?null:e.funcOrValue(r);case l.RecordType.PropertyWrite:var r=this._readContext(e,t);var a=this._readArgs(e,t)[0];e.funcOrValue(r,a);return a;case l.RecordType.KeyedWrite:var r=this._readContext(e,t);var s=this._readArgs(e,t)[0];var a=this._readArgs(e,t)[1];r[s]=a;return a;case l.RecordType.Local:return n.get(e.name);case l.RecordType.InvokeMethod:var r=this._readContext(e,t);var c=this._readArgs(e,t);return e.funcOrValue(r,c);case l.RecordType.SafeMethodInvoke:var r=this._readContext(e,t);if(i.isBlank(r)){return null}var c=this._readArgs(e,t);return e.funcOrValue(r,c);case l.RecordType.KeyedRead:var u=this._readArgs(e,t)[0];return this._readContext(e,t)[u];case l.RecordType.Chain:var c=this._readArgs(e,t);return c[c.length-1];case l.RecordType.InvokeClosure:return i.FunctionWrapper.apply(this._readContext(e,t),this._readArgs(e,t));case l.RecordType.Interpolate:case l.RecordType.PrimitiveOp:case l.RecordType.CollectionLiteral:return i.FunctionWrapper.apply(e.funcOrValue,this._readArgs(e,t));default:throw new o.BaseException("Unknown operation "+e.mode)}};t.prototype._pipeCheck=function(e,t,n){var r=this._readContext(e,n);var i=this._pipeFor(e,r);if(!i.pure||this._argsOrContextChanged(e)){var o=this._readArgs(e,n);var a=i.pipe.transform(r,o);if(e.shouldBeChecked()){var s=this._readSelf(e,n);if(!f(s,a)){a=c.ChangeDetectionUtil.unwrapValue(a);if(e.lastInBinding){var u=c.ChangeDetectionUtil.simpleChange(s,a);if(t)this.throwOnChangeError(s,a);this._writeSelf(e,a,n);
this._setChanged(e,true);return u}else{this._writeSelf(e,a,n);this._setChanged(e,true);return null}}else{this._setChanged(e,false);return null}}else{this._writeSelf(e,a,n);this._setChanged(e,true);return null}}};t.prototype._pipeFor=function(e,t){var n=this._readPipe(e);if(i.isPresent(n))return n;var r=this.pipes.get(e.name);this._writePipe(e,r);return r};t.prototype._readContext=function(e,t){if(e.contextIndex==-1){return this._getDirectiveFor(e.directiveIndex)}else{return t[e.contextIndex]}return t[e.contextIndex]};t.prototype._readSelf=function(e,t){return t[e.selfIndex]};t.prototype._writeSelf=function(e,t,n){n[e.selfIndex]=t};t.prototype._readPipe=function(e){return this.localPipes[e.selfIndex]};t.prototype._writePipe=function(e,t){this.localPipes[e.selfIndex]=t};t.prototype._setChanged=function(e,t){if(e.argumentToPureFunction)this.changes[e.selfIndex]=t};t.prototype._pureFuncAndArgsDidNotChange=function(e){return e.isPureFunction()&&!this._argsChanged(e)};t.prototype._argsChanged=function(e){var t=e.args;for(var n=0;n<t.length;++n){if(this.changes[t[n]]){return true}}return false};t.prototype._argsOrContextChanged=function(e){return this._argsChanged(e)||this.changes[e.contextIndex]};t.prototype._readArgs=function(e,t){var n=a.ListWrapper.createFixedSize(e.args.length);var r=e.args;for(var i=0;i<r.length;++i){n[i]=t[r[i]]}return n};return t}(s.AbstractChangeDetector);t.DynamicChangeDetector=p;function f(e,t){if(e===t)return true;if(e instanceof String&&t instanceof String&&e==t)return true;if(e!==e&&t!==t)return true;return false}},function(e,t){var n=function(){function e(e,t,n,r){this.eventName=e;this.elIndex=t;this.dirIndex=n;this.records=r}return e}();t.EventBinding=n},function(e,t,n){var r=n(4);var i=n(11);var o=n(41);function a(e){var t=[];var n=new i.Map;for(var o=0;o<e.length;++o){var a=e[o];var u=l(a,t.length+1,n);var p=c(u,t);if(r.isPresent(p)&&u.lastInBinding){t.push(s(u,p.selfIndex,t.length+1));n.set(a.selfIndex,p.selfIndex);p.referencedBySelf=true}else if(r.isPresent(p)&&!u.lastInBinding){if(u.argumentToPureFunction){p.argumentToPureFunction=true}n.set(a.selfIndex,p.selfIndex)}else{t.push(u);n.set(a.selfIndex,u.selfIndex)}}return t}t.coalesce=a;function s(e,t,n){return new o.ProtoRecord(o.RecordType.Self,"self",null,[],e.fixedArgs,t,e.directiveIndex,n,e.bindingRecord,e.lastInBinding,e.lastInDirective,false,false,e.propertyBindingIndex)}function c(e,t){return i.ListWrapper.find(t,function(t){return t.mode!==o.RecordType.DirectiveLifecycle&&u(t,e)&&t.mode===e.mode&&r.looseIdentical(t.funcOrValue,e.funcOrValue)&&t.contextIndex===e.contextIndex&&r.looseIdentical(t.name,e.name)&&i.ListWrapper.equals(t.args,e.args)})}function u(e,t){var n=r.isBlank(e.directiveIndex)?null:e.directiveIndex.directiveIndex;var i=r.isBlank(e.directiveIndex)?null:e.directiveIndex.elementIndex;var o=r.isBlank(t.directiveIndex)?null:t.directiveIndex.directiveIndex;var a=r.isBlank(t.directiveIndex)?null:t.directiveIndex.elementIndex;return n===o&&i===a}function l(e,t,n){var r=i.ListWrapper.map(e.args,function(e){return p(n,e)});var a=p(n,e.contextIndex);return new o.ProtoRecord(e.mode,e.name,e.funcOrValue,r,e.fixedArgs,a,e.directiveIndex,t,e.bindingRecord,e.lastInBinding,e.lastInDirective,e.argumentToPureFunction,e.referencedBySelf,e.propertyBindingIndex)}function p(e,t){var n=e.get(t);return r.isPresent(n)?n:t}},function(e,t,n){var r=n(13);var i=function(){function e(){}e.isSupported=function(){return false};e.prototype.instantiate=function(e){throw new r.BaseException("Pregen change detection not supported in Js")};return e}();t.PregenProtoChangeDetector=i},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(4);var a=n(13);var s=n(11);var c=n(5);var u=function(){function e(e){this.factories=e}e.create=function(t,n){if(o.isPresent(n)){var r=s.ListWrapper.clone(n.factories);t=t.concat(r);return new e(t)}else{return new e(t)}};e.extend=function(t){return new c.Binding(e,{toFactory:function(n){if(o.isBlank(n)){throw new a.BaseException("Cannot extend IterableDiffers without a parent injector")}return e.create(t,n)},deps:[[e,new c.SkipSelfMetadata,new c.OptionalMetadata]]})};e.prototype.find=function(e){var t=s.ListWrapper.find(this.factories,function(t){return t.supports(e)});if(o.isPresent(t)){return t}else{throw new a.BaseException("Cannot find a differ supporting object '"+e+"'")}};e=r([c.Injectable(),o.CONST(),i("design:paramtypes",[Array])],e);return e}();t.IterableDiffers=u},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(4);var a=n(13);var s=n(11);var c=n(4);var u=function(){function e(){}e.prototype.supports=function(e){return s.isListLikeIterable(e)};e.prototype.create=function(e){return new l};e=r([o.CONST(),i("design:paramtypes",[])],e);return e}();t.DefaultIterableDifferFactory=u;var l=function(){function e(){this._collection=null;this._length=null;this._linkedRecords=null;this._unlinkedRecords=null;this._previousItHead=null;this._itHead=null;this._itTail=null;this._additionsHead=null;this._additionsTail=null;this._movesHead=null;this._movesTail=null;this._removalsHead=null;this._removalsTail=null}Object.defineProperty(e.prototype,"collection",{get:function(){return this._collection},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:true,configurable:true});e.prototype.forEachItem=function(e){var t;for(t=this._itHead;t!==null;t=t._next){e(t)}};e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousItHead;t!==null;t=t._nextPrevious){e(t)}};e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;t!==null;t=t._nextAdded){e(t)}};e.prototype.forEachMovedItem=function(e){var t;for(t=this._movesHead;t!==null;t=t._nextMoved){e(t)}};e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;t!==null;t=t._nextRemoved){e(t)}};e.prototype.diff=function(e){if(c.isBlank(e))e=[];if(!s.isListLikeIterable(e)){throw new a.BaseException("Error trying to diff '"+e+"'")}if(this.check(e)){return this}else{return null}};e.prototype.onDestroy=function(){};e.prototype.check=function(e){var t=this;this._reset();var n=this._itHead;var r=false;var i;var o;if(c.isArray(e)){var a=e;this._length=e.length;for(i=0;i<this._length;i++){o=a[i];if(n===null||!c.looseIdentical(n.item,o)){n=this._mismatch(n,o,i);r=true}else if(r){n=this._verifyReinsertion(n,o,i)}n=n._next}}else{i=0;s.iterateListLike(e,function(e){if(n===null||!c.looseIdentical(n.item,e)){n=t._mismatch(n,e,i);r=true}else if(r){n=t._verifyReinsertion(n,e,i)}n=n._next;i++});this._length=i}this._truncate(n);this._collection=e;return this.isDirty};Object.defineProperty(e.prototype,"isDirty",{get:function(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null},enumerable:true,configurable:true});e.prototype._reset=function(){if(this.isDirty){var e;var t;for(e=this._previousItHead=this._itHead;e!==null;e=e._next){e._nextPrevious=e._next}for(e=this._additionsHead;e!==null;e=e._nextAdded){e.previousIndex=e.currentIndex}this._additionsHead=this._additionsTail=null;for(e=this._movesHead;e!==null;e=t){e.previousIndex=e.currentIndex;t=e._nextMoved}this._movesHead=this._movesTail=null;this._removalsHead=this._removalsTail=null}};e.prototype._mismatch=function(e,t,n){var r;if(e===null){r=this._itTail}else{r=e._prev;this._remove(e)}e=this._linkedRecords===null?null:this._linkedRecords.get(t,n);if(e!==null){this._moveAfter(e,r,n)}else{e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(t);if(e!==null){this._reinsertAfter(e,r,n)}else{e=this._addAfter(new p(t),r,n)}}return e};e.prototype._verifyReinsertion=function(e,t,n){var r=this._unlinkedRecords===null?null:this._unlinkedRecords.get(t);if(r!==null){e=this._reinsertAfter(r,e._prev,n)}else if(e.currentIndex!=n){e.currentIndex=n;this._addToMoves(e,n)}return e};e.prototype._truncate=function(e){while(e!==null){var t=e._next;this._addToRemovals(this._unlink(e));e=t}if(this._unlinkedRecords!==null){this._unlinkedRecords.clear()}if(this._additionsTail!==null){this._additionsTail._nextAdded=null}if(this._movesTail!==null){this._movesTail._nextMoved=null}if(this._itTail!==null){this._itTail._next=null}if(this._removalsTail!==null){this._removalsTail._nextRemoved=null}};e.prototype._reinsertAfter=function(e,t,n){if(this._unlinkedRecords!==null){this._unlinkedRecords.remove(e)}var r=e._prevRemoved;var i=e._nextRemoved;if(r===null){this._removalsHead=i}else{r._nextRemoved=i}if(i===null){this._removalsTail=r}else{i._prevRemoved=r}this._insertAfter(e,t,n);this._addToMoves(e,n);return e};e.prototype._moveAfter=function(e,t,n){this._unlink(e);this._insertAfter(e,t,n);this._addToMoves(e,n);return e};e.prototype._addAfter=function(e,t,n){this._insertAfter(e,t,n);if(this._additionsTail===null){this._additionsTail=this._additionsHead=e}else{this._additionsTail=this._additionsTail._nextAdded=e}return e};e.prototype._insertAfter=function(e,t,n){var r=t===null?this._itHead:t._next;e._next=r;e._prev=t;if(r===null){this._itTail=e}else{r._prev=e}if(t===null){this._itHead=e}else{t._next=e}if(this._linkedRecords===null){this._linkedRecords=new h}this._linkedRecords.put(e);e.currentIndex=n;return e};e.prototype._remove=function(e){return this._addToRemovals(this._unlink(e))};e.prototype._unlink=function(e){if(this._linkedRecords!==null){this._linkedRecords.remove(e)}var t=e._prev;var n=e._next;if(t===null){this._itHead=n}else{t._next=n}if(n===null){this._itTail=t}else{n._prev=t}return e};e.prototype._addToMoves=function(e,t){if(e.previousIndex===t){return e}if(this._movesTail===null){this._movesTail=this._movesHead=e}else{this._movesTail=this._movesTail._nextMoved=e}return e};e.prototype._addToRemovals=function(e){if(this._unlinkedRecords===null){this._unlinkedRecords=new h}this._unlinkedRecords.put(e);e.currentIndex=null;e._nextRemoved=null;if(this._removalsTail===null){this._removalsTail=this._removalsHead=e;e._prevRemoved=null}else{e._prevRemoved=this._removalsTail;this._removalsTail=this._removalsTail._nextRemoved=e}return e};e.prototype.toString=function(){var e;var t=[];for(e=this._itHead;e!==null;e=e._next){t.push(e)}var n=[];for(e=this._previousItHead;e!==null;e=e._nextPrevious){n.push(e)}var r=[];for(e=this._additionsHead;e!==null;e=e._nextAdded){r.push(e)}var i=[];for(e=this._movesHead;e!==null;e=e._nextMoved){i.push(e)}var o=[];for(e=this._removalsHead;e!==null;e=e._nextRemoved){o.push(e)}return"collection: "+t.join(", ")+"\n"+"previous: "+n.join(", ")+"\n"+"additions: "+r.join(", ")+"\n"+"moves: "+i.join(", ")+"\n"+"removals: "+o.join(", ")+"\n"};return e}();t.DefaultIterableDiffer=l;var p=function(){function e(e){this.item=e;this.currentIndex=null;this.previousIndex=null;this._nextPrevious=null;this._prev=null;this._next=null;this._prevDup=null;this._nextDup=null;this._prevRemoved=null;this._nextRemoved=null;this._nextAdded=null;this._nextMoved=null}e.prototype.toString=function(){return this.previousIndex===this.currentIndex?c.stringify(this.item):c.stringify(this.item)+"["+c.stringify(this.previousIndex)+"->"+c.stringify(this.currentIndex)+"]"};return e}();t.CollectionChangeRecord=p;var f=function(){function e(){this._head=null;this._tail=null}e.prototype.add=function(e){if(this._head===null){this._head=this._tail=e;e._nextDup=null;e._prevDup=null}else{this._tail._nextDup=e;e._prevDup=this._tail;e._nextDup=null;this._tail=e}};e.prototype.get=function(e,t){var n;for(n=this._head;n!==null;n=n._nextDup){if((t===null||t<n.currentIndex)&&c.looseIdentical(n.item,e)){return n}}return null};e.prototype.remove=function(e){var t=e._prevDup;var n=e._nextDup;if(t===null){this._head=n}else{t._nextDup=n}if(n===null){this._tail=t}else{n._prevDup=t}return this._head===null};return e}();var h=function(){function e(){this.map=new Map}e.prototype.put=function(e){var t=c.getMapKey(e.item);var n=this.map.get(t);if(!c.isPresent(n)){n=new f;this.map.set(t,n)}n.add(e)};e.prototype.get=function(e,t){if(t===void 0){t=null}var n=c.getMapKey(e);var r=this.map.get(n);return c.isBlank(r)?null:r.get(e,t)};e.prototype.remove=function(e){var t=c.getMapKey(e.item);var n=this.map.get(t);if(n.remove(e)){s.MapWrapper.delete(this.map,t)}return e};Object.defineProperty(e.prototype,"isEmpty",{get:function(){return s.MapWrapper.size(this.map)===0},enumerable:true,configurable:true});e.prototype.clear=function(){this.map.clear()};e.prototype.toString=function(){return"_DuplicateMap("+c.stringify(this.map)+")"};return e}()},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(4);var a=n(13);var s=n(11);var c=n(5);var u=function(){function e(e){this.factories=e}e.create=function(t,n){if(o.isPresent(n)){var r=s.ListWrapper.clone(n.factories);t=t.concat(r);return new e(t)}else{return new e(t)}};e.extend=function(t){return new c.Binding(e,{toFactory:function(n){if(o.isBlank(n)){throw new a.BaseException("Cannot extend KeyValueDiffers without a parent injector")}return e.create(t,n)},deps:[[e,new c.SkipSelfMetadata,new c.OptionalMetadata]]})};e.prototype.find=function(e){var t=s.ListWrapper.find(this.factories,function(t){return t.supports(e)});if(o.isPresent(t)){return t}else{throw new a.BaseException("Cannot find a differ supporting object '"+e+"'")}};e=r([c.Injectable(),o.CONST(),i("design:paramtypes",[Array])],e);return e}();t.KeyValueDiffers=u},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(11);var a=n(4);var s=n(13);var c=function(){function e(){}e.prototype.supports=function(e){return e instanceof Map||a.isJsObject(e)};e.prototype.create=function(e){return new u};e=r([a.CONST(),i("design:paramtypes",[])],e);return e}();t.DefaultKeyValueDifferFactory=c;var u=function(){function e(){this._records=new Map;this._mapHead=null;this._previousMapHead=null;this._changesHead=null;this._changesTail=null;this._additionsHead=null;this._additionsTail=null;this._removalsHead=null;this._removalsTail=null}Object.defineProperty(e.prototype,"isDirty",{get:function(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null},enumerable:true,configurable:true});e.prototype.forEachItem=function(e){var t;for(t=this._mapHead;t!==null;t=t._next){e(t)}};e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious){e(t)}};e.prototype.forEachChangedItem=function(e){var t;for(t=this._changesHead;t!==null;t=t._nextChanged){e(t)}};e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;t!==null;t=t._nextAdded){e(t)}};e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;t!==null;t=t._nextRemoved){e(t)}};e.prototype.diff=function(e){if(a.isBlank(e))e=o.MapWrapper.createFromPairs([]);if(!(e instanceof Map||a.isJsObject(e))){throw new s.BaseException("Error trying to diff '"+e+"'")}if(this.check(e)){return this}else{return null}};e.prototype.onDestroy=function(){};e.prototype.check=function(e){var t=this;this._reset();var n=this._records;var r=this._mapHead;var i=null;var o=null;var s=false;this._forEach(e,function(e,c){var u;if(r!==null&&c===r.key){u=r;if(!a.looseIdentical(e,r.currentValue)){r.previousValue=r.currentValue;r.currentValue=e;t._addToChanges(r)}}else{s=true;if(r!==null){r._next=null;t._removeFromSeq(i,r);t._addToRemovals(r)}if(n.has(c)){u=n.get(c)}else{u=new l(c);n.set(c,u);u.currentValue=e;t._addToAdditions(u)}}if(s){if(t._isInRemovals(u)){t._removeFromRemovals(u)}if(o==null){t._mapHead=u}else{o._next=u}}i=r;o=u;r=r===null?null:r._next});this._truncate(i,r);return this.isDirty};e.prototype._reset=function(){if(this.isDirty){var e;for(e=this._previousMapHead=this._mapHead;e!==null;e=e._next){e._nextPrevious=e._next}for(e=this._changesHead;e!==null;e=e._nextChanged){e.previousValue=e.currentValue}for(e=this._additionsHead;e!=null;e=e._nextAdded){e.previousValue=e.currentValue}this._changesHead=this._changesTail=null;this._additionsHead=this._additionsTail=null;this._removalsHead=this._removalsTail=null}};e.prototype._truncate=function(e,t){while(t!==null){if(e===null){this._mapHead=null}else{e._next=null}var n=t._next;this._addToRemovals(t);e=t;t=n}for(var r=this._removalsHead;r!==null;r=r._nextRemoved){r.previousValue=r.currentValue;r.currentValue=null;o.MapWrapper.delete(this._records,r.key)}};e.prototype._isInRemovals=function(e){return e===this._removalsHead||e._nextRemoved!==null||e._prevRemoved!==null};e.prototype._addToRemovals=function(e){if(this._removalsHead===null){this._removalsHead=this._removalsTail=e}else{this._removalsTail._nextRemoved=e;e._prevRemoved=this._removalsTail;this._removalsTail=e}};e.prototype._removeFromSeq=function(e,t){var n=t._next;if(e===null){this._mapHead=n}else{e._next=n}};e.prototype._removeFromRemovals=function(e){var t=e._prevRemoved;var n=e._nextRemoved;if(t===null){this._removalsHead=n}else{t._nextRemoved=n}if(n===null){this._removalsTail=t}else{n._prevRemoved=t}e._prevRemoved=e._nextRemoved=null};e.prototype._addToAdditions=function(e){if(this._additionsHead===null){this._additionsHead=this._additionsTail=e}else{this._additionsTail._nextAdded=e;this._additionsTail=e}};e.prototype._addToChanges=function(e){if(this._changesHead===null){this._changesHead=this._changesTail=e}else{this._changesTail._nextChanged=e;this._changesTail=e}};e.prototype.toString=function(){var e=[];var t=[];var n=[];var r=[];var i=[];var o;for(o=this._mapHead;o!==null;o=o._next){e.push(a.stringify(o))}for(o=this._previousMapHead;o!==null;o=o._nextPrevious){t.push(a.stringify(o))}for(o=this._changesHead;o!==null;o=o._nextChanged){n.push(a.stringify(o))}for(o=this._additionsHead;o!==null;o=o._nextAdded){r.push(a.stringify(o))}for(o=this._removalsHead;o!==null;o=o._nextRemoved){i.push(a.stringify(o))}return"map: "+e.join(", ")+"\n"+"previous: "+t.join(", ")+"\n"+"additions: "+r.join(", ")+"\n"+"changes: "+n.join(", ")+"\n"+"removals: "+i.join(", ")+"\n"};e.prototype._forEach=function(e,t){if(e instanceof Map){o.MapWrapper.forEach(e,t)}else{o.StringMapWrapper.forEach(e,t)}};return e}();t.DefaultKeyValueDiffer=u;var l=function(){function e(e){this.key=e;this.previousValue=null;this.currentValue=null;this._nextPrevious=null;this._next=null;this._nextAdded=null;this._nextRemoved=null;this._prevRemoved=null;this._nextChanged=null}e.prototype.toString=function(){return a.looseIdentical(this.previousValue,this.currentValue)?a.stringify(this.key):a.stringify(this.key)+"["+a.stringify(this.previousValue)+"->"+a.stringify(this.currentValue)+"]"};return e}();t.KVChangeRecord=l},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(4);var a=function(){function e(){}e.prototype.getProtoChangeDetector=function(e,t){return null};Object.defineProperty(e.prototype,"generateDetectors",{get:function(){return null},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"genConfig",{get:function(){return null},enumerable:true,configurable:true});e=r([o.CONST(),i("design:paramtypes",[])],e);return e}();t.ChangeDetection=a;var s=function(){function e(e,t,n,r,i,o){this.element=e;this.componentElement=t;this.directive=n;this.context=r;this.locals=i;this.injector=o}return e}();t.DebugContext=s;var c=function(){function e(e,t,n,r){this.genCheckNoChanges=e;this.genDebugInfo=t;this.logBindingUpdate=n;this.useJit=r}return e}();t.ChangeDetectorGenConfig=c;var u=function(){function e(e,t,n,r,i,o,a){this.id=e;this.strategy=t;this.variableNames=n;this.bindingRecords=r;this.eventRecords=i;this.directiveRecords=o;this.genConfig=a}return e}();t.ChangeDetectorDefinition=u},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var o=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var a=n(7);var s=n(11);var c=n(4);var u=n(13);(function(e){e[e["Character"]=0]="Character";e[e["Identifier"]=1]="Identifier";e[e["Keyword"]=2]="Keyword";e[e["String"]=3]="String";e[e["Operator"]=4]="Operator";e[e["Number"]=5]="Number"})(t.TokenType||(t.TokenType={}));var l=t.TokenType;var p=function(){function e(){}e.prototype.tokenize=function(e){var t=new k(e);var n=[];var r=t.scanToken();while(r!=null){n.push(r);r=t.scanToken()}return n};e=i([a.Injectable(),o("design:paramtypes",[])],e);return e}();t.Lexer=p;var f=function(){function e(e,t,n,r){this.index=e;this.type=t;this.numValue=n;this.strValue=r}e.prototype.isCharacter=function(e){return this.type==l.Character&&this.numValue==e};e.prototype.isNumber=function(){return this.type==l.Number};e.prototype.isString=function(){return this.type==l.String};e.prototype.isOperator=function(e){return this.type==l.Operator&&this.strValue==e};e.prototype.isIdentifier=function(){return this.type==l.Identifier};e.prototype.isKeyword=function(){return this.type==l.Keyword};e.prototype.isKeywordVar=function(){return this.type==l.Keyword&&this.strValue=="var"};e.prototype.isKeywordNull=function(){return this.type==l.Keyword&&this.strValue=="null"};e.prototype.isKeywordUndefined=function(){return this.type==l.Keyword&&this.strValue=="undefined"};e.prototype.isKeywordTrue=function(){return this.type==l.Keyword&&this.strValue=="true"};e.prototype.isKeywordIf=function(){return this.type==l.Keyword&&this.strValue=="if"};e.prototype.isKeywordElse=function(){return this.type==l.Keyword&&this.strValue=="else"};e.prototype.isKeywordFalse=function(){return this.type==l.Keyword&&this.strValue=="false"};e.prototype.toNumber=function(){return this.type==l.Number?this.numValue:-1};e.prototype.toString=function(){switch(this.type){case l.Character:case l.Identifier:case l.Keyword:case l.Operator:case l.String:return this.strValue;case l.Number:return this.numValue.toString();default:return null}};return e}();t.Token=f;function h(e,t){return new f(e,l.Character,t,c.StringWrapper.fromCharCode(t))}function d(e,t){return new f(e,l.Identifier,0,t)}function v(e,t){return new f(e,l.Keyword,0,t)}function y(e,t){return new f(e,l.Operator,0,t)}function g(e,t){return new f(e,l.String,0,t)}function m(e,t){return new f(e,l.Number,t,"")}t.EOF=new f(-1,l.Character,0,"");t.$EOF=0;t.$TAB=9;t.$LF=10;t.$VTAB=11;t.$FF=12;t.$CR=13;t.$SPACE=32;t.$BANG=33;t.$DQ=34;t.$HASH=35;t.$$=36;t.$PERCENT=37;t.$AMPERSAND=38;t.$SQ=39;t.$LPAREN=40;t.$RPAREN=41;t.$STAR=42;t.$PLUS=43;t.$COMMA=44;t.$MINUS=45;t.$PERIOD=46;t.$SLASH=47;t.$COLON=58;t.$SEMICOLON=59;t.$LT=60;t.$EQ=61;t.$GT=62;t.$QUESTION=63;var _=48;var b=57;var w=65,C=69,E=90;t.$LBRACKET=91;t.$BACKSLASH=92;t.$RBRACKET=93;var R=94;var P=95;var D=97,I=101,x=102,O=110,S=114,N=116,M=117,B=118,A=122;t.$LBRACE=123;t.$BAR=124;t.$RBRACE=125;var V=160;var T=function(e){r(t,e);function t(t){e.call(this);this.message=t}t.prototype.toString=function(){return this.message};return t}(u.BaseException);t.ScannerError=T;var k=function(){function e(e){this.input=e;this.peek=0;this.index=-1;this.length=e.length;this.advance()}e.prototype.advance=function(){this.peek=++this.index>=this.length?t.$EOF:c.StringWrapper.charCodeAt(this.input,this.index)};e.prototype.scanToken=function(){var e=this.input,n=this.length,r=this.peek,i=this.index;while(r<=t.$SPACE){if(++i>=n){r=t.$EOF;break}else{r=c.StringWrapper.charCodeAt(e,i)}}this.peek=r;this.index=i;if(i>=n){return null}if(L(r))return this.scanIdentifier();if(W(r))return this.scanNumber(i);var o=i;switch(r){case t.$PERIOD:this.advance();return W(this.peek)?this.scanNumber(o):h(o,t.$PERIOD);case t.$LPAREN:case t.$RPAREN:case t.$LBRACE:case t.$RBRACE:case t.$LBRACKET:case t.$RBRACKET:case t.$COMMA:case t.$COLON:case t.$SEMICOLON:return this.scanCharacter(o,r);case t.$SQ:case t.$DQ:return this.scanString();case t.$HASH:case t.$PLUS:case t.$MINUS:case t.$STAR:case t.$SLASH:case t.$PERCENT:case R:return this.scanOperator(o,c.StringWrapper.fromCharCode(r));case t.$QUESTION:return this.scanComplexOperator(o,"?",t.$PERIOD,".");case t.$LT:case t.$GT:return this.scanComplexOperator(o,c.StringWrapper.fromCharCode(r),t.$EQ,"=");case t.$BANG:case t.$EQ:return this.scanComplexOperator(o,c.StringWrapper.fromCharCode(r),t.$EQ,"=",t.$EQ,"=");case t.$AMPERSAND:return this.scanComplexOperator(o,"&",t.$AMPERSAND,"&");case t.$BAR:return this.scanComplexOperator(o,"|",t.$BAR,"|");case V:while(j(this.peek))this.advance();return this.scanToken()}this.error("Unexpected character ["+c.StringWrapper.fromCharCode(r)+"]",0);return null};e.prototype.scanCharacter=function(e,t){assert(this.peek==t);this.advance();return h(e,t)};e.prototype.scanOperator=function(e,t){assert(this.peek==c.StringWrapper.charCodeAt(t,0));assert(s.SetWrapper.has(q,t));this.advance();return y(e,t)};e.prototype.scanComplexOperator=function(e,t,n,r,i,o){assert(this.peek==c.StringWrapper.charCodeAt(t,0));this.advance();var a=t;if(this.peek==n){this.advance();a+=r}if(c.isPresent(i)&&this.peek==i){this.advance();a+=o}assert(s.SetWrapper.has(q,a));return y(e,a)};e.prototype.scanIdentifier=function(){assert(L(this.peek));var e=this.index;this.advance();while(F(this.peek))this.advance();var t=this.input.substring(e,this.index);if(s.SetWrapper.has(G,t)){return v(e,t)}else{return d(e,t)}};e.prototype.scanNumber=function(e){assert(W(this.peek));var n=this.index===e;this.advance();while(true){if(W(this.peek)){}else if(this.peek==t.$PERIOD){n=false}else if(U(this.peek)){this.advance();if(H(this.peek))this.advance();if(!W(this.peek))this.error("Invalid exponent",-1);n=false}else{break}this.advance()}var r=this.input.substring(e,this.index);var i=n?c.NumberWrapper.parseIntAutoRadix(r):c.NumberWrapper.parseFloat(r);return m(e,i)};e.prototype.scanString=function(){assert(this.peek==t.$SQ||this.peek==t.$DQ);var e=this.index;var n=this.peek;this.advance();var r;var i=this.index;var o=this.input;while(this.peek!=n){if(this.peek==t.$BACKSLASH){if(r==null)r=new c.StringJoiner;r.add(o.substring(i,this.index));this.advance();var a;if(this.peek==M){var s=o.substring(this.index+1,this.index+5);try{a=c.NumberWrapper.parseInt(s,16)}catch(u){this.error("Invalid unicode escape [\\u"+s+"]",0)}for(var l=0;l<5;l++){this.advance()}}else{a=K(this.peek);this.advance()}r.add(c.StringWrapper.fromCharCode(a));i=this.index}else if(this.peek==t.$EOF){this.error("Unterminated quote",0)}else{this.advance()}}var p=o.substring(i,this.index);this.advance();var f=p;if(r!=null){r.add(p);f=r.toString()}return g(e,f)};e.prototype.error=function(e,t){var n=this.index+t;throw new T("Lexer Error: "+e+" at column "+n+" in expression ["+this.input+"]")};return e}();function j(e){return e>=t.$TAB&&e<=t.$SPACE||e==V}function L(e){return D<=e&&e<=A||w<=e&&e<=E||e==P||e==t.$$}function F(e){return D<=e&&e<=A||w<=e&&e<=E||_<=e&&e<=b||e==P||e==t.$$}function W(e){return _<=e&&e<=b}function U(e){return e==I||e==C}function H(e){return e==t.$MINUS||e==t.$PLUS}function K(e){switch(e){case O:return t.$LF;case x:return t.$FF;case S:return t.$CR;case N:return t.$TAB;case B:return t.$VTAB;default:return e}}var q=s.SetWrapper.createFromList(["+","-","*","/","%","^","=","==","!=","===","!==","<",">","<=",">=","&&","||","&","|","!","?","#","?."]);var G=s.SetWrapper.createFromList(["var","null","undefined","true","false","if","else"])},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var o=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var a=n(7);var s=n(4);var c=n(13);var u=n(11);var l=n(53);var p=n(15);var f=n(43);var h=new f.ImplicitReceiver;var d=/\{\{(.*?)\}\}/g;var v=function(e){r(t,e);function t(t,n,r,i){e.call(this,"Parser Error: "+t+" "+r+" ["+n+"] in "+i)}return t}(c.BaseException);var y=function(){function e(e,t){if(t===void 0){t=null}this._lexer=e;this._reflector=s.isPresent(t)?t:p.reflector}e.prototype.parseAction=function(e,t){this._checkNoInterpolation(e,t);var n=this._lexer.tokenize(e);var r=new g(e,t,n,this._reflector,true).parseChain();return new f.ASTWithSource(r,e,t)};e.prototype.parseBinding=function(e,t){this._checkNoInterpolation(e,t);var n=this._lexer.tokenize(e);var r=new g(e,t,n,this._reflector,false).parseChain();return new f.ASTWithSource(r,e,t)};e.prototype.parseSimpleBinding=function(e,t){this._checkNoInterpolation(e,t);var n=this._lexer.tokenize(e);var r=new g(e,t,n,this._reflector,false).parseSimpleBinding();return new f.ASTWithSource(r,e,t)};e.prototype.parseTemplateBindings=function(e,t){var n=this._lexer.tokenize(e);return new g(e,t,n,this._reflector,false).parseTemplateBindings()};e.prototype.parseInterpolation=function(e,t){var n=s.StringWrapper.split(e,d);if(n.length<=1){return null}var r=[];var i=[];for(var o=0;o<n.length;o++){var a=n[o];if(o%2===0){r.push(a)}else if(a.trim().length>0){var c=this._lexer.tokenize(a);var u=new g(e,t,c,this._reflector,false).parseChain();i.push(u)}else{throw new v("Blank expressions are not allowed in interpolated strings",e,"at column "+this._findInterpolationErrorColumn(n,o)+" in",t);
}}return new f.ASTWithSource(new f.Interpolation(r,i),e,t)};e.prototype.wrapLiteralPrimitive=function(e,t){return new f.ASTWithSource(new f.LiteralPrimitive(e),e,t)};e.prototype._checkNoInterpolation=function(e,t){var n=s.StringWrapper.split(e,d);if(n.length>1){throw new v("Got interpolation ({{}}) where expression was expected",e,"at column "+this._findInterpolationErrorColumn(n,1)+" in",t)}};e.prototype._findInterpolationErrorColumn=function(e,t){var n="";for(var r=0;r<t;r++){n+=r%2===0?e[r]:"{{"+e[r]+"}}"}return n.length};e=i([a.Injectable(),o("design:paramtypes",[l.Lexer,p.Reflector])],e);return e}();t.Parser=y;var g=function(){function e(e,t,n,r,i){this.input=e;this.location=t;this.tokens=n;this.reflector=r;this.parseAction=i;this.index=0}e.prototype.peek=function(e){var t=this.index+e;return t<this.tokens.length?this.tokens[t]:l.EOF};Object.defineProperty(e.prototype,"next",{get:function(){return this.peek(0)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"inputIndex",{get:function(){return this.index<this.tokens.length?this.next.index:this.input.length},enumerable:true,configurable:true});e.prototype.advance=function(){this.index++};e.prototype.optionalCharacter=function(e){if(this.next.isCharacter(e)){this.advance();return true}else{return false}};e.prototype.optionalKeywordVar=function(){if(this.peekKeywordVar()){this.advance();return true}else{return false}};e.prototype.peekKeywordVar=function(){return this.next.isKeywordVar()||this.next.isOperator("#")};e.prototype.expectCharacter=function(e){if(this.optionalCharacter(e))return;this.error("Missing expected "+s.StringWrapper.fromCharCode(e))};e.prototype.optionalOperator=function(e){if(this.next.isOperator(e)){this.advance();return true}else{return false}};e.prototype.expectOperator=function(e){if(this.optionalOperator(e))return;this.error("Missing expected operator "+e)};e.prototype.expectIdentifierOrKeyword=function(){var e=this.next;if(!e.isIdentifier()&&!e.isKeyword()){this.error("Unexpected token "+e+", expected identifier or keyword")}this.advance();return e.toString()};e.prototype.expectIdentifierOrKeywordOrString=function(){var e=this.next;if(!e.isIdentifier()&&!e.isKeyword()&&!e.isString()){this.error("Unexpected token "+e+", expected identifier, keyword, or string")}this.advance();return e.toString()};e.prototype.parseChain=function(){var e=[];while(this.index<this.tokens.length){var t=this.parsePipe();e.push(t);if(this.optionalCharacter(l.$SEMICOLON)){if(!this.parseAction){this.error("Binding expression cannot contain chained expression")}while(this.optionalCharacter(l.$SEMICOLON)){}}else if(this.index<this.tokens.length){this.error("Unexpected token '"+this.next+"'")}}if(e.length==0)return new f.EmptyExpr;if(e.length==1)return e[0];return new f.Chain(e)};e.prototype.parseSimpleBinding=function(){var e=this.parseChain();if(!m.check(e)){this.error("Simple binding expression can only contain field access and constants'")}return e};e.prototype.parsePipe=function(){var e=this.parseExpression();if(this.optionalOperator("|")){if(this.parseAction){this.error("Cannot have a pipe in an action expression")}do{var t=this.expectIdentifierOrKeyword();var n=[];while(this.optionalCharacter(l.$COLON)){n.push(this.parsePipe())}e=new f.BindingPipe(e,t,n)}while(this.optionalOperator("|"))}return e};e.prototype.parseExpression=function(){return this.parseConditional()};e.prototype.parseConditional=function(){var e=this.inputIndex;var t=this.parseLogicalOr();if(this.optionalOperator("?")){var n=this.parsePipe();if(!this.optionalCharacter(l.$COLON)){var r=this.inputIndex;var i=this.input.substring(e,r);this.error("Conditional expression "+i+" requires all 3 expressions")}var o=this.parsePipe();return new f.Conditional(t,n,o)}else{return t}};e.prototype.parseLogicalOr=function(){var e=this.parseLogicalAnd();while(this.optionalOperator("||")){e=new f.Binary("||",e,this.parseLogicalAnd())}return e};e.prototype.parseLogicalAnd=function(){var e=this.parseEquality();while(this.optionalOperator("&&")){e=new f.Binary("&&",e,this.parseEquality())}return e};e.prototype.parseEquality=function(){var e=this.parseRelational();while(true){if(this.optionalOperator("==")){e=new f.Binary("==",e,this.parseRelational())}else if(this.optionalOperator("===")){e=new f.Binary("===",e,this.parseRelational())}else if(this.optionalOperator("!=")){e=new f.Binary("!=",e,this.parseRelational())}else if(this.optionalOperator("!==")){e=new f.Binary("!==",e,this.parseRelational())}else{return e}}};e.prototype.parseRelational=function(){var e=this.parseAdditive();while(true){if(this.optionalOperator("<")){e=new f.Binary("<",e,this.parseAdditive())}else if(this.optionalOperator(">")){e=new f.Binary(">",e,this.parseAdditive())}else if(this.optionalOperator("<=")){e=new f.Binary("<=",e,this.parseAdditive())}else if(this.optionalOperator(">=")){e=new f.Binary(">=",e,this.parseAdditive())}else{return e}}};e.prototype.parseAdditive=function(){var e=this.parseMultiplicative();while(true){if(this.optionalOperator("+")){e=new f.Binary("+",e,this.parseMultiplicative())}else if(this.optionalOperator("-")){e=new f.Binary("-",e,this.parseMultiplicative())}else{return e}}};e.prototype.parseMultiplicative=function(){var e=this.parsePrefix();while(true){if(this.optionalOperator("*")){e=new f.Binary("*",e,this.parsePrefix())}else if(this.optionalOperator("%")){e=new f.Binary("%",e,this.parsePrefix())}else if(this.optionalOperator("/")){e=new f.Binary("/",e,this.parsePrefix())}else{return e}}};e.prototype.parsePrefix=function(){if(this.optionalOperator("+")){return this.parsePrefix()}else if(this.optionalOperator("-")){return new f.Binary("-",new f.LiteralPrimitive(0),this.parsePrefix())}else if(this.optionalOperator("!")){return new f.PrefixNot(this.parsePrefix())}else{return this.parseCallChain()}};e.prototype.parseCallChain=function(){var e=this.parsePrimary();while(true){if(this.optionalCharacter(l.$PERIOD)){e=this.parseAccessMemberOrMethodCall(e,false)}else if(this.optionalOperator("?.")){e=this.parseAccessMemberOrMethodCall(e,true)}else if(this.optionalCharacter(l.$LBRACKET)){var t=this.parsePipe();this.expectCharacter(l.$RBRACKET);if(this.optionalOperator("=")){var n=this.parseConditional();e=new f.KeyedWrite(e,t,n)}else{e=new f.KeyedRead(e,t)}}else if(this.optionalCharacter(l.$LPAREN)){var r=this.parseCallArguments();this.expectCharacter(l.$RPAREN);e=new f.FunctionCall(e,r)}else{return e}}};e.prototype.parsePrimary=function(){if(this.optionalCharacter(l.$LPAREN)){var e=this.parsePipe();this.expectCharacter(l.$RPAREN);return e}else if(this.next.isKeywordNull()||this.next.isKeywordUndefined()){this.advance();return new f.LiteralPrimitive(null)}else if(this.next.isKeywordTrue()){this.advance();return new f.LiteralPrimitive(true)}else if(this.next.isKeywordFalse()){this.advance();return new f.LiteralPrimitive(false)}else if(this.parseAction&&this.next.isKeywordIf()){this.advance();this.expectCharacter(l.$LPAREN);var t=this.parseExpression();this.expectCharacter(l.$RPAREN);var n=this.parseExpressionOrBlock();var r;if(this.next.isKeywordElse()){this.advance();r=this.parseExpressionOrBlock()}return new f.If(t,n,r)}else if(this.optionalCharacter(l.$LBRACKET)){var i=this.parseExpressionList(l.$RBRACKET);this.expectCharacter(l.$RBRACKET);return new f.LiteralArray(i)}else if(this.next.isCharacter(l.$LBRACE)){return this.parseLiteralMap()}else if(this.next.isIdentifier()){return this.parseAccessMemberOrMethodCall(h,false)}else if(this.next.isNumber()){var o=this.next.toNumber();this.advance();return new f.LiteralPrimitive(o)}else if(this.next.isString()){var a=this.next.toString();this.advance();return new f.LiteralPrimitive(a)}else if(this.index>=this.tokens.length){this.error("Unexpected end of expression: "+this.input)}else{this.error("Unexpected token "+this.next)}throw new c.BaseException("Fell through all cases in parsePrimary")};e.prototype.parseExpressionList=function(e){var t=[];if(!this.next.isCharacter(e)){do{t.push(this.parsePipe())}while(this.optionalCharacter(l.$COMMA))}return t};e.prototype.parseLiteralMap=function(){var e=[];var t=[];this.expectCharacter(l.$LBRACE);if(!this.optionalCharacter(l.$RBRACE)){do{var n=this.expectIdentifierOrKeywordOrString();e.push(n);this.expectCharacter(l.$COLON);t.push(this.parsePipe())}while(this.optionalCharacter(l.$COMMA));this.expectCharacter(l.$RBRACE)}return new f.LiteralMap(e,t)};e.prototype.parseAccessMemberOrMethodCall=function(e,t){if(t===void 0){t=false}var n=this.expectIdentifierOrKeyword();if(this.optionalCharacter(l.$LPAREN)){var r=this.parseCallArguments();this.expectCharacter(l.$RPAREN);var i=this.reflector.method(n);return t?new f.SafeMethodCall(e,n,i,r):new f.MethodCall(e,n,i,r)}else{if(t){if(this.optionalOperator("=")){this.error("The '?.' operator cannot be used in the assignment")}else{return new f.SafePropertyRead(e,n,this.reflector.getter(n))}}else{if(this.optionalOperator("=")){if(!this.parseAction){this.error("Bindings cannot contain assignments")}var o=this.parseConditional();return new f.PropertyWrite(e,n,this.reflector.setter(n),o)}else{return new f.PropertyRead(e,n,this.reflector.getter(n))}}}return null};e.prototype.parseCallArguments=function(){if(this.next.isCharacter(l.$RPAREN))return[];var e=[];do{e.push(this.parsePipe())}while(this.optionalCharacter(l.$COMMA));return e};e.prototype.parseExpressionOrBlock=function(){if(this.optionalCharacter(l.$LBRACE)){var e=this.parseBlockContent();this.expectCharacter(l.$RBRACE);return e}return this.parseExpression()};e.prototype.parseBlockContent=function(){if(!this.parseAction){this.error("Binding expression cannot contain chained expression")}var e=[];while(this.index<this.tokens.length&&!this.next.isCharacter(l.$RBRACE)){var t=this.parseExpression();e.push(t);if(this.optionalCharacter(l.$SEMICOLON)){while(this.optionalCharacter(l.$SEMICOLON)){}}}if(e.length==0)return new f.EmptyExpr;if(e.length==1)return e[0];return new f.Chain(e)};e.prototype.expectTemplateBindingKey=function(){var e="";var t=false;do{e+=this.expectIdentifierOrKeywordOrString();t=this.optionalOperator("-");if(t){e+="-"}}while(t);return e.toString()};e.prototype.parseTemplateBindings=function(){var e=[];var t=null;while(this.index<this.tokens.length){var n=this.optionalKeywordVar();var r=this.expectTemplateBindingKey();if(!n){if(t==null){t=r}else{r=t+"-"+r}}this.optionalCharacter(l.$COLON);var i=null;var o=null;if(n){if(this.optionalOperator("=")){i=this.expectTemplateBindingKey()}else{i="$implicit"}}else if(this.next!==l.EOF&&!this.peekKeywordVar()){var a=this.inputIndex;var s=this.parsePipe();var c=this.input.substring(a,this.inputIndex);o=new f.ASTWithSource(s,c,this.location)}e.push(new f.TemplateBinding(r,n,i,o));if(!this.optionalCharacter(l.$SEMICOLON)){this.optionalCharacter(l.$COMMA)}}return e};e.prototype.error=function(e,t){if(t===void 0){t=null}if(s.isBlank(t))t=this.index;var n=t<this.tokens.length?"at column "+(this.tokens[t].index+1)+" in":"at the end of the expression";throw new v(e,this.input,n,this.location)};return e}();t._ParseAST=g;var m=function(){function e(){this.simple=true}e.check=function(t){var n=new e;t.visit(n);return n.simple};e.prototype.visitImplicitReceiver=function(e){};e.prototype.visitInterpolation=function(e){this.simple=false};e.prototype.visitLiteralPrimitive=function(e){};e.prototype.visitPropertyRead=function(e){};e.prototype.visitPropertyWrite=function(e){this.simple=false};e.prototype.visitSafePropertyRead=function(e){this.simple=false};e.prototype.visitMethodCall=function(e){this.simple=false};e.prototype.visitSafeMethodCall=function(e){this.simple=false};e.prototype.visitFunctionCall=function(e){this.simple=false};e.prototype.visitLiteralArray=function(e){this.visitAll(e.expressions)};e.prototype.visitLiteralMap=function(e){this.visitAll(e.values)};e.prototype.visitBinary=function(e){this.simple=false};e.prototype.visitPrefixNot=function(e){this.simple=false};e.prototype.visitConditional=function(e){this.simple=false};e.prototype.visitPipe=function(e){this.simple=false};e.prototype.visitKeyedRead=function(e){this.simple=false};e.prototype.visitKeyedWrite=function(e){this.simple=false};e.prototype.visitAll=function(e){var t=u.ListWrapper.createFixedSize(e.length);for(var n=0;n<e.length;++n){t[n]=e[n].visit(this)}return t};e.prototype.visitChain=function(e){this.simple=false};e.prototype.visitIf=function(e){this.simple=false};return e}()},function(e,t,n){var r=n(4);var i=n(13);var o=n(11);var a=function(){function e(e,t){this.parent=e;this.current=t}e.prototype.contains=function(e){if(this.current.has(e)){return true}if(r.isPresent(this.parent)){return this.parent.contains(e)}return false};e.prototype.get=function(e){if(this.current.has(e)){return this.current.get(e)}if(r.isPresent(this.parent)){return this.parent.get(e)}throw new i.BaseException("Cannot find '"+e+"'")};e.prototype.set=function(e,t){if(this.current.has(e)){this.current.set(e,t)}else{throw new i.BaseException("Setting of new keys post-construction is not supported. Key: "+e+".")}};e.prototype.clearValues=function(){o.MapWrapper.clearValues(this.current)};return e}();t.Locals=a},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(4);var a=n(57);t.ViewEncapsulation=a.ViewEncapsulation;var s=function(){function e(e){var t=e===void 0?{}:e,n=t.templateUrl,r=t.template,i=t.directives,o=t.pipes,a=t.encapsulation,s=t.styles,c=t.styleUrls;this.templateUrl=n;this.template=r;this.styleUrls=c;this.styles=s;this.directives=i;this.pipes=o;this.encapsulation=a}e=r([o.CONST(),i("design:paramtypes",[Object])],e);return e}();t.ViewMetadata=s},function(e,t,n){var r=n(4);var i=n(11);var o=function(){function e(e,t){this.fullName=e;this.source=t}return e}();t.EventBinding=o;(function(e){e[e["PROPERTY"]=0]="PROPERTY";e[e["ATTRIBUTE"]=1]="ATTRIBUTE";e[e["CLASS"]=2]="CLASS";e[e["STYLE"]=3]="STYLE"})(t.PropertyBindingType||(t.PropertyBindingType={}));var a=t.PropertyBindingType;var s=function(){function e(e,t,n,r){if(r===void 0){r=null}this.type=e;this.astWithSource=t;this.property=n;this.unit=r}return e}();t.ElementPropertyBinding=s;var c=function(){function e(e){var t=e===void 0?{}:e,n=t.index,r=t.parentIndex,i=t.distanceToParent,o=t.directives,a=t.nestedProtoView,s=t.propertyBindings,c=t.variableBindings,u=t.eventBindings,l=t.readAttributes;this.index=n;this.parentIndex=r;this.distanceToParent=i;this.directives=o;this.nestedProtoView=a;this.propertyBindings=s;this.variableBindings=c;this.eventBindings=u;this.readAttributes=l}return e}();t.RenderElementBinder=c;var u=function(){function e(e){var t=e.directiveIndex,n=e.propertyBindings,r=e.eventBindings,i=e.hostPropertyBindings;this.directiveIndex=t;this.propertyBindings=n;this.eventBindings=r;this.hostPropertyBindings=i}return e}();t.DirectiveBinder=u;(function(e){e[e["HOST"]=0]="HOST";e[e["COMPONENT"]=1]="COMPONENT";e[e["EMBEDDED"]=2]="EMBEDDED"})(t.ViewType||(t.ViewType={}));var l=t.ViewType;var p=function(){function e(e){var t=e.render,n=e.elementBinders,r=e.variableBindings,i=e.type,o=e.textBindings,a=e.transitiveNgContentCount;this.render=t;this.elementBinders=n;this.variableBindings=r;this.type=i;this.textBindings=o;this.transitiveNgContentCount=a}return e}();t.ProtoViewDto=p;var f=function(){function e(e){var t=e.id,n=e.selector,i=e.compileChildren,o=e.events,a=e.hostListeners,s=e.hostProperties,c=e.hostAttributes,u=e.properties,l=e.readAttributes,p=e.type,f=e.callOnDestroy,h=e.callOnChanges,d=e.callDoCheck,v=e.callOnInit,y=e.callAfterContentInit,g=e.callAfterContentChecked,m=e.callAfterViewInit,_=e.callAfterViewChecked,b=e.changeDetection,w=e.exportAs,C=e.queries;this.id=t;this.selector=n;this.compileChildren=r.isPresent(i)?i:true;this.events=o;this.hostListeners=a;this.hostAttributes=c;this.hostProperties=s;this.properties=u;this.readAttributes=l;this.type=p;this.callOnDestroy=f;this.callOnChanges=h;this.callDoCheck=d;this.callOnInit=v;this.callAfterContentInit=y;this.callAfterContentChecked=g;this.callAfterViewInit=m;this.callAfterViewChecked=_;this.changeDetection=b;this.exportAs=w;this.queries=C}Object.defineProperty(e,"DIRECTIVE_TYPE",{get:function(){return 0},enumerable:true,configurable:true});Object.defineProperty(e,"COMPONENT_TYPE",{get:function(){return 1},enumerable:true,configurable:true});e.create=function(t){var n=t.id,o=t.selector,a=t.compileChildren,s=t.events,c=t.host,u=t.properties,l=t.readAttributes,p=t.type,f=t.callOnDestroy,h=t.callOnChanges,d=t.callDoCheck,v=t.callOnInit,y=t.callAfterContentInit,g=t.callAfterContentChecked,m=t.callAfterViewInit,_=t.callAfterViewChecked,b=t.changeDetection,w=t.exportAs,C=t.queries;var E=new i.Map;var R=new i.Map;var P=new i.Map;if(r.isPresent(c)){i.MapWrapper.forEach(c,function(t,n){var i=r.RegExpWrapper.firstMatch(e._hostRegExp,n);if(r.isBlank(i)){P.set(n,t)}else if(r.isPresent(i[1])){R.set(i[1],t)}else if(r.isPresent(i[2])){E.set(i[2],t)}})}return new e({id:n,selector:o,compileChildren:a,events:s,hostListeners:E,hostProperties:R,hostAttributes:P,properties:u,readAttributes:l,type:p,callOnDestroy:f,callOnChanges:h,callDoCheck:d,callOnInit:v,callAfterContentInit:y,callAfterContentChecked:g,callAfterViewInit:m,callAfterViewChecked:_,changeDetection:b,exportAs:w,queries:C})};e._hostRegExp=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))$/g;return e}();t.RenderDirectiveMetadata=f;var h=function(){function e(){}return e}();t.RenderProtoViewRef=h;var d=function(){function e(){}return e}();t.RenderFragmentRef=d;var v=function(){function e(){}return e}();t.RenderViewRef=v;(function(e){e[e["Emulated"]=0]="Emulated";e[e["Native"]=1]="Native";e[e["None"]=2]="None"})(t.ViewEncapsulation||(t.ViewEncapsulation={}));var y=t.ViewEncapsulation;t.VIEW_ENCAPSULATION_VALUES=[y.Emulated,y.Native,y.None];var g=function(){function e(e){var t=e===void 0?{}:e,n=t.componentId,i=t.templateAbsUrl,o=t.template,a=t.styleAbsUrls,s=t.styles,c=t.directives,u=t.encapsulation;this.componentId=n;this.templateAbsUrl=i;this.template=o;this.styleAbsUrls=a;this.styles=s;this.directives=c;this.encapsulation=r.isPresent(u)?u:y.Emulated}return e}();t.ViewDefinition=g;var m=function(){function e(e,t,n,r,i,o,a){this.mergedProtoViewRef=e;this.fragmentCount=t;this.mappedElementIndices=n;this.mappedElementCount=r;this.mappedTextIndices=i;this.hostElementIndicesByViewIndex=o;this.nestedViewCountByViewIndex=a}return e}();t.RenderProtoViewMergeMapping=m;var _=function(){function e(){}e.prototype.compileHost=function(e){return null};e.prototype.compile=function(e){return null};e.prototype.mergeProtoViewsRecursively=function(e){return null};return e}();t.RenderCompiler=_;var b=function(){function e(e,t){this.viewRef=e;this.fragmentRefs=t}return e}();t.RenderViewWithFragments=b;var w=function(){function e(){}e.prototype.createRootHostView=function(e,t,n){return null};e.prototype.createView=function(e,t){return null};e.prototype.destroyView=function(e){};e.prototype.attachFragmentAfterFragment=function(e,t){};e.prototype.attachFragmentAfterElement=function(e,t){};e.prototype.detachFragment=function(e){};e.prototype.hydrateView=function(e){};e.prototype.dehydrateView=function(e){};e.prototype.getNativeElementSync=function(e){return null};e.prototype.setElementProperty=function(e,t,n){};e.prototype.setElementAttribute=function(e,t,n){};e.prototype.setElementClass=function(e,t,n){};e.prototype.setElementStyle=function(e,t,n){};e.prototype.invokeElementMethod=function(e,t,n){};e.prototype.setText=function(e,t,n){};e.prototype.setEventDispatcher=function(e,t){};return e}();t.Renderer=w},function(e,t,n){var r=n(8);t.Class=r.Class},function(e,t,n){var r=n(60);t.AsyncPipe=r.AsyncPipe;var i=n(74);t.DatePipe=i.DatePipe;var o=n(76);t.DEFAULT_PIPES=o.DEFAULT_PIPES;t.DEFAULT_PIPES_TOKEN=o.DEFAULT_PIPES_TOKEN;var a=n(79);t.JsonPipe=a.JsonPipe;var s=n(80);t.SlicePipe=s.SlicePipe;var c=n(78);t.LowerCasePipe=c.LowerCasePipe;var u=n(81);t.NumberPipe=u.NumberPipe;t.DecimalPipe=u.DecimalPipe;t.PercentPipe=u.PercentPipe;t.CurrencyPipe=u.CurrencyPipe;var l=n(77);t.UpperCasePipe=l.UpperCasePipe},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(4);var a=n(61);var s=n(2);var c=n(5);var u=n(23);var l=n(73);var p=function(){function e(){}e.prototype.createSubscription=function(e,t){return a.ObservableWrapper.subscribe(e,t,function(e){throw e})};e.prototype.dispose=function(e){a.ObservableWrapper.dispose(e)};e.prototype.onDestroy=function(e){a.ObservableWrapper.dispose(e)};return e}();var f=function(){function e(){}e.prototype.createSubscription=function(e,t){return e.then(t)};e.prototype.dispose=function(e){};e.prototype.onDestroy=function(e){};return e}();var h=new f;var d=new p;var v=function(){function e(e){this._ref=e;this._latestValue=null;this._latestReturnedValue=null;this._subscription=null;this._obj=null;this._strategy=null}e.prototype.onDestroy=function(){if(o.isPresent(this._subscription)){this._dispose()}};e.prototype.transform=function(e,t){if(o.isBlank(this._obj)){if(o.isPresent(e)){this._subscribe(e)}return null}if(e!==this._obj){this._dispose();return this.transform(e)}if(this._latestValue===this._latestReturnedValue){return this._latestReturnedValue}else{this._latestReturnedValue=this._latestValue;return u.WrappedValue.wrap(this._latestValue)}};e.prototype._subscribe=function(e){var t=this;this._obj=e;this._strategy=this._selectStrategy(e);this._subscription=this._strategy.createSubscription(e,function(n){return t._updateLatestValue(e,n)})};e.prototype._selectStrategy=function(t){if(o.isPromise(t)){return h}else if(a.ObservableWrapper.isObservable(t)){return d}else{throw new l.InvalidPipeArgumentException(e,t)}};e.prototype._dispose=function(){this._strategy.dispose(this._subscription);this._latestValue=null;this._latestReturnedValue=null;this._subscription=null;this._obj=null};e.prototype._updateLatestValue=function(e,t){if(e===this._obj){this._latestValue=t;this._ref.markForCheck()}};e=r([s.Pipe({name:"async",pure:false}),c.Injectable(),i("design:paramtypes",[u.ChangeDetectorRef])],e);return e}();t.AsyncPipe=v},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=n(4);var o=n(62);var a=function(){function e(){}e.resolve=function(e){return Promise.resolve(e)};e.reject=function(e,t){return Promise.reject(e)};e.catchError=function(e,t){return e.catch(t)};e.all=function(e){if(e.length==0)return Promise.resolve([]);return Promise.all(e)};e.then=function(e,t,n){return e.then(t,n)};e.wrap=function(e){return new Promise(function(t,n){try{t(e())}catch(r){n(r)}})};e.completer=function(){var e;var t;var n=new Promise(function(n,r){e=n;t=r});return{promise:n,resolve:e,reject:t}};return e}();t.PromiseWrapper=a;var s=function(){function e(){}e.setTimeout=function(e,t){return i.global.setTimeout(e,t)};e.clearTimeout=function(e){i.global.clearTimeout(e)};e.setInterval=function(e,t){return i.global.setInterval(e,t)};e.clearInterval=function(e){i.global.clearInterval(e)};return e}();t.TimerWrapper=s;var c=function(){function e(){}e.subscribe=function(e,t,n,r){if(n===void 0){n=null}if(r===void 0){r=null}return e.observer({next:t,"throw":n,"return":r})};e.isObservable=function(e){return e instanceof u};e.dispose=function(e){e.unsubscribe()};e.callNext=function(e,t){e.next(t)};e.callThrow=function(e,t){e.throw(t)};e.callReturn=function(e){e.return(null)};return e}();t.ObservableWrapper=c;var u=function(){function e(){}e.prototype.observer=function(e){return null};return e}();t.Observable=u;var l=function(e){r(t,e);function t(){e.apply(this,arguments);this._subject=new o}t.prototype.observer=function(e){return this._subject.subscribe(function(t){setTimeout(function(){return e.next(t)})},function(t){return e.throw?e.throw(t):null},function(){return e.return?e.return():null})};t.prototype.toRx=function(){return this};t.prototype.next=function(e){this._subject.next(e)};t.prototype.throw=function(e){this._subject.error(e)};t.prototype.return=function(e){this._subject.complete()};return t}(u);t.EventEmitter=l},function(e,t,n){"use strict";t.__esModule=true;function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var a=n(63);var s=r(a);var c=n(64);var u=r(c);var l=n(68);var p=r(l);var f=n(72);var h=r(f);var d=p["default"].prototype.add;var v=p["default"].prototype.remove;var y=p["default"].prototype.unsubscribe;var g=u["default"].prototype.next;var m=u["default"].prototype.error;var _=u["default"].prototype.complete;var b=u["default"].prototype._next;var w=u["default"].prototype._error;var C=u["default"].prototype._complete;var E=s["default"].prototype._subscribe;var R=function(e){o(t,e);function t(){i(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++){r[o]=arguments[o]}e.call.apply(e,[this].concat(r));this.observers=[];this.isUnsubscribed=false;this.dispatching=false;this.errorSignal=false;this.completeSignal=false}t.create=function n(e,t){return new P(e,t)};t.prototype.lift=function r(e){var t=new P(this,this.destination||this);t.operator=e;return t};t.prototype._subscribe=function a(e){if(e.isUnsubscribed){return}else if(this.errorSignal){e.error(this.errorInstance);return}else if(this.completeSignal){e.complete();return}else if(this.isUnsubscribed){throw new Error("Cannot subscribe to a disposed Subject.")}this.observers.push(e);return new h["default"](this,e)};t.prototype.add=function s(e){d.call(this,e)};t.prototype.remove=function c(e){v.call(this,e)};t.prototype.unsubscribe=function u(){this.observers=void 0;y.call(this)};t.prototype.next=function l(e){if(this.isUnsubscribed){return}this.dispatching=true;this._next(e);this.dispatching=false;if(this.errorSignal){this.error(this.errorInstance)}else if(this.completeSignal){this.complete()}};t.prototype.error=function p(e){if(this.isUnsubscribed||this.completeSignal){return}this.errorSignal=true;this.errorInstance=e;if(this.dispatching){return}this._error(e);this.unsubscribe()};t.prototype.complete=function f(){if(this.isUnsubscribed||this.errorSignal){return}this.completeSignal=true;if(this.dispatching){return}this._complete();this.unsubscribe()};t.prototype._next=function g(e){var t=-1;var n=this.observers.slice(0);var r=n.length;while(++t<r){n[t].next(e)}};t.prototype._error=function m(e){var t=-1;var n=this.observers;var r=n.length;this.observers=void 0;this.isUnsubscribed=true;while(++t<r){n[t].error(e)}this.isUnsubscribed=false};t.prototype._complete=function _(){var e=-1;var t=this.observers;var n=t.length;this.observers=void 0;this.isUnsubscribed=true;while(++e<n){t[e].complete()}this.isUnsubscribed=false};return t}(s["default"]);t["default"]=R;var P=function(e){o(t,e);function t(n,r){i(this,t);e.call(this);this.source=n;this.destination=r}t.prototype._subscribe=function n(e){return E.call(this,e)};t.prototype.next=function r(e){g.call(this,e)};t.prototype.error=function a(e){m.call(this,e)};t.prototype.complete=function s(){_.call(this)};t.prototype._next=function c(e){b.call(this,e)};t.prototype._error=function u(e){w.call(this,e)};t.prototype._complete=function l(){C.call(this)};return t}(R);e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o=n(64);var a=r(o);var s=n(69);var c=r(s);var u=function(){function e(t){i(this,e);this._isScalar=false;if(t){this._subscribe=t}}e.prototype.lift=function t(n){var r=new e;r.source=this;r.operator=n;return r};e.prototype[c["default"]]=function(){return this};e.prototype.subscribe=function n(e,t,r){var i=undefined;if(e&&typeof e==="object"){if(e instanceof a["default"]){i=e}else{i=new a["default"](e)}}else{var o=e;i=a["default"].create(o,t,r)}i.add(this._subscribe(i));return i};e.prototype.forEach=function r(e){var t=this;return new Promise(function(n,r){t.subscribe(e,r,n)})};e.prototype._subscribe=function o(e){return this.source._subscribe(this.operator.call(e))};return e}();t["default"]=u;u.create=function(e){return new u(e)};e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function a(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var s=n(65);var c=i(s);var u=n(66);var l=i(u);var p=n(67);var f=i(p);var h=n(68);var d=i(h);var v=function(e){a(t,e);function t(n){o(this,t);e.call(this);this._isUnsubscribed=false;this.destination=n;if(!n){return}var r=n._subscription;if(r){this._subscription=r}else if(n instanceof t){this._subscription=n}}t.create=function n(e,r,i){var o=new t;o._next=typeof e==="function"&&f["default"](e)||c["default"];o._error=typeof r==="function"&&r||l["default"];o._complete=typeof i==="function"&&i||c["default"];return o};t.prototype._next=function i(e){this.destination.next(e)};t.prototype._error=function s(e){this.destination.error(e)};t.prototype._complete=function u(){this.destination.complete()};t.prototype.add=function p(t){var n=this._subscription;if(n){n.add(t)}else{e.prototype.add.call(this,t)}};t.prototype.remove=function h(t){if(this._subscription){this._subscription.remove(t)}else{e.prototype.remove.call(this,t)}};t.prototype.unsubscribe=function d(){if(this._isUnsubscribed){return}else if(this._subscription){this._isUnsubscribed=true}else{e.prototype.unsubscribe.call(this)}};t.prototype.next=function v(e){if(!this.isUnsubscribed){this._next(e)}};t.prototype.error=function y(e){if(!this.isUnsubscribed){this._error(e);this.unsubscribe()}};t.prototype.complete=function g(){if(!this.isUnsubscribed){this._complete();this.unsubscribe()}};r(t,[{key:"isUnsubscribed",get:function m(){var e=this._subscription;if(e){return this._isUnsubscribed||e.isUnsubscribed}else{return this._isUnsubscribed}},set:function _(e){var t=this._subscription;if(t){t.isUnsubscribed=Boolean(e)}else{this._isUnsubscribed=Boolean(e)}}}]);return t}(d["default"]);t["default"]=v;e.exports=t["default"]},function(e,t){"use strict";t.__esModule=true;t["default"]=n;function n(){}e.exports=t["default"]},function(e,t){
"use strict";t.__esModule=true;t["default"]=n;function n(e){throw e}e.exports=t["default"]},function(e,t){"use strict";t.__esModule=true;t["default"]=n;function n(e){function t(){try{t.target.apply(this,arguments)}catch(e){this.error(e)}}t.target=e;return t}e.exports=t["default"]},function(e,t){"use strict";t.__esModule=true;function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var r=function(){function e(t){n(this,e);this.isUnsubscribed=false;if(t){this._unsubscribe=t}}e.prototype._unsubscribe=function t(){};e.prototype.unsubscribe=function r(){if(this.isUnsubscribed){return}this.isUnsubscribed=true;var r=this._unsubscribe;var e=this._subscriptions;this._subscriptions=void 0;if(r){r.call(this)}if(e!=null){var t=-1;var n=e.length;while(++t<n){e[t].unsubscribe()}}};e.prototype.add=function i(t){if(!t||t===this||t===e.EMPTY){return}var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n.isUnsubscribed||typeof n.unsubscribe!=="function"){break}else if(this.isUnsubscribed){n.unsubscribe()}else{var r=this._subscriptions||(this._subscriptions=[]);r.push(n)}break;default:throw new Error("Unrecognized subscription "+t+" added to Subscription.")}};e.prototype.remove=function o(t){if(t==null||t===this||t===e.EMPTY){return}var n=this._subscriptions;if(n){var r=n.indexOf(t);if(r!==-1){n.splice(r,1)}}};return e}();t["default"]=r;r.EMPTY=function(e){e.isUnsubscribed=true;return e}(new r);e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;var r=n(70);if(!r.root.Symbol){r.root.Symbol={}}if(!r.root.Symbol.observable){if(typeof r.root.Symbol["for"]==="function"){r.root.Symbol.observable=r.root.Symbol["for"]("observable")}else{r.root.Symbol.observable="@@observable"}}t["default"]=r.root.Symbol.observable;e.exports=t["default"]},function(e,t,n){(function(e,n){"use strict";t.__esModule=true;var r={"boolean":false,"function":true,object:true,number:false,string:false,undefined:false};var i=r[typeof self]&&self||r[typeof window]&&window;t.root=i;var o=r[typeof t]&&t&&!t.nodeType&&t;var a=r[typeof e]&&e&&!e.nodeType&&e;var s=r[typeof n]&&n;if(s&&(s.global===s||s.window===s)){t.root=i=s}}).call(t,n(71)(e),function(){return this}())},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){e.deprecate=function(){};e.paths=[];e.children=[];e.webpackPolyfill=1}return e}},function(e,t,n){"use strict";t.__esModule=true;function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var a=n(68);var s=r(a);var c=function(e){o(t,e);function t(n,r){i(this,t);e.call(this);this.subject=n;this.observer=r;this.isUnsubscribed=false}t.prototype.unsubscribe=function n(){if(this.isUnsubscribed){return}this.isUnsubscribed=true;var e=this.subject;var t=e.observers;this.subject=void 0;if(!t||t.length===0||e.isUnsubscribed){return}var n=t.indexOf(this.observer);if(n!==-1){t.splice(n,1)}};return t}(s["default"]);t["default"]=c;e.exports=t["default"]},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=n(13);var o=function(e){r(t,e);function t(t,n){e.call(this,"Invalid argument '"+n+"' for pipe '"+t+"'")}return t}(i.BaseException);t.InvalidPipeArgumentException=o},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(4);var a=n(75);var s=n(5);var c=n(2);var u=n(11);var l=n(73);var p="en-US";var f=function(){function e(){}e.prototype.transform=function(t,n){if(o.isBlank(t))return null;if(!this.supports(t)){throw new l.InvalidPipeArgumentException(e,t)}var r=o.isPresent(n)&&n.length>0?n[0]:"mediumDate";if(o.isNumber(t)){t=o.DateWrapper.fromMillis(t)}if(u.StringMapWrapper.contains(e._ALIASES,r)){r=u.StringMapWrapper.get(e._ALIASES,r)}return a.DateFormatter.format(t,p,r)};e.prototype.supports=function(e){return o.isDate(e)||o.isNumber(e)};e._ALIASES={medium:"yMMMdjms","short":"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"};e=r([o.CONST(),c.Pipe({name:"date"}),s.Injectable(),i("design:paramtypes",[])],e);return e}();t.DatePipe=f},function(e,t){(function(e){e[e["Decimal"]=0]="Decimal";e[e["Percent"]=1]="Percent";e[e["Currency"]=2]="Currency"})(t.NumberFormatStyle||(t.NumberFormatStyle={}));var n=t.NumberFormatStyle;var r=function(){function e(){}e.format=function(e,t,r,i){var o=i===void 0?{}:i,a=o.minimumIntegerDigits,s=a===void 0?1:a,c=o.minimumFractionDigits,u=c===void 0?0:c,l=o.maximumFractionDigits,p=l===void 0?3:l,f=o.currency,h=o.currencyAsSymbol,d=h===void 0?false:h;var v={minimumIntegerDigits:s,minimumFractionDigits:u,maximumFractionDigits:p};v.style=n[r].toLowerCase();if(r==n.Currency){v.currency=f;v.currencyDisplay=d?"symbol":"code"}return new Intl.NumberFormat(t,v).format(e)};return e}();t.NumberFormatter=r;function i(e){return e==2?"2-digit":"numeric"}function o(e){return e<4?"short":"long"}function a(e){var t={};var n=0,r;while(n<e.length){r=n;while(r<e.length&&e[r]==e[n])r++;var a=r-n;switch(e[n]){case"G":t.era=o(a);break;case"y":t.year=i(a);break;case"M":if(a>=3)t.month=o(a);else t.month=i(a);break;case"d":t.day=i(a);break;case"E":t.weekday=o(a);break;case"j":t.hour=i(a);break;case"h":t.hour=i(a);t.hour12=true;break;case"H":t.hour=i(a);t.hour12=false;break;case"m":t.minute=i(a);break;case"s":t.second=i(a);break;case"z":t.timeZoneName="long";break;case"Z":t.timeZoneName="short";break}n=r}return t}var s=new Map;var c=function(){function e(){}e.format=function(e,t,n){var r=t+n;if(s.has(r)){return s.get(r).format(e)}var i=new Intl.DateTimeFormat(t,a(n));s.set(r,i);return i.format(e)};return e}();t.DateFormatter=c},function(e,t,n){var r=n(60);var i=n(77);var o=n(78);var a=n(79);var s=n(80);var c=n(74);var u=n(81);var l=n(4);var p=n(5);var f=l.CONST_EXPR([r.AsyncPipe,i.UpperCasePipe,o.LowerCasePipe,a.JsonPipe,s.SlicePipe,u.DecimalPipe,u.PercentPipe,u.CurrencyPipe,c.DatePipe]);t.DEFAULT_PIPES_TOKEN=l.CONST_EXPR(new p.OpaqueToken("Default Pipes"));t.DEFAULT_PIPES=l.CONST_EXPR(new p.Binding(t.DEFAULT_PIPES_TOKEN,{toValue:f}))},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(4);var a=n(2);var s=n(5);var c=n(73);var u=function(){function e(){}e.prototype.transform=function(t,n){if(n===void 0){n=null}if(o.isBlank(t))return t;if(!o.isString(t)){throw new c.InvalidPipeArgumentException(e,t)}return o.StringWrapper.toUpperCase(t)};e=r([o.CONST(),a.Pipe({name:"uppercase"}),s.Injectable(),i("design:paramtypes",[])],e);return e}();t.UpperCasePipe=u},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(4);var a=n(5);var s=n(2);var c=n(73);var u=function(){function e(){}e.prototype.transform=function(t,n){if(n===void 0){n=null}if(o.isBlank(t))return t;if(!o.isString(t)){throw new c.InvalidPipeArgumentException(e,t)}return o.StringWrapper.toLowerCase(t)};e=r([o.CONST(),s.Pipe({name:"lowercase"}),a.Injectable(),i("design:paramtypes",[])],e);return e}();t.LowerCasePipe=u},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(4);var a=n(5);var s=n(2);var c=function(){function e(){}e.prototype.transform=function(e,t){if(t===void 0){t=null}return o.Json.stringify(e)};e=r([o.CONST(),s.Pipe({name:"json"}),a.Injectable(),i("design:paramtypes",[])],e);return e}();t.JsonPipe=c},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(4);var a=n(13);var s=n(11);var c=n(5);var u=n(73);var l=n(2);var p=function(){function e(){}e.prototype.transform=function(t,n){if(n===void 0){n=null}if(o.isBlank(n)||n.length==0){throw new a.BaseException("Slice pipe requires one argument")}if(!this.supports(t)){throw new u.InvalidPipeArgumentException(e,t)}if(o.isBlank(t))return t;var r=n[0];var i=n.length>1?n[1]:null;if(o.isString(t)){return o.StringWrapper.slice(t,r,i)}return s.ListWrapper.slice(t,r,i)};e.prototype.supports=function(e){return o.isString(e)||o.isArray(e)};e=r([l.Pipe({name:"slice"}),c.Injectable(),i("design:paramtypes",[])],e);return e}();t.SlicePipe=p},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var o=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var a=n(4);var s=n(13);var c=n(75);var u=n(5);var l=n(2);var p=n(11);var f=n(73);var h="en-US";var d=a.RegExpWrapper.create("^(\\d+)?\\.((\\d+)(\\-(\\d+))?)?$");var v=function(){function e(){}e._format=function(t,n,r,i,o){if(i===void 0){i=null}if(o===void 0){o=false}if(a.isBlank(t))return null;if(!a.isNumber(t)){throw new f.InvalidPipeArgumentException(e,t)}var u=1,l=0,p=3;if(a.isPresent(r)){var v=a.RegExpWrapper.firstMatch(d,r);if(a.isBlank(v)){throw new s.BaseException(r+" is not a valid digit info for number pipes")}if(a.isPresent(v[1])){u=a.NumberWrapper.parseIntAutoRadix(v[1])}if(a.isPresent(v[3])){l=a.NumberWrapper.parseIntAutoRadix(v[3])}if(a.isPresent(v[5])){p=a.NumberWrapper.parseIntAutoRadix(v[5])}}return c.NumberFormatter.format(t,h,n,{minimumIntegerDigits:u,minimumFractionDigits:l,maximumFractionDigits:p,currency:i,currencyAsSymbol:o})};e=i([a.CONST(),u.Injectable(),o("design:paramtypes",[])],e);return e}();t.NumberPipe=v;var y=function(e){r(t,e);function t(){e.apply(this,arguments)}t.prototype.transform=function(e,t){var n=p.ListWrapper.first(t);return v._format(e,c.NumberFormatStyle.Decimal,n)};t=i([a.CONST(),l.Pipe({name:"number"}),u.Injectable(),o("design:paramtypes",[])],t);return t}(v);t.DecimalPipe=y;var g=function(e){r(t,e);function t(){e.apply(this,arguments)}t.prototype.transform=function(e,t){var n=p.ListWrapper.first(t);return v._format(e,c.NumberFormatStyle.Percent,n)};t=i([a.CONST(),l.Pipe({name:"percent"}),u.Injectable(),o("design:paramtypes",[])],t);return t}(v);t.PercentPipe=g;var m=function(e){r(t,e);function t(){e.apply(this,arguments)}t.prototype.transform=function(e,t){var n=a.isPresent(t)&&t.length>0?t[0]:"USD";var r=a.isPresent(t)&&t.length>1?t[1]:false;var i=a.isPresent(t)&&t.length>2?t[2]:null;return v._format(e,c.NumberFormatStyle.Currency,i,n,r)};t=i([a.CONST(),l.Pipe({name:"currency"}),u.Injectable(),o("design:paramtypes",[])],t);return t}(v);t.CurrencyPipe=m},function(e,t,n){var r=n(4);t.Type=r.Type;var i=n(61);t.Observable=i.Observable;t.EventEmitter=i.EventEmitter;var o=n(13);t.WrappedException=o.WrappedException},function(e,t,n){var r=n(84);t.APP_COMPONENT=r.APP_COMPONENT;var i=n(85);t.platform=i.platform;t.bootstrap=i.commonBootstrap;var o=n(184);t.PlatformRef=o.PlatformRef;t.ApplicationRef=o.ApplicationRef;t.applicationCommonBindings=o.applicationCommonBindings;t.createNgZone=o.createNgZone;t.platformCommon=o.platformCommon;t.platformBindings=o.platformBindings},function(e,t,n){var r=n(5);var i=n(4);t.APP_COMPONENT_REF_PROMISE=i.CONST_EXPR(new r.OpaqueToken("Promise<ComponentRef>"));t.APP_COMPONENT=i.CONST_EXPR(new r.OpaqueToken("AppComponent"))},function(e,t,n){var r=n(86);var i=n(5);var o=n(4);var a=n(172);var s=n(174);var c=n(108);var u=n(132);var l=n(134);var p=n(133);var f=n(176);var h=n(163);var d=n(177);var v=n(178);var y=n(128);var g=n(180);var m=n(175);var _=n(57);var b=n(131);var w=n(153);var C=n(181);var E=n(136);var R=n(182);var P=n(157);var D=n(162);var I=n(183);var x=n(184);function O(){if(o.isBlank(c.DOM)){throw"Must set a root DOM adapter first."}return[i.bind(b.DOCUMENT).toValue(c.DOM.defaultDoc()),h.EventManager,new i.Binding(h.EVENT_MANAGER_PLUGINS,{toClass:h.DomEventsPlugin,multi:true}),new i.Binding(h.EVENT_MANAGER_PLUGINS,{toClass:d.KeyEventsPlugin,multi:true}),new i.Binding(h.EVENT_MANAGER_PLUGINS,{toClass:v.HammerGesturesPlugin,multi:true}),b.DomRenderer,i.bind(_.Renderer).toAlias(b.DomRenderer),b.APP_ID_RANDOM_BINDING,b.TemplateCloner,i.bind(b.MAX_IN_MEMORY_ELEMENTS_PER_TEMPLATE).toValue(20),b.DefaultDomCompiler,i.bind(w.ElementSchemaRegistry).toValue(new C.DomElementSchemaRegistry),i.bind(_.RenderCompiler).toAlias(b.DefaultDomCompiler),E.DomSharedStylesHost,i.bind(E.SharedStylesHost).toAlias(E.DomSharedStylesHost),u.ViewLoader,R.EXCEPTION_BINDING,i.bind(p.XHR).toValue(new f.XHRImpl),l.StyleInliner,m.Testability,g.AnchorBasedAppRootUrl,i.bind(y.AppRootUrl).toAlias(g.AnchorBasedAppRootUrl),D.BrowserDetails,P.AnimationBuilder,r.FORM_BINDINGS]}t.applicationDomBindings=O;function S(e){return x.platformCommon(e,function(){a.BrowserDomAdapter.makeCurrent();I.wtfInit();s.BrowserGetTestability.init()})}t.platform=S;function N(e,t){if(t===void 0){t=null}var n=S();var r=[x.applicationCommonBindings(),O()];if(o.isPresent(t)){r.push(t)}return n.application(r).bootstrap(e)}t.commonBootstrap=N},function(e,t,n){var r=n(87);t.AbstractControl=r.AbstractControl;t.Control=r.Control;t.ControlGroup=r.ControlGroup;t.ControlArray=r.ControlArray;var i=n(89);t.AbstractControlDirective=i.AbstractControlDirective;var o=n(90);t.ControlContainer=o.ControlContainer;var a=n(91);t.NgControlName=a.NgControlName;var s=n(94);t.NgFormControl=s.NgFormControl;var c=n(95);t.NgModel=c.NgModel;var u=n(92);t.NgControl=u.NgControl;var l=n(96);t.NgControlGroup=l.NgControlGroup;var p=n(97);t.NgFormModel=p.NgFormModel;var f=n(98);t.NgForm=f.NgForm;var h=n(99);t.DefaultValueAccessor=h.DefaultValueAccessor;var d=n(167);t.CheckboxControlValueAccessor=d.CheckboxControlValueAccessor;var v=n(168);t.NgSelectOption=v.NgSelectOption;t.SelectControlValueAccessor=v.SelectControlValueAccessor;var y=n(169);t.FORM_DIRECTIVES=y.FORM_DIRECTIVES;var g=n(88);t.NG_VALIDATORS=g.NG_VALIDATORS;t.Validators=g.Validators;var m=n(170);t.DefaultValidators=m.DefaultValidators;var _=n(171);t.FormBuilder=_.FormBuilder;var b=n(171);var w=n(4);t.FORM_BINDINGS=w.CONST_EXPR([b.FormBuilder])},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=n(4);var o=n(61);var a=n(11);var s=n(88);t.VALID="VALID";t.INVALID="INVALID";function c(e){return e instanceof l}t.isControl=c;function u(e,t){if(i.isBlank(t))return null;if(!(t instanceof Array)){t=t.split("/")}if(t instanceof Array&&a.ListWrapper.isEmpty(t))return null;return a.ListWrapper.reduce(t,function(e,t){if(e instanceof f){return i.isPresent(e.controls[t])?e.controls[t]:null}else if(e instanceof h){var n=t;return i.isPresent(e.at(n))?e.at(n):null}else{return null}},e)}var l=function(){function e(e){this.validator=e;this._pristine=true;this._touched=false}Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"status",{get:function(){return this._status},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"valid",{get:function(){return this._status===t.VALID},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"errors",{get:function(){return this._errors},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"pristine",{get:function(){return this._pristine},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"dirty",{get:function(){return!this.pristine},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"touched",{get:function(){return this._touched},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"untouched",{get:function(){return!this._touched},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"valueChanges",{get:function(){return this._valueChanges},enumerable:true,configurable:true});e.prototype.markAsTouched=function(){this._touched=true};e.prototype.markAsDirty=function(e){var t=(e===void 0?{}:e).onlySelf;t=i.normalizeBool(t);this._pristine=false;if(i.isPresent(this._parent)&&!t){this._parent.markAsDirty({onlySelf:t})}};e.prototype.setParent=function(e){this._parent=e};e.prototype.updateValidity=function(e){var n=(e===void 0?{}:e).onlySelf;n=i.normalizeBool(n);this._errors=this.validator(this);this._status=i.isPresent(this._errors)?t.INVALID:t.VALID;if(i.isPresent(this._parent)&&!n){this._parent.updateValidity({onlySelf:n})}};e.prototype.updateValueAndValidity=function(e){var n=e===void 0?{}:e,r=n.onlySelf,a=n.emitEvent;r=i.normalizeBool(r);a=i.isPresent(a)?a:true;this._updateValue();if(a){o.ObservableWrapper.callNext(this._valueChanges,this._value)}this._errors=this.validator(this);this._status=i.isPresent(this._errors)?t.INVALID:t.VALID;if(i.isPresent(this._parent)&&!r){this._parent.updateValueAndValidity({onlySelf:r,emitEvent:a})}};e.prototype.find=function(e){return u(this,e)};e.prototype.getError=function(e,t){if(t===void 0){t=null}var n=i.isPresent(t)&&!a.ListWrapper.isEmpty(t)?this.find(t):this;if(i.isPresent(n)&&i.isPresent(n._errors)){return a.StringMapWrapper.get(n._errors,e)}else{return null}};e.prototype.hasError=function(e,t){if(t===void 0){t=null}return i.isPresent(this.getError(e,t))};e.prototype._updateValue=function(){};return e}();t.AbstractControl=l;var p=function(e){r(t,e);function t(t,n){if(t===void 0){t=null}if(n===void 0){n=s.Validators.nullValidator}e.call(this,n);this._value=t;this.updateValidity({onlySelf:true});this._valueChanges=new o.EventEmitter}t.prototype.updateValue=function(e,t){var n=t===void 0?{}:t,r=n.onlySelf,o=n.emitEvent,a=n.emitModelToViewChange;a=i.isPresent(a)?a:true;this._value=e;if(i.isPresent(this._onChange)&&a)this._onChange(this._value);this.updateValueAndValidity({onlySelf:r,emitEvent:o})};t.prototype.registerOnChange=function(e){this._onChange=e};return t}(l);t.Control=p;var f=function(e){r(t,e);function t(t,n,r){if(n===void 0){n=null}if(r===void 0){r=s.Validators.group}e.call(this,r);this.controls=t;this._optionals=i.isPresent(n)?n:{};this._valueChanges=new o.EventEmitter;this._setParentForControls();this._value=this._reduceValue();this.updateValidity({onlySelf:true})}t.prototype.addControl=function(e,t){this.controls[e]=t;t.setParent(this)};t.prototype.removeControl=function(e){a.StringMapWrapper.delete(this.controls,e)};t.prototype.include=function(e){a.StringMapWrapper.set(this._optionals,e,true);this.updateValueAndValidity()};t.prototype.exclude=function(e){a.StringMapWrapper.set(this._optionals,e,false);this.updateValueAndValidity()};t.prototype.contains=function(e){var t=a.StringMapWrapper.contains(this.controls,e);return t&&this._included(e)};t.prototype._setParentForControls=function(){var e=this;a.StringMapWrapper.forEach(this.controls,function(t,n){t.setParent(e)})};t.prototype._updateValue=function(){this._value=this._reduceValue()};t.prototype._reduceValue=function(){return this._reduceChildren({},function(e,t,n){e[n]=t.value;return e})};t.prototype._reduceChildren=function(e,t){var n=this;var r=e;a.StringMapWrapper.forEach(this.controls,function(e,i){if(n._included(i)){r=t(r,e,i)}});return r};t.prototype._included=function(e){var t=a.StringMapWrapper.contains(this._optionals,e);return!t||a.StringMapWrapper.get(this._optionals,e)};return t}(l);t.ControlGroup=f;var h=function(e){r(t,e);function t(t,n){if(n===void 0){n=s.Validators.array}e.call(this,n);this.controls=t;this._valueChanges=new o.EventEmitter;this._setParentForControls();this._updateValue();this.updateValidity({onlySelf:true})}t.prototype.at=function(e){return this.controls[e]};t.prototype.push=function(e){this.controls.push(e);e.setParent(this);this.updateValueAndValidity()};t.prototype.insert=function(e,t){a.ListWrapper.insert(this.controls,e,t);t.setParent(this);this.updateValueAndValidity()};t.prototype.removeAt=function(e){a.ListWrapper.removeAt(this.controls,e);this.updateValueAndValidity()};Object.defineProperty(t.prototype,"length",{get:function(){return this.controls.length},enumerable:true,configurable:true});t.prototype._updateValue=function(){this._value=this.controls.map(function(e){return e.value})};t.prototype._setParentForControls=function(){var e=this;this.controls.forEach(function(t){t.setParent(e)})};return t}(l);t.ControlArray=h},function(e,t,n){var r=n(4);var i=n(4);var o=n(11);var a=n(5);t.NG_VALIDATORS=i.CONST_EXPR(new a.OpaqueToken("NgValidators"));var s=function(){function e(){}e.required=function(e){return r.isBlank(e.value)||e.value==""?{required:true}:null};e.nullValidator=function(e){return null};e.compose=function(t){if(r.isBlank(t))return e.nullValidator;return function(e){var n=o.ListWrapper.reduce(t,function(t,n){var i=n(e);return r.isPresent(i)?o.StringMapWrapper.merge(t,i):t},{});return o.StringMapWrapper.isEmpty(n)?null:n}};e.group=function(t){var n={};o.StringMapWrapper.forEach(t.controls,function(i,o){if(t.contains(o)&&r.isPresent(i.errors)){e._mergeErrors(i,n)}});return o.StringMapWrapper.isEmpty(n)?null:n};e.array=function(t){var n={};t.controls.forEach(function(t){if(r.isPresent(t.errors)){e._mergeErrors(t,n)}});return o.StringMapWrapper.isEmpty(n)?null:n};e._mergeErrors=function(e,t){o.StringMapWrapper.forEach(e.errors,function(n,r){if(!o.StringMapWrapper.contains(t,r)){t[r]=[]}var i=t[r];i.push(e)})};return e}();t.Validators=s},function(e,t){var n=function(){function e(){}Object.defineProperty(e.prototype,"control",{get:function(){return null},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"value",{get:function(){return this.control.value},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"valid",{get:function(){return this.control.valid},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"errors",{get:function(){return this.control.errors},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"pristine",{get:function(){return this.control.pristine},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"dirty",{get:function(){return this.control.dirty},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"touched",{get:function(){return this.control.touched},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"untouched",{get:function(){return this.control.untouched},enumerable:true,configurable:true});return e}();t.AbstractControlDirective=n},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=n(89);var o=function(e){r(t,e);function t(){e.apply(this,arguments)}Object.defineProperty(t.prototype,"formDirective",{get:function(){return null},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:true,configurable:true});return t}(i.AbstractControlDirective);t.ControlContainer=o},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var o=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};var s=n(4);var c=n(61);var u=n(2);var l=n(5);var p=n(90);var f=n(92);var h=n(93);var d=n(88);var v=s.CONST_EXPR(new l.Binding(f.NgControl,{toAlias:l.forwardRef(function(){return y})}));var y=function(e){r(t,e);function t(t,n){e.call(this);this.update=new c.EventEmitter;this._added=false;this._parent=t;this.validators=n}t.prototype.onChanges=function(e){if(!this._added){this.formDirective.addControl(this);this._added=true}if(h.isPropertyUpdated(e,this.viewModel)){this.viewModel=this.model;this.formDirective.updateModel(this,this.model)}};t.prototype.onDestroy=function(){this.formDirective.removeControl(this)};t.prototype.viewToModelUpdate=function(e){this.viewModel=e;c.ObservableWrapper.callNext(this.update,e)};Object.defineProperty(t.prototype,"path",{get:function(){return h.controlPath(this.name,this._parent)},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent.formDirective},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"control",{get:function(){return this.formDirective.getControl(this)},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"validator",{get:function(){return d.Validators.compose(this.validators)},enumerable:true,configurable:true});t=i([u.Directive({selector:"[ng-control]",bindings:[v],properties:["name: ngControl","model: ngModel"],events:["update: ngModel"],exportAs:"form"}),a(0,l.Host()),a(0,l.SkipSelf()),a(1,l.Optional()),a(1,l.Inject(d.NG_VALIDATORS)),o("design:paramtypes",[p.ControlContainer,Array])],t);return t}(f.NgControl);t.NgControlName=y},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=n(89);var o=function(e){r(t,e);function t(){e.apply(this,arguments);this.name=null;this.valueAccessor=null}Object.defineProperty(t.prototype,"validator",{get:function(){return null},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:true,configurable:true});t.prototype.viewToModelUpdate=function(e){};return t}(i.AbstractControlDirective);t.NgControl=o},function(e,t,n){var r=n(11);var i=n(4);var o=n(13);var a=n(88);function s(e,t){var n=r.ListWrapper.clone(t.path);n.push(e);return n}t.controlPath=s;function c(e,t){if(i.isBlank(e))u(t,"Cannot find control");if(i.isBlank(t.valueAccessor))u(t,"No value accessor for");e.validator=a.Validators.compose([e.validator,t.validator]);t.valueAccessor.writeValue(e.value);t.valueAccessor.registerOnChange(function(n){t.viewToModelUpdate(n);e.updateValue(n,{emitModelToViewChange:false});e.markAsDirty()});e.registerOnChange(function(e){return t.valueAccessor.writeValue(e)});t.valueAccessor.registerOnTouched(function(){return e.markAsTouched()})}t.setUpControl=c;function u(e,t){var n=r.ListWrapper.join(e.path," -> ");throw new o.BaseException(t+" '"+n+"'")}function l(e,t,n,r){e.setElementProperty(t,n,r)}t.setProperty=l;function p(e,t){if(!r.StringMapWrapper.contains(e,"model"))return false;var n=e["model"];if(n.isFirstChange())return true;return!i.looseIdentical(t,n.currentValue)}t.isPropertyUpdated=p},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var o=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};var s=n(4);var c=n(61);var u=n(2);var l=n(5);var p=n(92);var f=n(88);var h=n(93);var d=s.CONST_EXPR(new l.Binding(p.NgControl,{toAlias:l.forwardRef(function(){return v})}));var v=function(e){r(t,e);function t(t){e.call(this);this.update=new c.EventEmitter;this._added=false;this.validators=t}t.prototype.onChanges=function(e){if(!this._added){h.setUpControl(this.form,this);this.form.updateValidity();this._added=true}if(h.isPropertyUpdated(e,this.viewModel)){this.form.updateValue(this.model);this.viewModel=this.model}};Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"control",{get:function(){return this.form},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"validator",{get:function(){return f.Validators.compose(this.validators)},enumerable:true,configurable:true});t.prototype.viewToModelUpdate=function(e){this.viewModel=e;c.ObservableWrapper.callNext(this.update,e)};t=i([u.Directive({selector:"[ng-form-control]",bindings:[d],properties:["form: ngFormControl","model: ngModel"],events:["update: ngModel"],exportAs:"form"}),a(0,l.Optional()),a(0,l.Inject(f.NG_VALIDATORS)),o("design:paramtypes",[Array])],t);return t}(p.NgControl);t.NgFormControl=v},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);
switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var o=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};var s=n(4);var c=n(61);var u=n(2);var l=n(5);var p=n(92);var f=n(87);var h=n(88);var d=n(93);var v=s.CONST_EXPR(new l.Binding(p.NgControl,{toAlias:l.forwardRef(function(){return y})}));var y=function(e){r(t,e);function t(t){e.call(this);this._control=new f.Control;this._added=false;this.update=new c.EventEmitter;this.validators=t}t.prototype.onChanges=function(e){if(!this._added){d.setUpControl(this._control,this);this._control.updateValidity();this._added=true}if(d.isPropertyUpdated(e,this.viewModel)){this._control.updateValue(this.model);this.viewModel=this.model}};Object.defineProperty(t.prototype,"control",{get:function(){return this._control},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"validator",{get:function(){return h.Validators.compose(this.validators)},enumerable:true,configurable:true});t.prototype.viewToModelUpdate=function(e){this.viewModel=e;c.ObservableWrapper.callNext(this.update,e)};t=i([u.Directive({selector:"[ng-model]:not([ng-control]):not([ng-form-control])",bindings:[v],properties:["model: ngModel"],events:["update: ngModel"],exportAs:"form"}),a(0,l.Optional()),a(0,l.Inject(h.NG_VALIDATORS)),o("design:paramtypes",[Array])],t);return t}(p.NgControl);t.NgModel=y},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var o=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};var s=n(2);var c=n(5);var u=n(4);var l=n(90);var p=n(93);var f=u.CONST_EXPR(new c.Binding(l.ControlContainer,{toAlias:c.forwardRef(function(){return h})}));var h=function(e){r(t,e);function t(t){e.call(this);this._parent=t}t.prototype.onInit=function(){this.formDirective.addControlGroup(this)};t.prototype.onDestroy=function(){this.formDirective.removeControlGroup(this)};Object.defineProperty(t.prototype,"control",{get:function(){return this.formDirective.getControlGroup(this)},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"path",{get:function(){return p.controlPath(this.name,this._parent)},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent.formDirective},enumerable:true,configurable:true});t=i([s.Directive({selector:"[ng-control-group]",bindings:[f],properties:["name: ng-control-group"],exportAs:"form"}),a(0,c.Host()),a(0,c.SkipSelf()),o("design:paramtypes",[l.ControlContainer])],t);return t}(l.ControlContainer);t.NgControlGroup=h},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var o=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var a=n(4);var s=n(11);var c=n(61);var u=n(2);var l=n(5);var p=n(90);var f=n(93);var h=a.CONST_EXPR(new l.Binding(p.ControlContainer,{toAlias:l.forwardRef(function(){return d})}));var d=function(e){r(t,e);function t(){e.apply(this,arguments);this.form=null;this.directives=[];this.ngSubmit=new c.EventEmitter}t.prototype.onChanges=function(e){this._updateDomValue()};Object.defineProperty(t.prototype,"formDirective",{get:function(){return this},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"control",{get:function(){return this.form},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:true,configurable:true});t.prototype.addControl=function(e){var t=this.form.find(e.path);f.setUpControl(t,e);t.updateValidity();this.directives.push(e)};t.prototype.getControl=function(e){return this.form.find(e.path)};t.prototype.removeControl=function(e){s.ListWrapper.remove(this.directives,e)};t.prototype.addControlGroup=function(e){};t.prototype.removeControlGroup=function(e){};t.prototype.getControlGroup=function(e){return this.form.find(e.path)};t.prototype.updateModel=function(e,t){var n=this.form.find(e.path);n.updateValue(t)};t.prototype.onSubmit=function(){c.ObservableWrapper.callNext(this.ngSubmit,null);return false};t.prototype._updateDomValue=function(){var e=this;s.ListWrapper.forEach(this.directives,function(t){var n=e.form.find(t.path);t.valueAccessor.writeValue(n.value)})};t=i([u.Directive({selector:"[ng-form-model]",bindings:[h],properties:["form: ng-form-model"],host:{"(submit)":"onSubmit()"},events:["ngSubmit"],exportAs:"form"}),o("design:paramtypes",[])],t);return t}(p.ControlContainer);t.NgFormModel=d},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var o=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var a=n(61);var s=n(11);var c=n(4);var u=n(2);var l=n(5);var p=n(90);var f=n(87);var h=n(93);var d=c.CONST_EXPR(new l.Binding(p.ControlContainer,{toAlias:l.forwardRef(function(){return v})}));var v=function(e){r(t,e);function t(){e.apply(this,arguments);this.form=new f.ControlGroup({});this.ngSubmit=new a.EventEmitter}Object.defineProperty(t.prototype,"formDirective",{get:function(){return this},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"control",{get:function(){return this.form},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"controls",{get:function(){return this.form.controls},enumerable:true,configurable:true});t.prototype.addControl=function(e){var t=this;this._later(function(n){var r=t._findContainer(e.path);var i=new f.Control;h.setUpControl(i,e);r.addControl(e.name,i);i.updateValidity()})};t.prototype.getControl=function(e){return this.form.find(e.path)};t.prototype.removeControl=function(e){var t=this;this._later(function(n){var r=t._findContainer(e.path);if(c.isPresent(r)){r.removeControl(e.name);r.updateValidity()}})};t.prototype.addControlGroup=function(e){var t=this;this._later(function(n){var r=t._findContainer(e.path);var i=new f.ControlGroup({});r.addControl(e.name,i);i.updateValidity()})};t.prototype.removeControlGroup=function(e){var t=this;this._later(function(n){var r=t._findContainer(e.path);if(c.isPresent(r)){r.removeControl(e.name);r.updateValidity()}})};t.prototype.getControlGroup=function(e){return this.form.find(e.path)};t.prototype.updateModel=function(e,t){var n=this;this._later(function(r){var i=n.form.find(e.path);i.updateValue(t)})};t.prototype.onSubmit=function(){a.ObservableWrapper.callNext(this.ngSubmit,null);return false};t.prototype._findContainer=function(e){s.ListWrapper.removeLast(e);return s.ListWrapper.isEmpty(e)?this.form:this.form.find(e)};t.prototype._later=function(e){a.PromiseWrapper.then(a.PromiseWrapper.resolve(null),e,function(e){})};t=i([u.Directive({selector:"form:not([ng-no-form]):not([ng-form-model]),ng-form,[ng-form]",bindings:[d],host:{"(submit)":"onSubmit()"},events:["ngSubmit"],exportAs:"form"}),o("design:paramtypes",[])],t);return t}(p.ControlContainer);t.NgForm=v},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};var a=n(2);var s=n(100);var c=n(130);var u=n(5);var l=n(92);var p=n(4);var f=n(93);var h=function(){function e(e,t,n){this._renderer=t;this._elementRef=n;this.onChange=function(e){};this.onTouched=function(){};this._cd=e;e.valueAccessor=this}e.prototype.writeValue=function(e){var t=p.isBlank(e)?"":e;f.setProperty(this._renderer,this._elementRef,"value",t)};Object.defineProperty(e.prototype,"ngClassUntouched",{get:function(){return p.isPresent(this._cd.control)?this._cd.control.untouched:false},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"ngClassTouched",{get:function(){return p.isPresent(this._cd.control)?this._cd.control.touched:false},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"ngClassPristine",{get:function(){return p.isPresent(this._cd.control)?this._cd.control.pristine:false},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"ngClassDirty",{get:function(){return p.isPresent(this._cd.control)?this._cd.control.dirty:false},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"ngClassValid",{get:function(){return p.isPresent(this._cd.control)?this._cd.control.valid:false},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"ngClassInvalid",{get:function(){return p.isPresent(this._cd.control)?!this._cd.control.valid:false},enumerable:true,configurable:true});e.prototype.registerOnChange=function(e){this.onChange=e};e.prototype.registerOnTouched=function(e){this.onTouched=e};e=r([a.Directive({selector:"input:not([type=checkbox])[ng-control],textarea[ng-control],input:not([type=checkbox])[ng-form-control],textarea[ng-form-control],input:not([type=checkbox])[ng-model],textarea[ng-model]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()","[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid"}}),o(0,u.Self()),i("design:paramtypes",[l.NgControl,c.Renderer,s.ElementRef])],e);return e}();t.DefaultValueAccessor=h},function(e,t,n){var r=n(101);t.ComponentUrlMapper=r.ComponentUrlMapper;var i=n(102);t.DirectiveResolver=i.DirectiveResolver;var o=n(103);t.Compiler=o.Compiler;var a=n(110);t.AppViewManager=a.AppViewManager;var s=n(121);t.QueryList=s.QueryList;var c=n(129);t.DynamicComponentLoader=c.DynamicComponentLoader;var u=n(112);t.ElementRef=u.ElementRef;var l=n(113);t.TemplateRef=l.TemplateRef;var p=n(106);t.ViewRef=p.ViewRef;t.ProtoViewRef=p.ProtoViewRef;var f=n(118);t.ViewContainerRef=f.ViewContainerRef;var h=n(129);t.ComponentRef=h.ComponentRef},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var o=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var a=n(5);var s=n(4);var c=n(11);var u=n(15);var l=function(){function e(){}e.prototype.getUrl=function(e){return u.reflector.isReflectionEnabled()?u.reflector.importUri(e):"./"};e=i([a.Injectable(),o("design:paramtypes",[])],e);return e}();t.ComponentUrlMapper=l;var p=function(e){r(t,e);function t(){e.call(this);this._componentUrls=new c.Map}t.prototype.setComponentUrl=function(e,t){this._componentUrls.set(e,t)};t.prototype.getUrl=function(t){var n=this._componentUrls.get(t);if(s.isPresent(n))return n;return e.prototype.getUrl.call(this,t)};return t}(l);t.RuntimeComponentUrlMapper=p},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(5);var a=n(4);var s=n(13);var c=n(11);var u=n(2);var l=n(15);var p=function(){function e(){}e.prototype.resolve=function(e){var t=l.reflector.annotations(o.resolveForwardRef(e));if(a.isPresent(t)){for(var n=0;n<t.length;n++){var r=t[n];if(r instanceof u.DirectiveMetadata){var i=l.reflector.propMetadata(e);return this._mergeWithPropertyMetadata(r,i)}}}throw new s.BaseException("No Directive annotation found on "+a.stringify(e))};e.prototype._mergeWithPropertyMetadata=function(e,t){var n=[];var r=[];var i={};var o={};c.StringMapWrapper.forEach(t,function(e,t){e.forEach(function(e){if(e instanceof u.PropertyMetadata){if(a.isPresent(e.bindingPropertyName)){n.push(t+": "+e.bindingPropertyName)}else{n.push(t)}}if(e instanceof u.EventMetadata){if(a.isPresent(e.bindingPropertyName)){r.push(t+": "+e.bindingPropertyName)}else{r.push(t)}}if(e instanceof u.HostBindingMetadata){if(a.isPresent(e.hostPropertyName)){i["["+e.hostPropertyName+"]"]=t}else{i["["+t+"]"]=t}}if(e instanceof u.HostListenerMetadata){var s=a.isPresent(e.args)?e.args.join(", "):"";i["("+e.eventName+")"]=t+"("+s+")"}if(e instanceof u.ContentChildrenMetadata){o[t]=e}if(e instanceof u.ViewChildrenMetadata){o[t]=e}if(e instanceof u.ContentChildMetadata){o[t]=e}if(e instanceof u.ViewChildMetadata){o[t]=e}})});return this._merge(e,n,r,i,o)};e.prototype._merge=function(e,t,n,r,i){var o=a.isPresent(e.properties)?c.ListWrapper.concat(e.properties,t):t;var s=a.isPresent(e.events)?c.ListWrapper.concat(e.events,n):n;var l=a.isPresent(e.host)?c.StringMapWrapper.merge(e.host,r):r;var p=a.isPresent(e.queries)?c.StringMapWrapper.merge(e.queries,i):i;if(e instanceof u.ComponentMetadata){return new u.ComponentMetadata({selector:e.selector,properties:o,events:s,host:l,bindings:e.bindings,exportAs:e.exportAs,moduleId:e.moduleId,compileChildren:e.compileChildren,queries:p,changeDetection:e.changeDetection,viewBindings:e.viewBindings})}else{return new u.DirectiveMetadata({selector:e.selector,properties:o,events:s,host:l,bindings:e.bindings,exportAs:e.exportAs,moduleId:e.moduleId,compileChildren:e.compileChildren,queries:p})}};e=r([o.Injectable(),i("design:paramtypes",[])],e);return e}();t.DirectiveResolver=p},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};var a=n(5);var s=n(59);var c=n(4);var u=n(13);var l=n(61);var p=n(11);var f=n(102);var h=n(104);var d=n(109);var v=n(124);var y=n(125);var g=n(101);var m=n(126);var _=n(127);var b=n(128);var w=n(35);var C=n(123);var E=n(57);var R=function(){function e(){this._cache=new p.Map;this._hostCache=new p.Map}e.prototype.set=function(e,t){this._cache.set(e,t)};e.prototype.get=function(e){var t=this._cache.get(e);return c.normalizeBlank(t)};e.prototype.setHost=function(e,t){this._hostCache.set(e,t)};e.prototype.getHost=function(e){var t=this._hostCache.get(e);return c.normalizeBlank(t)};e.prototype.clear=function(){this._cache.clear();this._hostCache.clear()};e=r([a.Injectable(),i("design:paramtypes",[])],e);return e}();t.CompilerCache=R;var P=function(){function e(e,t,n,r,i,o,a,s,c,u){this._directiveResolver=e;this._pipeResolver=t;this._compilerCache=r;this._viewResolver=i;this._componentUrlMapper=o;this._urlResolver=a;this._render=s;this._protoViewFactory=c;this._compiling=new p.Map;this._defaultPipes=n;this._appUrl=u.value}e.prototype._bindDirective=function(e){if(e instanceof d.DirectiveBinding){return e}else if(e instanceof a.Binding){var t=this._directiveResolver.resolve(e.token);return d.DirectiveBinding.createFromBinding(e,t)}else{var t=this._directiveResolver.resolve(e);return d.DirectiveBinding.createFromType(e,t)}};e.prototype._bindPipe=function(e){var t=this._pipeResolver.resolve(e);return C.PipeBinding.createFromType(e,t)};e.prototype.compileInHost=function(t){var n=this;var r=c.isType(t)?t:t.token;var i=w.wtfStartTimeRange("Compiler#compile()",c.stringify(r));var o=this._compilerCache.getHost(r);var a;if(c.isPresent(o)){a=l.PromiseWrapper.resolve(o)}else{var s=this._bindDirective(t);e._assertTypeIsComponent(s);var u=s.metadata;a=this._render.compileHost(u).then(function(e){var t=n._protoViewFactory.createAppProtoViews(s,e,[s],[]);return n._compileNestedProtoViews(t,r,new p.Map)}).then(function(e){n._compilerCache.setHost(r,e);return e})}return a.then(function(e){w.wtfEndTimeRange(i);return e.ref})};e.prototype._compile=function(t,n){var r=this;var i=t.key.token;var o=this._compilerCache.get(i);if(c.isPresent(o)){return o}var a=this._compiling.get(i);if(c.isPresent(a)){return a}var s=this._viewResolver.resolve(i);var l=this._flattenDirectives(s);for(var f=0;f<l.length;f++){if(!e._isValidDirective(l[f])){throw new u.BaseException("Unexpected directive value '"+c.stringify(l[f])+"' on the View of component '"+c.stringify(i)+"'")}}var h=this._removeDuplicatedDirectives(l.map(function(e){return r._bindDirective(e)}));var d=this._flattenPipes(s);var v=d.map(function(e){return r._bindPipe(e)});var y=this._buildRenderTemplate(i,s,h);a=this._render.compile(y).then(function(e){var o=r._protoViewFactory.createAppProtoViews(t,e,h,v);return r._compileNestedProtoViews(o,i,n)}).then(function(e){r._compilerCache.set(i,e);p.MapWrapper.delete(r._compiling,i);return e});this._compiling.set(i,a);return a};e.prototype._removeDuplicatedDirectives=function(e){var t=new p.Map;e.forEach(function(e){t.set(e.key.id,e)});return p.MapWrapper.values(t)};e.prototype._compileNestedProtoViews=function(e,t,n){var r=this;var i=[];n=p.MapWrapper.clone(n);if(e[0].type===E.ViewType.COMPONENT){n.set(t,e[0])}e.forEach(function(e){r._collectComponentElementBinders(e).forEach(function(t){var o=t.componentDirective;var a=o.key.token;var s=function(e){t.nestedProtoView=e};if(n.has(a)){if(e.isEmbeddedFragment){throw new u.BaseException("<ng-content> is used within the recursive path of "+c.stringify(a))}else if(e.type===E.ViewType.COMPONENT){throw new u.BaseException("Unconditional component cycle in "+c.stringify(a))}else{s(n.get(a))}}else{var l=r._compile(o,n);if(c.isPromise(l)){i.push(l.then(s))}else{s(l)}}})});return l.PromiseWrapper.all(i).then(function(t){return l.PromiseWrapper.all(e.map(function(e){return r._mergeProtoView(e)}))}).then(function(t){return e[0]})};e.prototype._mergeProtoView=function(e){if(e.type!==E.ViewType.HOST&&e.type!==E.ViewType.EMBEDDED){return null}return this._render.mergeProtoViewsRecursively(this._collectMergeRenderProtoViews(e)).then(function(t){e.mergeMapping=new h.AppProtoViewMergeMapping(t)})};e.prototype._collectMergeRenderProtoViews=function(e){var t=[e.render];for(var n=0;n<e.elementBinders.length;n++){var r=e.elementBinders[n];if(c.isPresent(r.nestedProtoView)){if(r.hasStaticComponent()||r.hasEmbeddedProtoView()&&r.nestedProtoView.isEmbeddedFragment){t.push(this._collectMergeRenderProtoViews(r.nestedProtoView))}else{t.push(null)}}}return t};e.prototype._collectComponentElementBinders=function(e){var t=[];e.elementBinders.forEach(function(e){if(c.isPresent(e.componentDirective)){t.push(e)}});return t};e.prototype._buildRenderTemplate=function(e,t,n){var r=this;var i=this._urlResolver.resolve(this._appUrl,this._componentUrlMapper.getUrl(e));var o=null;var a=null;if(c.isPresent(t.templateUrl)&&t.templateUrl.trim().length>0){o=this._urlResolver.resolve(i,t.templateUrl)}else if(c.isPresent(t.template)){o=i}if(c.isPresent(t.styleUrls)){a=p.ListWrapper.map(t.styleUrls,function(e){return r._urlResolver.resolve(i,e)})}return new E.ViewDefinition({componentId:c.stringify(e),templateAbsUrl:o,template:t.template,styleAbsUrls:a,styles:t.styles,directives:p.ListWrapper.map(n,function(e){return e.metadata}),encapsulation:t.encapsulation})};e.prototype._flattenPipes=function(e){if(c.isBlank(e.pipes))return this._defaultPipes;var t=p.ListWrapper.clone(this._defaultPipes);this._flattenList(e.pipes,t);return t};e.prototype._flattenDirectives=function(e){if(c.isBlank(e.directives))return[];var t=[];this._flattenList(e.directives,t);return t};e.prototype._flattenList=function(e,t){for(var n=0;n<e.length;n++){var r=a.resolveForwardRef(e[n]);if(c.isArray(r)){this._flattenList(r,t)}else{t.push(r)}}};e._isValidDirective=function(e){return c.isPresent(e)&&(e instanceof c.Type||e instanceof a.Binding)};e._assertTypeIsComponent=function(e){if(e.metadata.type!==E.RenderDirectiveMetadata.COMPONENT_TYPE){throw new u.BaseException("Could not load '"+c.stringify(e.key.token)+"' because it is not a component.")}};e=r([a.Injectable(),o(2,a.Inject(s.DEFAULT_PIPES_TOKEN)),i("design:paramtypes",[f.DirectiveResolver,y.PipeResolver,Array,R,v.ViewResolver,g.ComponentUrlMapper,_.UrlResolver,E.RenderCompiler,m.ProtoViewFactory,b.AppRootUrl])],e);return e}();t.Compiler=P},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=n(11);var o=n(24);var a=n(52);var s=n(105);var c=n(4);var u=n(13);var l=n(106);var p=n(107);var f=n(52);t.DebugContext=f.DebugContext;var h="ng-reflect-";var d=function(){function e(e){this.renderProtoViewRef=e.mergedProtoViewRef;this.renderFragmentCount=e.fragmentCount;this.renderElementIndices=e.mappedElementIndices;this.renderInverseElementIndices=v(this.renderElementIndices,e.mappedElementCount);this.renderTextIndices=e.mappedTextIndices;this.hostElementIndicesByViewIndex=e.hostElementIndicesByViewIndex;this.nestedViewIndicesByElementIndex=v(this.hostElementIndicesByViewIndex,this.renderElementIndices.length);this.nestedViewCountByViewIndex=e.nestedViewCountByViewIndex}return e}();t.AppProtoViewMergeMapping=d;function v(e,t){var n=i.ListWrapper.createGrowableSize(t);for(var r=0;r<e.length;r++){var o=e[r];if(c.isPresent(o)){n[e[r]]=r}}return n}var y=function(){function e(){this.views=[]}return e}();t.AppViewContainer=y;var g=function(){function e(e,t,n,r,a,s,c,u,p){this.renderer=e;this.proto=t;this.mainMergeMapping=n;this.viewOffset=r;this.elementOffset=a;this.textOffset=s;this.render=u;this.renderFragment=p;this.views=null;this.elementInjectors=null;this.viewContainers=null;this.preBuiltObjects=null;this.changeDetector=null;this.context=null;this.ref=new l.ViewRef(this);this.locals=new o.Locals(null,i.MapWrapper.clone(c))}e.prototype.init=function(e,t,n,r,i,o,a){this.changeDetector=e;this.elementInjectors=t;this.rootElementInjectors=n;this.preBuiltObjects=r;this.views=i;this.elementRefs=o;this.viewContainers=a};e.prototype.setLocal=function(e,t){if(!this.hydrated())throw new u.BaseException("Cannot set locals on dehydrated view.");if(!this.proto.variableBindings.has(e)){return}var n=this.proto.variableBindings.get(e);this.locals.set(n,t)};e.prototype.hydrated=function(){return c.isPresent(this.context)};e.prototype.triggerEventHandlers=function(e,t,n){var r=new i.Map;r.set("$event",t);this.dispatchEvent(n,e,r)};e.prototype.notifyOnBinding=function(e,t){if(e.isTextNode()){this.renderer.setText(this.render,this.mainMergeMapping.renderTextIndices[e.elementIndex+this.textOffset],t)}else{var n=this.elementRefs[this.elementOffset+e.elementIndex];if(e.isElementProperty()){this.renderer.setElementProperty(n,e.name,t)}else if(e.isElementAttribute()){this.renderer.setElementAttribute(n,e.name,c.isPresent(t)?""+t:null)}else if(e.isElementClass()){this.renderer.setElementClass(n,e.name,t)}else if(e.isElementStyle()){var r=c.isPresent(e.unit)?e.unit:"";this.renderer.setElementStyle(n,e.name,""+t+r)}else{throw new u.BaseException("Unsupported directive record")}}};e.prototype.logBindingUpdate=function(e,t){if(e.isDirective()||e.isElementProperty()){var n=this.elementRefs[this.elementOffset+e.elementIndex];this.renderer.setElementAttribute(n,""+h+p.camelCaseToDashCase(e.name),""+t)}};e.prototype.notifyAfterContentChecked=function(){var e=this.proto.elementBinders.length;var t=this.elementInjectors;for(var n=e-1;n>=0;n--){if(c.isPresent(t[n+this.elementOffset]))t[n+this.elementOffset].afterContentChecked()}};e.prototype.notifyAfterViewChecked=function(){var e=this.proto.elementBinders.length;var t=this.elementInjectors;for(var n=e-1;n>=0;n--){if(c.isPresent(t[n+this.elementOffset]))t[n+this.elementOffset].afterViewChecked()}};e.prototype.getDirectiveFor=function(e){var t=this.elementInjectors[this.elementOffset+e.elementIndex];return t.getDirectiveAtIndex(e.directiveIndex)};e.prototype.getNestedView=function(e){var t=this.mainMergeMapping.nestedViewIndicesByElementIndex[e];return c.isPresent(t)?this.views[t]:null};e.prototype.getHostElement=function(){var e=this.mainMergeMapping.hostElementIndicesByViewIndex[this.viewOffset];return c.isPresent(e)?this.elementRefs[e]:null};e.prototype.getDebugContext=function(e,t){try{var n=this.elementOffset+e;var r=n<this.elementRefs.length;var i=r?this.elementRefs[this.elementOffset+e]:null;var o=this.getHostElement();var s=r?this.elementInjectors[this.elementOffset+e]:null;var u=c.isPresent(i)?i.nativeElement:null;var l=c.isPresent(o)?o.nativeElement:null;var p=c.isPresent(t)?this.getDirectiveFor(t):null;var f=c.isPresent(s)?s.getInjector():null;return new a.DebugContext(u,l,p,this.context,m(this.locals),f)}catch(h){return null}};e.prototype.getDetectorFor=function(e){var t=this.getNestedView(this.elementOffset+e.elementIndex);return c.isPresent(t)?t.changeDetector:null};e.prototype.invokeElementMethod=function(e,t,n){this.renderer.invokeElementMethod(this.elementRefs[e],t,n)};e.prototype.dispatchRenderEvent=function(e,t,n){var r=this.elementRefs[this.mainMergeMapping.renderInverseElementIndices[e]];var i=l.internalView(r.parentView);return i.dispatchEvent(r.boundElementIndex,t,n)};e.prototype.dispatchEvent=function(e,t,n){try{if(this.hydrated()){return!this.changeDetector.handleEvent(t,e-this.elementOffset,new o.Locals(this.locals,n))}else{return true}}catch(r){var i=this.getDebugContext(e-this.elementOffset,null);var a=c.isPresent(i)?new _(i.element,i.componentElement,i.context,i.locals,i.injector):null;throw new b(t,r,r.stack,a)}};Object.defineProperty(e.prototype,"ownBindersCount",{get:function(){return this.proto.elementBinders.length},enumerable:true,configurable:true});return e}();t.AppView=g;function m(e){var t={};var n=e;while(c.isPresent(n)){t=i.StringMapWrapper.merge(t,i.MapWrapper.toStringMap(n.current));n=n.parent}return t}var _=function(){function e(e,t,n,r,i){this.element=e;this.componentElement=t;this.context=n;this.locals=r;this.injector=i}return e}();var b=function(e){r(t,e);function t(t,n,r,i){e.call(this,'Error during evaluation of "'+t+'"',n,r,i)}return t}(u.WrappedException);var w=function(){function e(e,t,n,r,o,a,s,u){var p=this;this.type=e;this.isEmbeddedFragment=t;this.render=n;this.protoChangeDetector=r;this.variableBindings=o;this.variableLocations=a;this.textBindingCount=s;this.pipes=u;this.elementBinders=[];this.protoLocals=new i.Map;this.ref=new l.ProtoViewRef(this);if(c.isPresent(o)){i.MapWrapper.forEach(o,function(e,t){p.protoLocals.set(e,null)})}}e.prototype.bindElement=function(e,t,n,r){if(r===void 0){r=null}var i=new s.ElementBinder(this.elementBinders.length,e,t,n,r);this.elementBinders.push(i);return i};return e}();t.AppProtoView=w},function(e,t,n){var r=n(4);var i=n(13);var o=function(){function e(e,t,n,o,a){this.index=e;this.parent=t;this.distanceToParent=n;this.protoElementInjector=o;this.componentDirective=a;this.nestedProtoView=null;if(r.isBlank(e)){throw new i.BaseException("null index not allowed.")}}e.prototype.hasStaticComponent=function(){return r.isPresent(this.componentDirective)&&r.isPresent(this.nestedProtoView)};e.prototype.hasEmbeddedProtoView=function(){return!r.isPresent(this.componentDirective)&&r.isPresent(this.nestedProtoView)};return e}();t.ElementBinder=o},function(e,t,n){var r=n(4);function i(e){return e._view}t.internalView=i;function o(e){return r.isPresent(e)?e._protoView:null}t.internalProtoView=o;var a=function(){function e(e){this._view=e;this._changeDetectorRef=null}Object.defineProperty(e.prototype,"render",{get:function(){return this._view.render},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"renderFragment",{get:function(){return this._view.renderFragment},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"changeDetectorRef",{get:function(){if(this._changeDetectorRef===null){this._changeDetectorRef=this._view.changeDetector.ref}return this._changeDetectorRef},set:function(e){throw"readonly"},enumerable:true,configurable:true});e.prototype.setLocal=function(e,t){this._view.setLocal(e,t)};return e}();t.ViewRef=a;var s=function(){function e(e){this._protoView=e}return e}();t.ProtoViewRef=s},function(e,t,n){var r=n(4);var i=n(108);var o=n(11);t.NG_BINDING_CLASS_SELECTOR=".ng-binding";t.NG_BINDING_CLASS="ng-binding";t.NG_CONTENT_ELEMENT_NAME="ng-content";t.NG_SHADOW_ROOT_ELEMENT_NAME="shadow-root";var a=20;var s=/([A-Z])/g;var c=/-([a-z])/g;function u(e){return r.StringWrapper.replaceAllMapped(e,s,function(e){return"-"+e[1].toLowerCase()})}t.camelCaseToDashCase=u;function l(e){return r.StringWrapper.replaceAllMapped(e,c,function(e){return e[1].toUpperCase()})}t.dashCaseToCamelCase=l;function p(e,n){var r;var a;var s=0;if(n){var c=i.DOM.firstChild(e);var u=i.DOM.hasClass(c,t.NG_BINDING_CLASS);a=i.DOM.getElementsByClassName(c,t.NG_BINDING_CLASS);r=o.ListWrapper.createFixedSize(a.length+(u?1:0));if(u){r[s++]=c}}else{a=i.DOM.querySelectorAll(e,t.NG_BINDING_CLASS_SELECTOR);r=o.ListWrapper.createFixedSize(a.length);
}for(var l=0;l<a.length;l++){r[s++]=a[l]}return r}t.queryBoundElements=p;var f=function(){function e(e,t,n,r){this.original=e;this.fragments=t;this.boundElements=n;this.boundTextNodes=r}return e}();t.ClonedProtoView=f;function h(e,t,n){var r=e.cloneContent(t.cloneableTemplate,n);var i=p(r,t.isSingleElementFragment);var o=v(r,t.rootTextNodeIndices,i,t.elementBinders,t.boundTextNodeCount);var a=d(r,t.fragmentsRootNodeCount);return new f(t,a,i,o)}t.cloneAndQueryProtoView=h;function d(e,t){var n=o.ListWrapper.createGrowableSize(t.length);var r=i.DOM.firstChild(e);for(var a=0;a<n.length;a++){var s=o.ListWrapper.createFixedSize(t[a]);n[a]=s;if(a>=1){r=i.DOM.nextSibling(r)}for(var c=0;c<s.length;c++){s[c]=r;r=i.DOM.nextSibling(r)}}return n}function v(e,t,n,r,a){var s=o.ListWrapper.createFixedSize(a);var c=0;if(t.length>0){var u=i.DOM.childNodes(e);for(var l=0;l<t.length;l++){s[c++]=u[t[l]]}}for(var l=0;l<r.length;l++){var p=r[l];var f=n[l];if(p.textNodeIndices.length>0){var h=i.DOM.childNodes(f);for(var d=0;d<p.textNodeIndices.length;d++){s[c++]=h[p.textNodeIndices[d]]}}}return s}function y(e,t){return i.DOM.isElementNode(e)&&i.DOM.tagName(e).toLowerCase()==t.toLowerCase()}t.isElementWithTag=y;function g(e,t,n){var r=i.DOM.childNodes(e);for(var o=0;o<r.length;o++){var a=r[o];if(t.has(a)){n(a,o,t.get(a))}}}t.queryBoundTextNodeIndices=g;function m(e,t){var n=null;t.forEach(function(t){if(r.isBlank(n)){var o=i.DOM.firstChild(e);if(r.isPresent(o)){i.DOM.insertBefore(o,t)}else{i.DOM.appendChild(e,t)}}else{i.DOM.insertAfter(n,t)}n=t})}t.prependAll=m},function(e,t,n){var r=n(4);var i=n(13);t.DOM;function o(e){if(r.isBlank(t.DOM)){t.DOM=e}}t.setRootDomAdapter=o;function a(){return new i.BaseException("This method is abstract")}var s=function(){function e(){}e.prototype.hasProperty=function(e,t){throw a()};e.prototype.setProperty=function(e,t,n){throw a()};e.prototype.getProperty=function(e,t){throw a()};e.prototype.invoke=function(e,t,n){throw a()};e.prototype.logError=function(e){throw a()};e.prototype.log=function(e){throw a()};e.prototype.logGroup=function(e){throw a()};e.prototype.logGroupEnd=function(){throw a()};Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){throw a()},enumerable:true,configurable:true});e.prototype.parse=function(e){throw a()};e.prototype.query=function(e){throw a()};e.prototype.querySelector=function(e,t){throw a()};e.prototype.querySelectorAll=function(e,t){throw a()};e.prototype.on=function(e,t,n){throw a()};e.prototype.onAndCancel=function(e,t,n){throw a()};e.prototype.dispatchEvent=function(e,t){throw a()};e.prototype.createMouseEvent=function(e){throw a()};e.prototype.createEvent=function(e){throw a()};e.prototype.preventDefault=function(e){throw a()};e.prototype.isPrevented=function(e){throw a()};e.prototype.getInnerHTML=function(e){throw a()};e.prototype.getOuterHTML=function(e){throw a()};e.prototype.nodeName=function(e){throw a()};e.prototype.nodeValue=function(e){throw a()};e.prototype.type=function(e){throw a()};e.prototype.content=function(e){throw a()};e.prototype.firstChild=function(e){throw a()};e.prototype.nextSibling=function(e){throw a()};e.prototype.parentElement=function(e){throw a()};e.prototype.childNodes=function(e){throw a()};e.prototype.childNodesAsList=function(e){throw a()};e.prototype.clearNodes=function(e){throw a()};e.prototype.appendChild=function(e,t){throw a()};e.prototype.removeChild=function(e,t){throw a()};e.prototype.replaceChild=function(e,t,n){throw a()};e.prototype.remove=function(e){throw a()};e.prototype.insertBefore=function(e,t){throw a()};e.prototype.insertAllBefore=function(e,t){throw a()};e.prototype.insertAfter=function(e,t){throw a()};e.prototype.setInnerHTML=function(e,t){throw a()};e.prototype.getText=function(e){throw a()};e.prototype.setText=function(e,t){throw a()};e.prototype.getValue=function(e){throw a()};e.prototype.setValue=function(e,t){throw a()};e.prototype.getChecked=function(e){throw a()};e.prototype.setChecked=function(e,t){throw a()};e.prototype.createComment=function(e){throw a()};e.prototype.createTemplate=function(e){throw a()};e.prototype.createElement=function(e,t){if(t===void 0){t=null}throw a()};e.prototype.createTextNode=function(e,t){if(t===void 0){t=null}throw a()};e.prototype.createScriptTag=function(e,t,n){if(n===void 0){n=null}throw a()};e.prototype.createStyleElement=function(e,t){if(t===void 0){t=null}throw a()};e.prototype.createShadowRoot=function(e){throw a()};e.prototype.getShadowRoot=function(e){throw a()};e.prototype.getHost=function(e){throw a()};e.prototype.getDistributedNodes=function(e){throw a()};e.prototype.clone=function(e){throw a()};e.prototype.getElementsByClassName=function(e,t){throw a()};e.prototype.getElementsByTagName=function(e,t){throw a()};e.prototype.classList=function(e){throw a()};e.prototype.addClass=function(e,t){throw a()};e.prototype.removeClass=function(e,t){throw a()};e.prototype.hasClass=function(e,t){throw a()};e.prototype.setStyle=function(e,t,n){throw a()};e.prototype.removeStyle=function(e,t){throw a()};e.prototype.getStyle=function(e,t){throw a()};e.prototype.tagName=function(e){throw a()};e.prototype.attributeMap=function(e){throw a()};e.prototype.hasAttribute=function(e,t){throw a()};e.prototype.getAttribute=function(e,t){throw a()};e.prototype.setAttribute=function(e,t,n){throw a()};e.prototype.removeAttribute=function(e,t){throw a()};e.prototype.templateAwareRoot=function(e){throw a()};e.prototype.createHtmlDocument=function(){throw a()};e.prototype.defaultDoc=function(){throw a()};e.prototype.getBoundingClientRect=function(e){throw a()};e.prototype.getTitle=function(){throw a()};e.prototype.setTitle=function(e){throw a()};e.prototype.elementMatches=function(e,t){throw a()};e.prototype.isTemplateElement=function(e){throw a()};e.prototype.isTextNode=function(e){throw a()};e.prototype.isCommentNode=function(e){throw a()};e.prototype.isElementNode=function(e){throw a()};e.prototype.hasShadowRoot=function(e){throw a()};e.prototype.isShadowRoot=function(e){throw a()};e.prototype.importIntoDoc=function(e){throw a()};e.prototype.adoptNode=function(e){throw a()};e.prototype.isPageRule=function(e){throw a()};e.prototype.isStyleRule=function(e){throw a()};e.prototype.isMediaRule=function(e){throw a()};e.prototype.isKeyframesRule=function(e){throw a()};e.prototype.getHref=function(e){throw a()};e.prototype.getEventKey=function(e){throw a()};e.prototype.resolveAndSetHref=function(e,t,n){throw a()};e.prototype.cssToRules=function(e){throw a()};e.prototype.supportsDOMEvents=function(){throw a()};e.prototype.supportsNativeShadowDOM=function(){throw a()};e.prototype.getGlobalEventTarget=function(e){throw a()};e.prototype.getHistory=function(){throw a()};e.prototype.getLocation=function(){throw a()};e.prototype.getBaseHref=function(){throw a()};e.prototype.resetBaseElement=function(){throw a()};e.prototype.getUserAgent=function(){throw a()};e.prototype.setData=function(e,t,n){throw a()};e.prototype.getComputedStyle=function(e){throw a()};e.prototype.getData=function(e,t){throw a()};e.prototype.setGlobalVar=function(e,t){throw a()};e.prototype.requestAnimationFrame=function(e){throw a()};e.prototype.cancelAnimationFrame=function(e){throw a()};e.prototype.performanceNow=function(){throw a()};return e}();t.DomAdapter=s},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=n(4);var o=n(13);var a=n(61);var s=n(11);var c=n(5);var u=n(10);var l=n(12);var p=n(3);var f=n(110);var h=n(118);var d=n(112);var v=n(113);var y=n(22);var g=n(119);var m=n(24);var _=n(121);var b=n(15);var w=n(57);var C=n(122);var E=n(123);var R=n(120);var P;var D=function(){function e(){this.viewManagerId=c.Key.get(f.AppViewManager).id;this.templateRefId=c.Key.get(v.TemplateRef).id;this.viewContainerId=c.Key.get(h.ViewContainerRef).id;this.changeDetectorRefId=c.Key.get(m.ChangeDetectorRef).id;this.elementRefId=c.Key.get(d.ElementRef).id}e.instance=function(){if(i.isBlank(P))P=new e;return P};return e}();t.StaticKeys=D;var I=function(){function e(e){if(i.isPresent(e)){e.addChild(this)}else{this._parent=null}}e.prototype.addChild=function(e){e._parent=this};e.prototype.remove=function(){this._parent=null};Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:true,configurable:true});return e}();t.TreeNode=I;var x=function(e){r(t,e);function t(t,n,r,i,o,a,s){e.call(this,t,n,r,i,o);this.attributeName=a;this.queryDecorator=s;this._verify()}t.prototype._verify=function(){var e=0;if(i.isPresent(this.queryDecorator))e++;if(i.isPresent(this.attributeName))e++;if(e>1)throw new o.BaseException("A directive injectable can contain only one of the following @Attribute or @Query.")};t.createFrom=function(e){return new t(e.key,e.optional,e.lowerBoundVisibility,e.upperBoundVisibility,e.properties,t._attributeName(e.properties),t._query(e.properties))};t._attributeName=function(e){var t=s.ListWrapper.find(e,function(e){return e instanceof p.AttributeMetadata});return i.isPresent(t)?t.attributeName:null};t._query=function(e){return s.ListWrapper.find(e,function(e){return e instanceof p.QueryMetadata})};return t}(c.Dependency);t.DirectiveDependency=x;var O=function(e){r(t,e);function t(t,n,r,i,o,a){e.call(this,t,[new l.ResolvedFactory(n,r)],false);this.metadata=i;this.bindings=o;this.viewBindings=a}Object.defineProperty(t.prototype,"displayName",{get:function(){return this.key.displayName},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"callOnDestroy",{get:function(){return this.metadata.callOnDestroy},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"queries",{get:function(){if(i.isBlank(this.metadata.queries))return[];var e=[];s.StringMapWrapper.forEach(this.metadata.queries,function(t,n){var r=b.reflector.setter(n);e.push(new N(r,t))});return e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"eventEmitters",{get:function(){return i.isPresent(this.metadata)&&i.isPresent(this.metadata.events)?this.metadata.events:[]},enumerable:true,configurable:true});t.createFromBinding=function(e,n){if(i.isBlank(n)){n=new y.DirectiveMetadata}var r=l.resolveBinding(e);var o=r.resolvedFactories[0];var a=o.dependencies.map(x.createFrom);var c=e.token;var u=w.RenderDirectiveMetadata.create({id:i.stringify(e.token),type:n instanceof y.ComponentMetadata?w.RenderDirectiveMetadata.COMPONENT_TYPE:w.RenderDirectiveMetadata.DIRECTIVE_TYPE,selector:n.selector,compileChildren:n.compileChildren,events:n.events,host:i.isPresent(n.host)?s.MapWrapper.createFromStringMap(n.host):null,properties:n.properties,readAttributes:t._readAttributes(a),queries:n.queries,callOnDestroy:g.hasLifecycleHook(R.LifecycleHooks.OnDestroy,c),callOnChanges:g.hasLifecycleHook(R.LifecycleHooks.OnChanges,c),callDoCheck:g.hasLifecycleHook(R.LifecycleHooks.DoCheck,c),callOnInit:g.hasLifecycleHook(R.LifecycleHooks.OnInit,c),callAfterContentInit:g.hasLifecycleHook(R.LifecycleHooks.AfterContentInit,c),callAfterContentChecked:g.hasLifecycleHook(R.LifecycleHooks.AfterContentChecked,c),callAfterViewInit:g.hasLifecycleHook(R.LifecycleHooks.AfterViewInit,c),callAfterViewChecked:g.hasLifecycleHook(R.LifecycleHooks.AfterViewChecked,c),changeDetection:n instanceof y.ComponentMetadata?n.changeDetection:null,exportAs:n.exportAs});var p=i.isPresent(n.bindings)?n.bindings:[];var f=n instanceof y.ComponentMetadata&&i.isPresent(n.viewBindings)?n.viewBindings:[];return new t(r.key,o.factory,a,u,p,f)};t._readAttributes=function(e){var t=[];e.forEach(function(e){if(i.isPresent(e.attributeName)){t.push(e.attributeName)}});return t};t.createFromType=function(e,n){var r=new c.Binding(e,{toClass:e});return t.createFromBinding(r,n)};return t}(c.ResolvedBinding);t.DirectiveBinding=O;var S=function(){function e(e,t,n,r){this.viewManager=e;this.view=t;this.elementRef=n;this.templateRef=r}return e}();t.PreBuiltObjects=S;var N=function(){function e(e,t){this.setter=e;this.metadata=t}return e}();t.QueryMetadataWithSetter=N;var M=function(){function e(e,t){this.eventName=e;this.getter=t}e.prototype.subscribe=function(e,t,n){var r=this;var i=this.getter(n);return a.ObservableWrapper.subscribe(i,function(n){return e.triggerEventHandlers(r.eventName,n,t)})};return e}();t.EventEmitterAccessor=M;function B(e){var t=e.binding;if(!(t instanceof O))return[];var n=t;return s.ListWrapper.map(n.eventEmitters,function(e){var t=C.EventConfig.parse(e);return new M(t.eventName,b.reflector.getter(t.fieldName))})}var A=function(){function e(e,t,n,r,i,o){this.parent=e;this.index=t;this.distanceToParent=r;this._firstBindingIsComponent=i;this.directiveVariableBindings=o;var a=n.length;this.protoInjector=new u.ProtoInjector(n);this.eventEmitterAccessors=s.ListWrapper.createFixedSize(a);for(var c=0;c<a;++c){this.eventEmitterAccessors[c]=B(n[c])}}e.create=function(t,n,r,i,o,a){var s=[];e._createDirectiveBindingWithVisibility(r,s,i);if(i){e._createViewBindingsWithVisibility(r,s)}e._createBindingsWithVisibility(r,s);return new e(t,n,s,o,i,a)};e._createDirectiveBindingWithVisibility=function(t,n,r){t.forEach(function(i){n.push(e._createBindingWithVisibility(r,i,t,i))})};e._createBindingsWithVisibility=function(e,t){var n=[];e.forEach(function(e){n=s.ListWrapper.concat(n,e.bindings)});var r=c.Injector.resolve(n);r.forEach(function(e){return t.push(new u.BindingWithVisibility(e,u.Visibility.Public))})};e._createBindingWithVisibility=function(e,t,n,r){var i=e&&n[0]===t;return new u.BindingWithVisibility(r,i?u.Visibility.PublicAndPrivate:u.Visibility.Public)};e._createViewBindingsWithVisibility=function(e,t){var n=c.Injector.resolve(e[0].viewBindings);n.forEach(function(e){return t.push(new u.BindingWithVisibility(e,u.Visibility.Private))})};e.prototype.instantiate=function(e){return new T(this,e)};e.prototype.directParent=function(){return this.distanceToParent<2?this.parent:null};Object.defineProperty(e.prototype,"hasBindings",{get:function(){return this.eventEmitterAccessors.length>0},enumerable:true,configurable:true});e.prototype.getBindingAtIndex=function(e){return this.protoInjector.getBindingAtIndex(e)};return e}();t.ProtoElementInjector=A;var V=function(){function e(e,t,n){this.element=e;this.componentElement=t;this.injector=n}return e}();var T=function(e){r(t,e);function t(t,n){var r=this;e.call(this,n);this._proto=t;this._preBuiltObjects=null;this._injector=new c.Injector(this._proto.protoInjector,null,this,function(){return r._debugContext()});var i=this._injector.internalStrategy;this._strategy=i instanceof u.InjectorInlineStrategy?new k(i,this):new j(i,this);this.hydrated=false;this._buildQueries()}t.prototype.dehydrate=function(){this.hydrated=false;this._host=null;this._preBuiltObjects=null;this._strategy.callOnDestroy();this._strategy.dehydrate();this._clearQueryLists()};t.prototype.hydrate=function(e,t,n){this._host=t;this._preBuiltObjects=n;this._reattachInjectors(e);this._strategy.hydrate();this.hydrated=true};t.prototype.updateLocalQueries=function(){if(i.isPresent(this._query0)&&!this._query0.isViewQuery){this._query0.update();this._query0.list.fireCallbacks()}if(i.isPresent(this._query1)&&!this._query1.isViewQuery){this._query1.update();this._query1.list.fireCallbacks()}if(i.isPresent(this._query2)&&!this._query2.isViewQuery){this._query2.update();this._query2.list.fireCallbacks()}};t.prototype.updateLocalViewQueries=function(){if(i.isPresent(this._query0)&&this._query0.isViewQuery){this._query0.update();this._query0.list.fireCallbacks()}if(i.isPresent(this._query1)&&this._query1.isViewQuery){this._query1.update();this._query1.list.fireCallbacks()}if(i.isPresent(this._query2)&&this._query2.isViewQuery){this._query2.update();this._query2.list.fireCallbacks()}};t.prototype._debugContext=function(){var e=this._preBuiltObjects;var t=e.elementRef.boundElementIndex-e.view.elementOffset;var n=this._preBuiltObjects.view.getDebugContext(t,null);return i.isPresent(n)?new V(n.element,n.componentElement,n.injector):null};t.prototype._reattachInjectors=function(e){if(i.isPresent(this._parent)){if(i.isPresent(e)){this._reattachInjector(this._injector,e,false);this._reattachInjector(e,this._parent._injector,false)}else{this._reattachInjector(this._injector,this._parent._injector,false)}}else if(i.isPresent(this._host)){if(i.isPresent(e)){this._reattachInjector(this._injector,e,false);this._reattachInjector(e,this._host._injector,true)}else{this._reattachInjector(this._injector,this._host._injector,true)}}else{if(i.isPresent(e)){this._reattachInjector(this._injector,e,true)}}};t.prototype._reattachInjector=function(e,t,n){e.internalStrategy.attach(t,n)};t.prototype.hasVariableBinding=function(e){var t=this._proto.directiveVariableBindings;return i.isPresent(t)&&t.has(e)};t.prototype.getVariableBinding=function(e){var t=this._proto.directiveVariableBindings.get(e);return i.isPresent(t)?this.getDirectiveAtIndex(t):this.getElementRef()};t.prototype.get=function(e){return this._injector.get(e)};t.prototype.hasDirective=function(e){return i.isPresent(this._injector.getOptional(e))};t.prototype.getEventEmitterAccessors=function(){return this._proto.eventEmitterAccessors};t.prototype.getDirectiveVariableBindings=function(){return this._proto.directiveVariableBindings};t.prototype.getComponent=function(){return this._strategy.getComponent()};t.prototype.getInjector=function(){return this._injector};t.prototype.getElementRef=function(){return this._preBuiltObjects.elementRef};t.prototype.getViewContainerRef=function(){return new h.ViewContainerRef(this._preBuiltObjects.viewManager,this.getElementRef())};t.prototype.getView=function(){return this._preBuiltObjects.view};t.prototype.directParent=function(){return this._proto.distanceToParent<2?this.parent:null};t.prototype.isComponentKey=function(e){return this._strategy.isComponentKey(e)};t.prototype.getDependency=function(e,t,n){var r=n.key;if(t instanceof O){var o=n;var a=t;var s=D.instance();if(r.id===s.viewManagerId)return this._preBuiltObjects.viewManager;if(i.isPresent(o.attributeName))return this._buildAttribute(o);if(i.isPresent(o.queryDecorator))return this._findQuery(o.queryDecorator).list;if(o.key.id===D.instance().changeDetectorRefId){if(a.metadata.type===w.RenderDirectiveMetadata.COMPONENT_TYPE){var l=this._preBuiltObjects.view.getNestedView(this._preBuiltObjects.elementRef.boundElementIndex);return l.changeDetector.ref}else{return this._preBuiltObjects.view.changeDetector.ref}}if(o.key.id===D.instance().elementRefId){return this.getElementRef()}if(o.key.id===D.instance().viewContainerId){return this.getViewContainerRef()}if(o.key.id===D.instance().templateRefId){if(i.isBlank(this._preBuiltObjects.templateRef)){if(o.optional){return null}throw new c.NoBindingError(null,o.key)}return this._preBuiltObjects.templateRef}}else if(t instanceof E.PipeBinding){if(n.key.id===D.instance().changeDetectorRefId){var l=this._preBuiltObjects.view.getNestedView(this._preBuiltObjects.elementRef.boundElementIndex);return l.changeDetector.ref}}return u.UNDEFINED};t.prototype._buildAttribute=function(e){var t=this._proto.attributes;if(i.isPresent(t)&&t.has(e.attributeName)){return t.get(e.attributeName)}else{return null}};t.prototype._buildQueriesForDeps=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(i.isPresent(n.queryDecorator)){this._createQueryRef(null,null,n.queryDecorator)}}};t.prototype._buildQueriesForDirective=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];this._createQueryRef(e,r.setter,r.metadata)}};t.prototype._createQueryRef=function(e,t,n){var r=new _.QueryList;if(i.isBlank(this._query0)){this._query0=new F(e,t,n,r,this)}else if(i.isBlank(this._query1)){this._query1=new F(e,t,n,r,this)}else if(i.isBlank(this._query2)){this._query2=new F(e,t,n,r,this)}else{throw new L}};t.prototype.addDirectivesMatchingQuery=function(e,t){var n=i.isBlank(this._preBuiltObjects)?null:this._preBuiltObjects.templateRef;if(e.selector===v.TemplateRef&&i.isPresent(n)){t.push(n)}this._strategy.addDirectivesMatchingQuery(e,t)};t.prototype._buildQueries=function(){if(i.isPresent(this._proto)){this._strategy.buildQueries()}};t.prototype._findQuery=function(e){if(i.isPresent(this._query0)&&this._query0.query===e){return this._query0}if(i.isPresent(this._query1)&&this._query1.query===e){return this._query1}if(i.isPresent(this._query2)&&this._query2.query===e){return this._query2}throw new o.BaseException("Cannot find query for directive "+e+".")};t.prototype.link=function(e){e.addChild(this)};t.prototype.unlink=function(){this.remove()};t.prototype.getDirectiveAtIndex=function(e){return this._injector.getAt(e)};t.prototype.hasInstances=function(){return this._proto.hasBindings&&this.hydrated};t.prototype.getHost=function(){return this._host};t.prototype.getBoundElementIndex=function(){return this._proto.index};t.prototype.getRootViewInjectors=function(){if(!this.hydrated)return[];var e=this._preBuiltObjects.view;var t=e.getNestedView(e.elementOffset+this.getBoundElementIndex());return i.isPresent(t)?t.rootElementInjectors:[]};t.prototype._clearQueryLists=function(){if(i.isPresent(this._query0))this._query0.reset();if(i.isPresent(this._query1))this._query1.reset();if(i.isPresent(this._query2))this._query2.reset()};t.prototype.afterViewChecked=function(){this.updateLocalViewQueries()};t.prototype.afterContentChecked=function(){this.updateLocalQueries()};t.prototype.traverseAndSetQueriesAsDirty=function(){var e=this;while(i.isPresent(e)){e._setQueriesAsDirty();e=e.parent}};t.prototype._setQueriesAsDirty=function(){if(i.isPresent(this._query0)&&!this._query0.isViewQuery)this._query0.dirty=true;if(i.isPresent(this._query1)&&!this._query1.isViewQuery)this._query1.dirty=true;if(i.isPresent(this._query2)&&!this._query2.isViewQuery)this._query2.dirty=true;if(i.isPresent(this._host))this._host._setViewQueriesAsDirty()};t.prototype._setViewQueriesAsDirty=function(){if(i.isPresent(this._query0)&&this._query0.isViewQuery)this._query0.dirty=true;if(i.isPresent(this._query1)&&this._query1.isViewQuery)this._query1.dirty=true;if(i.isPresent(this._query2)&&this._query2.isViewQuery)this._query2.dirty=true};return t}(I);t.ElementInjector=T;var k=function(){function e(e,t){this.injectorStrategy=e;this._ei=t}e.prototype.hydrate=function(){var e=this.injectorStrategy;var t=e.protoStrategy;e.resetConstructionCounter();if(t.binding0 instanceof O&&i.isPresent(t.keyId0)&&e.obj0===u.UNDEFINED)e.obj0=e.instantiateBinding(t.binding0,t.visibility0);if(t.binding1 instanceof O&&i.isPresent(t.keyId1)&&e.obj1===u.UNDEFINED)e.obj1=e.instantiateBinding(t.binding1,t.visibility1);if(t.binding2 instanceof O&&i.isPresent(t.keyId2)&&e.obj2===u.UNDEFINED)e.obj2=e.instantiateBinding(t.binding2,t.visibility2);if(t.binding3 instanceof O&&i.isPresent(t.keyId3)&&e.obj3===u.UNDEFINED)e.obj3=e.instantiateBinding(t.binding3,t.visibility3);if(t.binding4 instanceof O&&i.isPresent(t.keyId4)&&e.obj4===u.UNDEFINED)e.obj4=e.instantiateBinding(t.binding4,t.visibility4);if(t.binding5 instanceof O&&i.isPresent(t.keyId5)&&e.obj5===u.UNDEFINED)e.obj5=e.instantiateBinding(t.binding5,t.visibility5);if(t.binding6 instanceof O&&i.isPresent(t.keyId6)&&e.obj6===u.UNDEFINED)e.obj6=e.instantiateBinding(t.binding6,t.visibility6);if(t.binding7 instanceof O&&i.isPresent(t.keyId7)&&e.obj7===u.UNDEFINED)e.obj7=e.instantiateBinding(t.binding7,t.visibility7);if(t.binding8 instanceof O&&i.isPresent(t.keyId8)&&e.obj8===u.UNDEFINED)e.obj8=e.instantiateBinding(t.binding8,t.visibility8);if(t.binding9 instanceof O&&i.isPresent(t.keyId9)&&e.obj9===u.UNDEFINED)e.obj9=e.instantiateBinding(t.binding9,t.visibility9)};e.prototype.dehydrate=function(){var e=this.injectorStrategy;e.obj0=u.UNDEFINED;e.obj1=u.UNDEFINED;e.obj2=u.UNDEFINED;e.obj3=u.UNDEFINED;e.obj4=u.UNDEFINED;e.obj5=u.UNDEFINED;e.obj6=u.UNDEFINED;e.obj7=u.UNDEFINED;e.obj8=u.UNDEFINED;e.obj9=u.UNDEFINED};e.prototype.callOnDestroy=function(){var e=this.injectorStrategy;var t=e.protoStrategy;if(t.binding0 instanceof O&&t.binding0.callOnDestroy){e.obj0.onDestroy()}if(t.binding1 instanceof O&&t.binding1.callOnDestroy){e.obj1.onDestroy()}if(t.binding2 instanceof O&&t.binding2.callOnDestroy){e.obj2.onDestroy()}if(t.binding3 instanceof O&&t.binding3.callOnDestroy){e.obj3.onDestroy()}if(t.binding4 instanceof O&&t.binding4.callOnDestroy){e.obj4.onDestroy()}if(t.binding5 instanceof O&&t.binding5.callOnDestroy){e.obj5.onDestroy()}if(t.binding6 instanceof O&&t.binding6.callOnDestroy){e.obj6.onDestroy()}if(t.binding7 instanceof O&&t.binding7.callOnDestroy){e.obj7.onDestroy()}if(t.binding8 instanceof O&&t.binding8.callOnDestroy){e.obj8.onDestroy()}if(t.binding9 instanceof O&&t.binding9.callOnDestroy){e.obj9.onDestroy()}};e.prototype.getComponent=function(){return this.injectorStrategy.obj0};e.prototype.isComponentKey=function(e){return this._ei._proto._firstBindingIsComponent&&i.isPresent(e)&&e.id===this.injectorStrategy.protoStrategy.keyId0};e.prototype.buildQueries=function(){var e=this.injectorStrategy.protoStrategy;if(e.binding0 instanceof O){this._ei._buildQueriesForDeps(e.binding0.resolvedFactories[0].dependencies);this._ei._buildQueriesForDirective(0,e.binding0.queries)}if(e.binding1 instanceof O){this._ei._buildQueriesForDeps(e.binding1.resolvedFactories[0].dependencies);this._ei._buildQueriesForDirective(1,e.binding1.queries)}if(e.binding2 instanceof O){this._ei._buildQueriesForDeps(e.binding2.resolvedFactories[0].dependencies);this._ei._buildQueriesForDirective(2,e.binding2.queries)}if(e.binding3 instanceof O){this._ei._buildQueriesForDeps(e.binding3.resolvedFactories[0].dependencies);this._ei._buildQueriesForDirective(3,e.binding3.queries)}if(e.binding4 instanceof O){this._ei._buildQueriesForDeps(e.binding4.resolvedFactories[0].dependencies);this._ei._buildQueriesForDirective(4,e.binding4.queries)}if(e.binding5 instanceof O){this._ei._buildQueriesForDeps(e.binding5.resolvedFactories[0].dependencies);this._ei._buildQueriesForDirective(5,e.binding5.queries)}if(e.binding6 instanceof O){this._ei._buildQueriesForDeps(e.binding6.resolvedFactories[0].dependencies);this._ei._buildQueriesForDirective(6,e.binding6.queries)}if(e.binding7 instanceof O){this._ei._buildQueriesForDeps(e.binding7.resolvedFactories[0].dependencies);this._ei._buildQueriesForDirective(7,e.binding7.queries)}if(e.binding8 instanceof O){this._ei._buildQueriesForDeps(e.binding8.resolvedFactories[0].dependencies);this._ei._buildQueriesForDirective(8,e.binding8.queries)}if(e.binding9 instanceof O){this._ei._buildQueriesForDeps(e.binding9.resolvedFactories[0].dependencies);this._ei._buildQueriesForDirective(9,e.binding9.queries)}};e.prototype.addDirectivesMatchingQuery=function(e,t){var n=this.injectorStrategy;var r=n.protoStrategy;if(i.isPresent(r.binding0)&&r.binding0.key.token===e.selector){if(n.obj0===u.UNDEFINED)n.obj0=n.instantiateBinding(r.binding0,r.visibility0);t.push(n.obj0)}if(i.isPresent(r.binding1)&&r.binding1.key.token===e.selector){if(n.obj1===u.UNDEFINED)n.obj1=n.instantiateBinding(r.binding1,r.visibility1);t.push(n.obj1)}if(i.isPresent(r.binding2)&&r.binding2.key.token===e.selector){if(n.obj2===u.UNDEFINED)n.obj2=n.instantiateBinding(r.binding2,r.visibility2);t.push(n.obj2)}if(i.isPresent(r.binding3)&&r.binding3.key.token===e.selector){if(n.obj3===u.UNDEFINED)n.obj3=n.instantiateBinding(r.binding3,r.visibility3);t.push(n.obj3)}if(i.isPresent(r.binding4)&&r.binding4.key.token===e.selector){if(n.obj4===u.UNDEFINED)n.obj4=n.instantiateBinding(r.binding4,r.visibility4);t.push(n.obj4)}if(i.isPresent(r.binding5)&&r.binding5.key.token===e.selector){if(n.obj5===u.UNDEFINED)n.obj5=n.instantiateBinding(r.binding5,r.visibility5);t.push(n.obj5)}if(i.isPresent(r.binding6)&&r.binding6.key.token===e.selector){if(n.obj6===u.UNDEFINED)n.obj6=n.instantiateBinding(r.binding6,r.visibility6);t.push(n.obj6)}if(i.isPresent(r.binding7)&&r.binding7.key.token===e.selector){if(n.obj7===u.UNDEFINED)n.obj7=n.instantiateBinding(r.binding7,r.visibility7);t.push(n.obj7)}if(i.isPresent(r.binding8)&&r.binding8.key.token===e.selector){if(n.obj8===u.UNDEFINED)n.obj8=n.instantiateBinding(r.binding8,r.visibility8);t.push(n.obj8)}if(i.isPresent(r.binding9)&&r.binding9.key.token===e.selector){if(n.obj9===u.UNDEFINED)n.obj9=n.instantiateBinding(r.binding9,r.visibility9);t.push(n.obj9)}};return e}();var j=function(){function e(e,t){this.injectorStrategy=e;this._ei=t}e.prototype.hydrate=function(){var e=this.injectorStrategy;var t=e.protoStrategy;e.resetConstructionCounter();for(var n=0;n<t.keyIds.length;n++){if(t.bindings[n]instanceof O&&i.isPresent(t.keyIds[n])&&e.objs[n]===u.UNDEFINED){e.objs[n]=e.instantiateBinding(t.bindings[n],t.visibilities[n])}}};e.prototype.dehydrate=function(){var e=this.injectorStrategy;s.ListWrapper.fill(e.objs,u.UNDEFINED)};e.prototype.callOnDestroy=function(){var e=this.injectorStrategy;var t=e.protoStrategy;for(var n=0;n<t.bindings.length;n++){if(t.bindings[n]instanceof O&&t.bindings[n].callOnDestroy){e.objs[n].onDestroy()}}};e.prototype.getComponent=function(){return this.injectorStrategy.objs[0]};e.prototype.isComponentKey=function(e){var t=this.injectorStrategy.protoStrategy;return this._ei._proto._firstBindingIsComponent&&i.isPresent(e)&&e.id===t.keyIds[0]};e.prototype.buildQueries=function(){var e=this.injectorStrategy;var t=e.protoStrategy;for(var n=0;n<t.bindings.length;n++){if(t.bindings[n]instanceof O){this._ei._buildQueriesForDeps(t.bindings[n].resolvedFactory.dependencies);this._ei._buildQueriesForDirective(n,t.bindings[n].queries)}}};e.prototype.addDirectivesMatchingQuery=function(e,t){var n=this.injectorStrategy;var r=n.protoStrategy;for(var i=0;i<r.bindings.length;i++){if(r.bindings[i].key.token===e.selector){if(n.objs[i]===u.UNDEFINED){n.objs[i]=n.instantiateBinding(r.bindings[i],r.visibilities[i])}t.push(n.objs[i])}}};return e}();var L=function(e){r(t,e);function t(){e.call(this);this.message="Only 3 queries can be concurrently active on an element."}t.prototype.toString=function(){return this.message};return t}(o.BaseException);t.QueryError=L;var F=function(){function e(e,t,n,r,i,o){if(o===void 0){o=true}this.dirIndex=e;this.setter=t;this.query=n;this.list=r;this.originator=i;this.dirty=o}Object.defineProperty(e.prototype,"isViewQuery",{get:function(){return this.query.isViewQuery},enumerable:true,configurable:true});e.prototype.update=function(){if(!this.dirty)return;this._update();this.dirty=false;if(i.isPresent(this.dirIndex)){var e=this.originator.getDirectiveAtIndex(this.dirIndex);if(this.query.first){this.setter(e,this.list.length>0?this.list.first:null)}else{this.setter(e,this.list)}}};e.prototype._update=function(){var e=[];if(this.query.isViewQuery){var t=this.originator.getView();var n=t.getNestedView(t.elementOffset+this.originator.getBoundElementIndex());if(i.isPresent(n))this._visitView(n,e)}else{this._visit(this.originator,e)}this.list.reset(e)};e.prototype._visit=function(e,t){var n=e.getView();var r=n.elementOffset+e._proto.index;for(var o=r;o<n.elementOffset+n.ownBindersCount;o++){var a=n.elementInjectors[o];if(i.isBlank(a))continue;if(o>r&&(i.isBlank(a)||i.isBlank(a.parent)||n.elementOffset+a.parent._proto.index<r)){break}if(!this.query.descendants&&!(a.parent==this.originator||a==this.originator))continue;this._visitInjector(a,t);var s=n.viewContainers[o];if(i.isPresent(s))this._visitViewContainer(s,t)}};e.prototype._visitInjector=function(e,t){if(this.query.isVarBindingQuery){this._aggregateVariableBindings(e,t)}else{this._aggregateDirective(e,t)}};e.prototype._visitViewContainer=function(e,t){for(var n=0;n<e.views.length;n++){this._visitView(e.views[n],t)}};e.prototype._visitView=function(e,t){for(var n=e.elementOffset;n<e.elementOffset+e.ownBindersCount;n++){var r=e.elementInjectors[n];if(i.isBlank(r))continue;this._visitInjector(r,t);var o=e.viewContainers[n];if(i.isPresent(o))this._visitViewContainer(o,t)}};e.prototype._aggregateVariableBindings=function(e,t){var n=this.query.varBindings;for(var r=0;r<n.length;++r){if(e.hasVariableBinding(n[r])){t.push(e.getVariableBinding(n[r]));
}}};e.prototype._aggregateDirective=function(e,t){e.addDirectivesMatchingQuery(this.query,t)};e.prototype.reset=function(){this.list.reset([]);this.list.removeAllCallbacks();this.dirty=true};return e}();t.QueryRef=F},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(5);var a=n(4);var s=n(13);var c=n(106);var u=n(57);var l=n(111);var p=n(116);var f=n(117);var h=n(35);var d=function(){function e(e,t,n,r){this._viewPool=e;this._viewListener=t;this._utils=n;this._renderer=r;this._createRootHostViewScope=h.wtfCreateScope("AppViewManager#createRootHostView()");this._destroyRootHostViewScope=h.wtfCreateScope("AppViewManager#destroyRootHostView()");this._createEmbeddedViewInContainerScope=h.wtfCreateScope("AppViewManager#createEmbeddedViewInContainer()");this._createHostViewInContainerScope=h.wtfCreateScope("AppViewManager#createHostViewInContainer()");this._destroyViewInContainerScope=h.wtfCreateScope("AppViewMananger#destroyViewInContainer()");this._attachViewInContainerScope=h.wtfCreateScope("AppViewMananger#attachViewInContainer()");this._detachViewInContainerScope=h.wtfCreateScope("AppViewMananger#detachViewInContainer()")}e.prototype.getViewContainer=function(e){var t=c.internalView(e.parentView);return t.elementInjectors[e.boundElementIndex].getViewContainerRef()};e.prototype.getHostElement=function(e){var t=c.internalView(e);if(t.proto.type!==u.ViewType.HOST){throw new s.BaseException("This operation is only allowed on host views")}return t.elementRefs[t.elementOffset]};e.prototype.getNamedElementInComponentView=function(e,t){var n=c.internalView(e.parentView);var r=e.boundElementIndex;var i=n.getNestedView(r);if(a.isBlank(i)){throw new s.BaseException("There is no component directive at element "+r)}var o=i.proto.variableLocations.get(t);if(a.isBlank(o)){throw new s.BaseException("Could not find variable "+t)}return i.elementRefs[i.elementOffset+o]};e.prototype.getComponent=function(e){var t=c.internalView(e.parentView);var n=e.boundElementIndex;return this._utils.getComponentInstance(t,n)};e.prototype.createRootHostView=function(e,t,n){var r=this._createRootHostViewScope();var i=c.internalProtoView(e);var o=t;if(a.isBlank(o)){o=i.elementBinders[0].componentDirective.metadata.selector}var s=this._renderer.createRootHostView(i.mergeMapping.renderProtoViewRef,i.mergeMapping.renderFragmentCount,o);var u=this._createMainView(i,s);this._renderer.hydrateView(u.render);this._utils.hydrateRootHostView(u,n);return h.wtfLeave(r,u.ref)};e.prototype.destroyRootHostView=function(e){var t=this._destroyRootHostViewScope();var n=c.internalView(e);this._renderer.detachFragment(n.renderFragment);this._renderer.dehydrateView(n.render);this._viewDehydrateRecurse(n);this._viewListener.viewDestroyed(n);this._renderer.destroyView(n.render);h.wtfLeave(t)};e.prototype.createEmbeddedViewInContainer=function(e,t,n){var r=this._createEmbeddedViewInContainerScope();var i=c.internalProtoView(n.protoViewRef);if(i.type!==u.ViewType.EMBEDDED){throw new s.BaseException("This method can only be called with embedded ProtoViews!")}return h.wtfLeave(r,this._createViewInContainer(e,t,i,n.elementRef,null))};e.prototype.createHostViewInContainer=function(e,t,n,r){var i=this._createHostViewInContainerScope();var o=c.internalProtoView(n);if(o.type!==u.ViewType.HOST){throw new s.BaseException("This method can only be called with host ProtoViews!")}return h.wtfLeave(i,this._createViewInContainer(e,t,o,e,r))};e.prototype._createViewInContainer=function(e,t,n,r,i){var o=c.internalView(e.parentView);var s=e.boundElementIndex;var l=c.internalView(r.parentView);var p=r.boundElementIndex;var f=l.getNestedView(p);var h;if(n.type===u.ViewType.EMBEDDED&&a.isPresent(f)&&!f.hydrated()){h=f;this._attachRenderView(o,s,t,h)}else{h=this._createPooledView(n);this._attachRenderView(o,s,t,h);this._renderer.hydrateView(h.render)}this._utils.attachViewInContainer(o,s,l,p,t,h);this._utils.hydrateViewInContainer(o,s,l,p,t,i);return h.ref};e.prototype._attachRenderView=function(e,t,n,r){var i=e.elementRefs[t];if(n===0){this._renderer.attachFragmentAfterElement(i,r.renderFragment)}else{var o=e.viewContainers[t].views[n-1];this._renderer.attachFragmentAfterFragment(o.renderFragment,r.renderFragment)}};e.prototype.destroyViewInContainer=function(e,t){var n=this._destroyViewInContainerScope();var r=c.internalView(e.parentView);var i=e.boundElementIndex;this._destroyViewInContainer(r,i,t);h.wtfLeave(n)};e.prototype.attachViewInContainer=function(e,t,n){var r=this._attachViewInContainerScope();var i=c.internalView(n);var o=c.internalView(e.parentView);var a=e.boundElementIndex;this._utils.attachViewInContainer(o,a,null,null,t,i);this._attachRenderView(o,a,t,i);return h.wtfLeave(r,n)};e.prototype.detachViewInContainer=function(e,t){var n=this._detachViewInContainerScope();var r=c.internalView(e.parentView);var i=e.boundElementIndex;var o=r.viewContainers[i];var a=o.views[t];this._utils.detachViewInContainer(r,i,t);this._renderer.detachFragment(a.renderFragment);return h.wtfLeave(n,a.ref)};e.prototype._createMainView=function(e,t){var n=this._utils.createView(e,t,this,this._renderer);this._renderer.setEventDispatcher(n.render,n);this._viewListener.viewCreated(n);return n};e.prototype._createPooledView=function(e){var t=this._viewPool.getView(e);if(a.isBlank(t)){t=this._createMainView(e,this._renderer.createView(e.mergeMapping.renderProtoViewRef,e.mergeMapping.renderFragmentCount))}return t};e.prototype._destroyPooledView=function(e){var t=this._viewPool.returnView(e);if(!t){this._viewListener.viewDestroyed(e);this._renderer.destroyView(e.render)}};e.prototype._destroyViewInContainer=function(e,t,n){var r=e.viewContainers[t];var i=r.views[n];this._viewDehydrateRecurse(i);this._utils.detachViewInContainer(e,t,n);if(i.viewOffset>0){this._renderer.detachFragment(i.renderFragment)}else{this._renderer.dehydrateView(i.render);this._renderer.detachFragment(i.renderFragment);this._destroyPooledView(i)}};e.prototype._viewDehydrateRecurse=function(e){if(e.hydrated()){this._utils.dehydrateView(e)}var t=e.viewContainers;var n=e.viewOffset;var r=e.viewOffset+e.mainMergeMapping.nestedViewCountByViewIndex[e.viewOffset];var i=e.elementOffset;for(var o=n;o<=r;o++){var s=e.views[o];for(var c=0;c<s.proto.elementBinders.length;c++,i++){var u=t[i];if(a.isPresent(u)){for(var l=u.views.length-1;l>=0;l--){this._destroyViewInContainer(s,i,l)}}}}};e=r([o.Injectable(),i("design:paramtypes",[p.AppViewPool,f.AppViewListener,l.AppViewManagerUtils,u.Renderer])],e);return e}();t.AppViewManager=d},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(5);var a=n(11);var s=n(109);var c=n(4);var u=n(104);var l=n(106);var p=n(112);var f=n(113);var h=n(114);var d=n(57);var v=function(){function e(){}e.prototype.getComponentInstance=function(e,t){var n=e.elementInjectors[t];return n.getComponent()};e.prototype.createView=function(e,t,n,r){var i=t.fragmentRefs;var o=t.viewRef;var h=e.mergeMapping.renderElementIndices.length;var v=e.mergeMapping.nestedViewCountByViewIndex[0]+1;var y=a.ListWrapper.createFixedSize(h);var g=a.ListWrapper.createFixedSize(h);var m=a.ListWrapper.createFixedSize(h);var _=a.ListWrapper.createFixedSize(h);var b=a.ListWrapper.createFixedSize(v);var w=0;var C=0;var E=0;for(var R=0;R<v;R++){var P=e.mergeMapping.hostElementIndicesByViewIndex[R];var D=c.isPresent(P)?l.internalView(y[P].parentView):null;var I=c.isPresent(P)?D.proto.elementBinders[P-D.elementOffset].nestedProtoView:e;var x=null;if(R===0||I.type===d.ViewType.EMBEDDED){x=i[E++]}var O=new u.AppView(r,I,e.mergeMapping,R,w,C,I.protoLocals,o,x);b[R]=O;var S=[];for(var N=0;N<I.elementBinders.length;N++){var M=I.elementBinders[N];var B=w+N;var A=null;var V=M.protoElementInjector;if(c.isPresent(V)){if(c.isPresent(V.parent)){var T=_[w+V.parent.index];A=V.instantiate(T)}else{A=V.instantiate(null);S.push(A)}}_[B]=A;var k=new p.ElementRef(O.ref,B,e.mergeMapping.renderElementIndices[B],r);y[k.boundElementIndex]=k;if(c.isPresent(A)){var j=M.hasEmbeddedProtoView()?new f.TemplateRef(k):null;m[B]=new s.PreBuiltObjects(n,O,k,j)}}O.init(I.protoChangeDetector.instantiate(O),_,S,m,b,y,g);if(c.isPresent(D)&&I.type===d.ViewType.COMPONENT){D.changeDetector.addShadowDomChild(O.changeDetector)}w+=I.elementBinders.length;C+=I.textBindingCount}return b[0]};e.prototype.hydrateRootHostView=function(e,t){this._hydrateView(e,t,null,new Object,null)};e.prototype.attachViewInContainer=function(e,t,n,r,i,o){if(c.isBlank(n)){n=e;r=t}e.changeDetector.addChild(o.changeDetector);var s=e.viewContainers[t];if(c.isBlank(s)){s=new u.AppViewContainer;e.viewContainers[t]=s}a.ListWrapper.insert(s.views,i,o);var l=n.elementInjectors[r];for(var p=o.rootElementInjectors.length-1;p>=0;p--){if(c.isPresent(l.parent)){o.rootElementInjectors[p].link(l.parent)}}l.traverseAndSetQueriesAsDirty()};e.prototype.detachViewInContainer=function(e,t,n){var r=e.viewContainers[t];var i=r.views[n];e.elementInjectors[t].traverseAndSetQueriesAsDirty();i.changeDetector.remove();a.ListWrapper.removeAt(r.views,n);for(var o=0;o<i.rootElementInjectors.length;++o){var s=i.rootElementInjectors[o];s.unlink()}};e.prototype.hydrateViewInContainer=function(e,t,n,r,i,a){if(c.isBlank(n)){n=e;r=t}var s=e.viewContainers[t];var u=s.views[i];var l=n.elementInjectors[r];var p=c.isPresent(a)?o.Injector.fromResolvedBindings(a):null;this._hydrateView(u,p,l.getHost(),n.context,n.locals)};e.prototype._hydrateView=function(e,t,n,r,i){var o=e.viewOffset;var a=o+e.mainMergeMapping.nestedViewCountByViewIndex[o];while(o<=a){var s=e.views[o];var u=s.proto;if(s!==e&&s.proto.type===d.ViewType.EMBEDDED){o+=e.mainMergeMapping.nestedViewCountByViewIndex[o]+1}else{if(s!==e){t=null;i=null;var l=e.mainMergeMapping.hostElementIndicesByViewIndex[o];n=e.elementInjectors[l];r=n.getComponent()}s.context=r;s.locals.parent=i;var p=u.elementBinders;for(var f=0;f<p.length;f++){var v=f+s.elementOffset;var y=e.elementInjectors[v];if(c.isPresent(y)){y.hydrate(t,n,s.preBuiltObjects[v]);this._populateViewLocals(s,y,v);this._setUpEventEmitters(s,y,v)}}var g=c.isPresent(n)?new h.Pipes(s.proto.pipes,n.getInjector()):null;s.changeDetector.hydrate(s.context,s.locals,s,g);o++}}};e.prototype._populateViewLocals=function(e,t,n){if(c.isPresent(t.getDirectiveVariableBindings())){a.MapWrapper.forEach(t.getDirectiveVariableBindings(),function(r,i){if(c.isBlank(r)){e.locals.set(i,e.elementRefs[n].nativeElement)}else{e.locals.set(i,t.getDirectiveAtIndex(r))}})}};e.prototype._setUpEventEmitters=function(e,t,n){var r=t.getEventEmitterAccessors();for(var i=0;i<r.length;++i){var o=r[i];var a=t.getDirectiveAtIndex(i);for(var s=0;s<o.length;++s){var c=o[s];c.subscribe(e,n,a)}}};e.prototype.dehydrateView=function(e){var t=e.viewOffset+e.mainMergeMapping.nestedViewCountByViewIndex[e.viewOffset];for(var n=e.viewOffset;n<=t;n++){var r=e.views[n];if(r.hydrated()){if(c.isPresent(r.locals)){r.locals.clearValues()}r.context=null;r.changeDetector.dehydrate();var i=r.proto.elementBinders;for(var o=0;o<i.length;o++){var a=e.elementInjectors[r.elementOffset+o];if(c.isPresent(a)){a.dehydrate()}}}}};e=r([o.Injectable(),i("design:paramtypes",[])],e);return e}();t.AppViewManagerUtils=v},function(e,t,n){var r=n(13);var i=function(){function e(e,t,n,r){this._renderer=r;this.parentView=e;this.boundElementIndex=t;this.renderBoundElementIndex=n}Object.defineProperty(e.prototype,"renderView",{get:function(){return this.parentView.render},set:function(e){throw new r.BaseException("Abstract setter")},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this._renderer.getNativeElementSync(this)},enumerable:true,configurable:true});return e}();t.ElementRef=i},function(e,t,n){var r=n(106);var i=function(){function e(e){this.elementRef=e}e.prototype._getProtoView=function(){var e=r.internalView(this.elementRef.parentView);return e.proto.elementBinders[this.elementRef.boundElementIndex-e.elementOffset].nestedProtoView};Object.defineProperty(e.prototype,"protoViewRef",{get:function(){return this._getProtoView().ref},enumerable:true,configurable:true});e.prototype.hasLocal=function(e){return this._getProtoView().variableBindings.has(e)};return e}();t.TemplateRef=i},function(e,t,n){var r=n(4);var i=n(13);var o=n(11);var a=n(115);var s=function(){function e(e){var t=this;this.config={};e.forEach(function(e){return t.config[e.name]=e})}e.prototype.get=function(e){var t=this.config[e];if(r.isBlank(t))throw new i.BaseException("Cannot find pipe '"+e+"'.");return t};return e}();t.ProtoPipes=s;var c=function(){function e(e,t){this.proto=e;this.injector=t;this._config={}}e.prototype.get=function(e){var t=o.StringMapWrapper.get(this._config,e);if(r.isPresent(t))return t;var n=this.proto.get(e);var i=this.injector.instantiateResolved(n);var s=new a.SelectedPipe(i,n.pure);if(n.pure){o.StringMapWrapper.set(this._config,e,s)}return s};return e}();t.Pipes=c},function(e,t){var n=function(){function e(e,t){this.pipe=e;this.pure=t}return e}();t.SelectedPipe=n},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};var a=n(5);var s=n(11);var c=n(4);t.APP_VIEW_POOL_CAPACITY=c.CONST_EXPR(new a.OpaqueToken("AppViewPool.viewPoolCapacity"));var u=function(){function e(e){this._pooledViewsPerProtoView=new s.Map;this._poolCapacityPerProtoView=e}e.prototype.getView=function(e){var t=this._pooledViewsPerProtoView.get(e);if(c.isPresent(t)&&t.length>0){return s.ListWrapper.removeLast(t)}return null};e.prototype.returnView=function(e){var t=e.proto;var n=this._pooledViewsPerProtoView.get(t);if(c.isBlank(n)){n=[];this._pooledViewsPerProtoView.set(t,n)}var r=n.length<this._poolCapacityPerProtoView;if(r){n.push(e)}return r};e=r([a.Injectable(),o(0,a.Inject(t.APP_VIEW_POOL_CAPACITY)),i("design:paramtypes",[Object])],e);return e}();t.AppViewPool=u},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(5);var a=function(){function e(){}e.prototype.viewCreated=function(e){};e.prototype.viewDestroyed=function(e){};e=r([o.Injectable(),i("design:paramtypes",[])],e);return e}();t.AppViewListener=a},function(e,t,n){var r=n(11);var i=n(4);var o=n(106);var a=function(){function e(e,t){this.viewManager=e;this.element=t}e.prototype._getViews=function(){var e=o.internalView(this.element.parentView).viewContainers[this.element.boundElementIndex];return i.isPresent(e)?e.views:[]};e.prototype.clear=function(){for(var e=this.length-1;e>=0;e--){this.remove(e)}};e.prototype.get=function(e){return this._getViews()[e].ref};Object.defineProperty(e.prototype,"length",{get:function(){return this._getViews().length},enumerable:true,configurable:true});e.prototype.createEmbeddedView=function(e,t){if(t===void 0){t=-1}if(t==-1)t=this.length;return this.viewManager.createEmbeddedViewInContainer(this.element,t,e)};e.prototype.createHostView=function(e,t,n){if(e===void 0){e=null}if(t===void 0){t=-1}if(n===void 0){n=null}if(t==-1)t=this.length;return this.viewManager.createHostViewInContainer(this.element,t,e,n)};e.prototype.insert=function(e,t){if(t===void 0){t=-1}if(t==-1)t=this.length;return this.viewManager.attachViewInContainer(this.element,t,e)};e.prototype.indexOf=function(e){return r.ListWrapper.indexOf(this._getViews(),o.internalView(e))};e.prototype.remove=function(e){if(e===void 0){e=-1}if(e==-1)e=this.length-1;this.viewManager.destroyViewInContainer(this.element,e)};e.prototype.detach=function(e){if(e===void 0){e=-1}if(e==-1)e=this.length-1;return this.viewManager.detachViewInContainer(this.element,e)};return e}();t.ViewContainerRef=a},function(e,t,n){var r=n(4);var i=n(120);function o(e,t){if(!(t instanceof r.Type))return false;var n=t.prototype;switch(e){case i.LifecycleHooks.AfterContentInit:return!!n.afterContentInit;case i.LifecycleHooks.AfterContentChecked:return!!n.afterContentChecked;case i.LifecycleHooks.AfterViewInit:return!!n.afterViewInit;case i.LifecycleHooks.AfterViewChecked:return!!n.afterViewChecked;case i.LifecycleHooks.OnChanges:return!!n.onChanges;case i.LifecycleHooks.DoCheck:return!!n.doCheck;case i.LifecycleHooks.OnDestroy:return!!n.onDestroy;case i.LifecycleHooks.OnInit:return!!n.onInit;default:return false}}t.hasLifecycleHook=o},function(e,t){(function(e){e[e["OnInit"]=0]="OnInit";e[e["OnDestroy"]=1]="OnDestroy";e[e["DoCheck"]=2]="DoCheck";e[e["OnChanges"]=3]="OnChanges";e[e["AfterContentInit"]=4]="AfterContentInit";e[e["AfterContentChecked"]=5]="AfterContentChecked";e[e["AfterViewInit"]=6]="AfterViewInit";e[e["AfterViewChecked"]=7]="AfterViewChecked"})(t.LifecycleHooks||(t.LifecycleHooks={}));var n=t.LifecycleHooks;t.LIFECYCLE_HOOKS_VALUES=[n.OnInit,n.OnDestroy,n.DoCheck,n.OnChanges,n.AfterContentInit,n.AfterContentChecked,n.AfterViewInit,n.AfterViewChecked]},function(e,t,n){var r=n(11);var i=n(4);var o=function(){function e(){this._results=[];this._callbacks=[];this._dirty=false}e.prototype.reset=function(e){this._results=e;this._dirty=true};e.prototype.add=function(e){this._results.push(e);this._dirty=true};e.prototype.onChange=function(e){this._callbacks.push(e)};e.prototype.removeCallback=function(e){r.ListWrapper.remove(this._callbacks,e)};e.prototype.removeAllCallbacks=function(){this._callbacks=[]};e.prototype.toString=function(){return this._results.toString()};Object.defineProperty(e.prototype,"length",{get:function(){return this._results.length},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"first",{get:function(){return r.ListWrapper.first(this._results)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"last",{get:function(){return r.ListWrapper.last(this._results)},enumerable:true,configurable:true});e.prototype.map=function(e){return this._results.map(e)};e.prototype[i.getSymbolIterator()]=function(){return this._results[i.getSymbolIterator()]()};e.prototype.fireCallbacks=function(){if(this._dirty){r.ListWrapper.forEach(this._callbacks,function(e){return e()});this._dirty=false}};return e}();t.QueryList=o},function(e,t,n){var r=n(4);t.EVENT_TARGET_SEPARATOR=":";var i=function(){function e(e,t,n){this.fieldName=e;this.eventName=t;this.isLongForm=n}e.parse=function(n){var i=n,o=n,a=false;var s=n.indexOf(t.EVENT_TARGET_SEPARATOR);if(s>-1){i=r.StringWrapper.substring(n,0,s).trim();o=r.StringWrapper.substring(n,s+1).trim();a=true}return new e(i,o,a)};e.prototype.getFullName=function(){return this.isLongForm?""+this.fieldName+t.EVENT_TARGET_SEPARATOR+this.eventName:this.eventName};return e}();t.EventConfig=i},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=n(12);var o=n(5);var a=function(e){r(t,e);function t(t,n,r,i,o){e.call(this,r,i,o);this.name=t;this.pure=n}t.createFromType=function(e,n){var r=new o.Binding(e,{toClass:e});var a=i.resolveBinding(r);return new t(n.name,n.pure,a.key,a.resolvedFactories,a.multiBinding)};return t}(o.ResolvedBinding);t.PipeBinding=a},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(5);var a=n(56);var s=n(4);var c=n(13);var u=n(11);var l=n(15);var p=function(){function e(){this._cache=new u.Map}e.prototype.resolve=function(e){var t=this._cache.get(e);if(s.isBlank(t)){t=this._resolve(e);this._cache.set(e,t)}return t};e.prototype._resolve=function(e){var t=l.reflector.annotations(e);for(var n=0;n<t.length;n++){var r=t[n];if(r instanceof a.ViewMetadata){return r}}throw new c.BaseException("No View annotation found on component "+s.stringify(e))};e=r([o.Injectable(),i("design:paramtypes",[])],e);return e}();t.ViewResolver=p},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(5);var a=n(4);var s=n(13);var c=n(2);var u=n(15);var l=function(){function e(){}e.prototype.resolve=function(e){var t=u.reflector.annotations(o.resolveForwardRef(e));if(a.isPresent(t)){for(var n=0;n<t.length;n++){var r=t[n];if(r instanceof c.PipeMetadata){return r}}}throw new s.BaseException("No Pipe decorator found on "+a.stringify(e))};e=r([o.Injectable(),i("design:paramtypes",[])],e);return e}();t.PipeResolver=l},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(5);var a=n(11);var s=n(4);var c=n(13);var u=n(15);var l=n(24);var p=n(114);var f=n(57);var h=n(104);var d=n(109);var v=function(){function e(){this._directiveRecordsMap=new Map}e.prototype.getEventBindingRecords=function(e,t){var n=[];for(var r=0;r<e.length;r++){var i=e[r];this._createTemplateEventRecords(n,i,r);this._createHostEventRecords(n,i,t,r)}return n};e.prototype._createTemplateEventRecords=function(e,t,n){t.eventBindings.forEach(function(t){e.push(l.BindingRecord.createForEvent(t.source,t.fullName,n))})};e.prototype._createHostEventRecords=function(e,t,n,r){for(var i=0;i<t.directives.length;++i){var o=t.directives[i];var a=n[o.directiveIndex];var s=this._getDirectiveRecord(r,i,a);o.eventBindings.forEach(function(t){e.push(l.BindingRecord.createForHostEvent(t.source,t.fullName,s))})}};e.prototype.getPropertyBindingRecords=function(e,t,n){var r=[];this._createTextNodeRecords(r,e);for(var i=0;i<t.length;i++){var o=t[i];this._createElementPropertyRecords(r,i,o);this._createDirectiveRecords(r,i,o.directives,n)}return r};e.prototype.getDirectiveRecords=function(e,t){var n=[];for(var r=0;r<e.length;++r){var i=e[r].directives;for(var o=0;o<i.length;++o){n.push(this._getDirectiveRecord(r,o,t[i[o].directiveIndex]))}}return n};e.prototype._createTextNodeRecords=function(e,t){for(var n=0;n<t.length;n++){e.push(l.BindingRecord.createForTextNode(t[n],n))}};e.prototype._createElementPropertyRecords=function(e,t,n){a.ListWrapper.forEach(n.propertyBindings,function(n){if(n.type===f.PropertyBindingType.PROPERTY){e.push(l.BindingRecord.createForElementProperty(n.astWithSource,t,n.property))}else if(n.type===f.PropertyBindingType.ATTRIBUTE){e.push(l.BindingRecord.createForElementAttribute(n.astWithSource,t,n.property))}else if(n.type===f.PropertyBindingType.CLASS){e.push(l.BindingRecord.createForElementClass(n.astWithSource,t,n.property))}else if(n.type===f.PropertyBindingType.STYLE){e.push(l.BindingRecord.createForElementStyle(n.astWithSource,t,n.property,n.unit))}})};e.prototype._createDirectiveRecords=function(e,t,n,r){for(var i=0;i<n.length;i++){var o=n[i];var s=r[o.directiveIndex];var c=this._getDirectiveRecord(t,i,s);a.MapWrapper.forEach(o.propertyBindings,function(t,n){var r=u.reflector.setter(n);e.push(l.BindingRecord.createForDirective(t,n,r,c))});if(c.callOnChanges){e.push(l.BindingRecord.createDirectiveOnChanges(c))}if(c.callOnInit){e.push(l.BindingRecord.createDirectiveOnInit(c))}if(c.callDoCheck){e.push(l.BindingRecord.createDirectiveDoCheck(c))}}for(var i=0;i<n.length;i++){var o=n[i];a.ListWrapper.forEach(o.hostPropertyBindings,function(n){var r=new l.DirectiveIndex(t,i);if(n.type===f.PropertyBindingType.PROPERTY){e.push(l.BindingRecord.createForHostProperty(r,n.astWithSource,n.property))}else if(n.type===f.PropertyBindingType.ATTRIBUTE){e.push(l.BindingRecord.createForHostAttribute(r,n.astWithSource,n.property))}else if(n.type===f.PropertyBindingType.CLASS){e.push(l.BindingRecord.createForHostClass(r,n.astWithSource,n.property))}else if(n.type===f.PropertyBindingType.STYLE){e.push(l.BindingRecord.createForHostStyle(r,n.astWithSource,n.property,n.unit))}})}};e.prototype._getDirectiveRecord=function(e,t,n){var r=e*100+t;if(!this._directiveRecordsMap.has(r)){this._directiveRecordsMap.set(r,new l.DirectiveRecord({directiveIndex:new l.DirectiveIndex(e,t),callAfterContentInit:n.callAfterContentInit,callAfterContentChecked:n.callAfterContentChecked,callAfterViewInit:n.callAfterViewInit,callAfterViewChecked:n.callAfterViewChecked,callOnChanges:n.callOnChanges,callDoCheck:n.callDoCheck,callOnInit:n.callOnInit,changeDetection:n.changeDetection}))}return this._directiveRecordsMap.get(r)};return e}();t.BindingRecordsCreator=v;var y=function(){function e(e){this._changeDetection=e}e.prototype.createAppProtoViews=function(e,t,n,r){var i=a.ListWrapper.map(n,function(e){return e.metadata});var o=m(t);var c=E(o);var u=P(o);var l=this._getProtoChangeDetectors(e,o,u,i);var p=a.ListWrapper.createFixedSize(o.length);a.ListWrapper.forEach(o,function(e){var t=C(e.renderProtoView,l[e.index],c[e.index],n,r);if(s.isPresent(e.parentIndex)){var i=p[e.parentIndex];i.elementBinders[e.boundElementIndex].nestedProtoView=t}p[e.index]=t});return p};e.prototype._getProtoChangeDetectors=function(e,t,n,r){var i=this;if(this._changeDetection.generateDetectors){var o=_(e.metadata,t,n,r,this._changeDetection.genConfig);return o.map(function(e){return i._changeDetection.getProtoChangeDetector(e.id,e)})}else{var a=b(e.metadata,t);return a.map(function(e){return i._changeDetection.getProtoChangeDetector(e,null)})}};e=r([o.Injectable(),i("design:paramtypes",[l.ChangeDetection])],e);return e}();t.ProtoViewFactory=y;function g(e,t,n,r){var i=m(t);var o=P(i);return _(e,i,o,n,r)}t.getChangeDetectorDefinitions=g;function m(e,t,n,r){if(t===void 0){t=null}if(n===void 0){n=null}if(r===void 0){r=null}if(s.isBlank(r)){r=[]}r.push(new V(e,r.length,t,n));var i=r.length-1;var o=0;a.ListWrapper.forEach(e.elementBinders,function(e){if(s.isPresent(e.nestedProtoView)){m(e.nestedProtoView,i,o,r)}o++});return r}function _(e,t,n,r,i){return a.ListWrapper.map(t,function(t){var o=t.renderProtoView.elementBinders;var a=new v;var s=a.getPropertyBindingRecords(t.renderProtoView.textBindings,o,r);var c=a.getEventBindingRecords(o,r);var u=a.getDirectiveRecords(o,r);var p=l.ChangeDetectionStrategy.Default;if(t.renderProtoView.type===f.ViewType.COMPONENT){p=e.changeDetection}var h=w(e,t);var d=n[t.index];return new l.ChangeDetectorDefinition(h,p,d,s,c,u,i)})}function b(e,t){return t.map(function(t){return w(e,t)})}function w(e,t){var n;if(t.renderProtoView.type===f.ViewType.COMPONENT){n="comp"}else if(t.renderProtoView.type===f.ViewType.HOST){n="host"}else{n="embedded"}return e.id+"_"+n+"_"+t.index}function C(e,t,n,r,i){var o=e.elementBinders;var a=new p.ProtoPipes(i);var s=new h.AppProtoView(e.type,e.transitiveNgContentCount>0,e.render,t,n,I(o),e.textBindings.length,a);x(s,o,r);return s}function E(e){return a.ListWrapper.map(e,function(e){return R(e.renderProtoView)})}function R(e){var t=new Map;a.MapWrapper.forEach(e.variableBindings,function(e,n){t.set(n,e)});return t}function P(e){var t=a.ListWrapper.createFixedSize(e.length);a.ListWrapper.forEach(e,function(e){var n=s.isPresent(e.parentIndex)?t[e.parentIndex]:null;t[e.index]=D(n,e.renderProtoView)});return t}function D(e,t){var n=s.isBlank(e)?[]:a.ListWrapper.clone(e);a.MapWrapper.forEach(t.variableBindings,function(e,t){n.push(e)});a.ListWrapper.forEach(t.elementBinders,function(e){a.MapWrapper.forEach(e.variableBindings,function(e,t){n.push(e)})});return n}function I(e){var t=new Map;for(var n=0;n<e.length;n++){var r=e[n];a.MapWrapper.forEach(r.variableBindings,function(e,r){t.set(e,n)})}return t}t.createVariableLocations=I;function x(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];var o=t[r].directives;var s=O(r,e.elementBinders,t);var c=a.ListWrapper.map(o,function(e){return n[e.directiveIndex]});var u=null;if(c.length>0){if(c[0].metadata.type===f.RenderDirectiveMetadata.COMPONENT_TYPE){u=c[0]}}var l=S(r,s,i,u,c);N(e,r,i,l,u,c)}}function O(e,t,n){var r=0;do{var i=n[e];e=i.parentIndex;if(e!==-1){r+=i.distanceToParent;var o=t[e];if(s.isPresent(o.protoElementInjector)){return new T(o.protoElementInjector,r)}}}while(e!==-1);return new T(null,0)}function S(e,t,n,r,i){var o=null;var c=a.MapWrapper.size(n.variableBindings)>0;if(i.length>0||c||s.isPresent(n.nestedProtoView)){var u=M(n,i);o=d.ProtoElementInjector.create(t.protoElementInjector,e,i,s.isPresent(r),t.distance,u);o.attributes=n.readAttributes}return o}function N(e,t,n,r,i,o){var s=null;if(n.parentIndex!==-1){s=e.elementBinders[n.parentIndex]}var c=e.bindElement(s,n.distanceToParent,r,i);a.MapWrapper.forEach(n.variableBindings,function(t,n){e.protoLocals.set(t,null)});return c}function M(e,t){var n=new Map;a.MapWrapper.forEach(e.variableBindings,function(r,i){var o=B(e,t,i);n.set(r,o)});return n}t.createDirectiveVariableBindings=M;function B(e,t,n){var r=null;var i;for(var o=0;o<t.length;++o){var a=t[o];if(A(a)==n){if(s.isPresent(i)){throw new c.BaseException("More than one directive have exportAs = '"+n+"'. Directives: ["+i.displayName+", "+a.displayName+"]")}r=o;i=a}}if(s.isBlank(i)&&!s.StringWrapper.equals(n,"$implicit")){throw new c.BaseException("Cannot find directive with exportAs = '"+n+"'")}return r}function A(e){var t=e.metadata.exportAs;if(s.isBlank(t)&&e.metadata.type===f.RenderDirectiveMetadata.COMPONENT_TYPE){return"$implicit"}else{return t}}var V=function(){function e(e,t,n,r){this.renderProtoView=e;this.index=t;
this.parentIndex=n;this.boundElementIndex=r}return e}();var T=function(){function e(e,t){this.protoElementInjector=e;this.distance=t}return e}()},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(5);var a=n(4);var s=n(11);var c=function(){function e(){}e.prototype.resolve=function(e,t){return v(e,t)};e=r([o.Injectable(),i("design:paramtypes",[])],e);return e}();t.UrlResolver=c;function u(e,t,n,r,i,o,s){var c=[];if(a.isPresent(e)){c.push(e+":")}if(a.isPresent(n)){c.push("//");if(a.isPresent(t)){c.push(t+"@")}c.push(n);if(a.isPresent(r)){c.push(":"+r)}}if(a.isPresent(i)){c.push(i)}if(a.isPresent(o)){c.push("?"+o)}if(a.isPresent(s)){c.push("#"+s)}return c.join("")}var l=a.RegExpWrapper.create("^"+"(?:"+"([^:/?#.]+)"+":)?"+"(?://"+"(?:([^/?#]*)@)?"+"([\\w\\d\\-\\u0100-\\uffff.%]*)"+"(?::([0-9]+))?"+")?"+"([^?#]+)?"+"(?:\\?([^#]*))?"+"(?:#(.*))?"+"$");var p;(function(e){e[e["Scheme"]=1]="Scheme";e[e["UserInfo"]=2]="UserInfo";e[e["Domain"]=3]="Domain";e[e["Port"]=4]="Port";e[e["Path"]=5]="Path";e[e["QueryData"]=6]="QueryData";e[e["Fragment"]=7]="Fragment"})(p||(p={}));function f(e){return a.RegExpWrapper.firstMatch(l,e)}function h(e){if(e=="/")return"/";var t=e[0]=="/"?"/":"";var n=e[e.length-1]==="/"?"/":"";var r=e.split("/");var i=[];var o=0;for(var a=0;a<r.length;a++){var c=r[a];switch(c){case"":case".":break;case"..":if(i.length>0){s.ListWrapper.removeAt(i,i.length-1)}else{o++}break;default:i.push(c)}}if(t==""){while(o-->0){s.ListWrapper.insert(i,0,"..")}if(i.length===0)i.push(".")}return t+i.join("/")+n}function d(e){var t=e[p.Path];t=a.isBlank(t)?"":h(t);e[p.Path]=t;return u(e[p.Scheme],e[p.UserInfo],e[p.Domain],e[p.Port],t,e[p.QueryData],e[p.Fragment])}function v(e,t){var n=f(encodeURI(t));var r=f(e);if(a.isPresent(n[p.Scheme])){return d(n)}else{n[p.Scheme]=r[p.Scheme]}for(var i=p.Scheme;i<=p.Port;i++){if(a.isBlank(n[i])){n[i]=r[i]}}if(n[p.Path][0]=="/"){return d(n)}var o=r[p.Path];if(a.isBlank(o))o="/";var s=o.lastIndexOf("/");o=o.substring(0,s+1)+n[p.Path];n[p.Path]=o;return d(n)}},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(5);var a=function(){function e(e){this._value=e}Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e},enumerable:true,configurable:true});e=r([o.Injectable(),i("design:paramtypes",[String])],e);return e}();t.AppRootUrl=a},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(5);var a=n(103);var s=n(4);var c=n(110);function u(e){return s.isType(e)?e:e.token}var l=function(){function e(e,t,n,r,i){this._dispose=i;this.location=e;this.instance=t;this.componentType=n;this.injector=r}Object.defineProperty(e.prototype,"hostView",{get:function(){return this.location.parentView},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"hostComponentType",{get:function(){return this.componentType},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"hostComponent",{get:function(){return this.instance},enumerable:true,configurable:true});e.prototype.dispose=function(){this._dispose()};return e}();t.ComponentRef=l;var p=function(){function e(e,t){this._compiler=e;this._viewManager=t}e.prototype.loadAsRoot=function(e,t,n,r){var i=this;return this._compiler.compileInHost(e).then(function(o){var a=i._viewManager.createRootHostView(o,t,n);var c=i._viewManager.getHostElement(a);var p=i._viewManager.getComponent(c);var f=function(){i._viewManager.destroyRootHostView(a);if(s.isPresent(r)){r()}};return new l(c,p,u(e),n,f)})};e.prototype.loadIntoLocation=function(e,t,n,r){if(r===void 0){r=null}return this.loadNextToLocation(e,this._viewManager.getNamedElementInComponentView(t,n),r)};e.prototype.loadNextToLocation=function(e,t,n){var r=this;if(n===void 0){n=null}return this._compiler.compileInHost(e).then(function(i){var o=r._viewManager.getViewContainer(t);var a=o.createHostView(i,o.length,n);var s=r._viewManager.getHostElement(a);var c=r._viewManager.getComponent(s);var p=function(){var e=o.indexOf(a);if(e!==-1){o.remove(e)}};return new l(s,c,u(e),null,p)})};e=r([o.Injectable(),i("design:paramtypes",[a.Compiler,c.AppViewManager])],e);return e}();t.DynamicComponentLoader=p},function(e,t,n){var r=n(131);t.RenderDirectiveMetadata=r.RenderDirectiveMetadata;t.Renderer=r.Renderer;t.RenderViewRef=r.RenderViewRef;t.RenderProtoViewRef=r.RenderProtoViewRef;t.RenderFragmentRef=r.RenderFragmentRef;t.RenderViewWithFragments=r.RenderViewWithFragments;t.ViewDefinition=r.ViewDefinition;t.DOCUMENT=r.DOCUMENT;t.APP_ID=r.APP_ID;t.MAX_IN_MEMORY_ELEMENTS_PER_TEMPLATE=r.MAX_IN_MEMORY_ELEMENTS_PER_TEMPLATE},function(e,t,n){function r(e){for(var n in e)if(!t.hasOwnProperty(n))t[n]=e[n]}r(n(132));r(n(136));r(n(138));r(n(156));r(n(137));r(n(155));r(n(57))},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(5);var a=n(4);var s=n(13);var c=n(11);var u=n(61);var l=n(108);var p=n(133);var f=n(134);var h=n(135);var d=n(35);var v=function(){function e(e,t){this.template=e;this.styles=t}return e}();t.TemplateAndStyles=v;var y=function(){function e(e,t,n){this._xhr=e;this._styleInliner=t;this._styleUrlResolver=n;this._cache=new c.Map}e.prototype.load=function(e){var t=this;var n=d.wtfStartTimeRange("ViewLoader#load()",a.stringify(e.componentId));var r=[this._loadHtml(e.template,e.templateAbsUrl,e.componentId)];if(a.isPresent(e.styles)){e.styles.forEach(function(n){var i=t._resolveAndInlineCssText(n,e.templateAbsUrl);r.push(i)})}if(a.isPresent(e.styleAbsUrls)){e.styleAbsUrls.forEach(function(n){var i=t._loadText(n).then(function(n){return t._resolveAndInlineCssText(n,e.templateAbsUrl)});r.push(i)})}return u.PromiseWrapper.all(r).then(function(e){var t=e[0];var r=c.ListWrapper.slice(e,1);var i=new v(t.template,t.styles.concat(r));d.wtfEndTimeRange(n);return i})};e.prototype._loadText=function(e){var t=this._cache.get(e);if(a.isBlank(t)){t=u.PromiseWrapper.catchError(this._xhr.get(e),function(t){return u.PromiseWrapper.reject(new s.BaseException('Failed to fetch url "'+e+'"'),null)});this._cache.set(e,t)}return t};e.prototype._loadHtml=function(e,t,n){var r=this;var i;if(a.isPresent(e)){i=u.PromiseWrapper.resolve(e)}else if(a.isPresent(t)){i=this._loadText(t)}else{throw new s.BaseException("View should have either the templateUrl or template property set but none was found for the '"+n+"' component")}return i.then(function(e){var n=l.DOM.createTemplate(e);if(a.isPresent(t)&&t.indexOf("/")>=0){var i=t.substring(0,t.lastIndexOf("/"));r._substituteBaseUrl(l.DOM.content(n),i)}var o=l.DOM.querySelectorAll(l.DOM.content(n),"STYLE");var s=[];for(var c=0;c<o.length;c++){var p=o[c];s.push(l.DOM.getText(p));l.DOM.remove(p)}var f=[];var h=[];for(var c=0;c<o.length;c++){var d=o[c];var y=r._resolveAndInlineCssText(l.DOM.getText(d),t);if(a.isPromise(y)){h.push(y)}else{f.push(y)}}if(h.length===0){return u.PromiseWrapper.resolve(new v(l.DOM.getInnerHTML(n),f))}else{return u.PromiseWrapper.all(h).then(function(e){return new v(l.DOM.getInnerHTML(n),f.concat(e))})}})};e.prototype._substituteBaseUrl=function(e,t){if(l.DOM.isElementNode(e)){var n=l.DOM.attributeMap(e);c.MapWrapper.forEach(n,function(n,r){if(a.isPresent(n)&&n.indexOf("$baseUrl")>=0){l.DOM.setAttribute(e,r,a.StringWrapper.replaceAll(n,/\$baseUrl/g,t))}})}var r=l.DOM.childNodes(e);for(var i=0;i<r.length;i++){if(l.DOM.isElementNode(r[i])){this._substituteBaseUrl(r[i],t)}}};e.prototype._resolveAndInlineCssText=function(e,t){e=this._styleUrlResolver.resolveUrls(e,t);return this._styleInliner.inlineImports(e,t)};e=r([o.Injectable(),i("design:paramtypes",[p.XHR,f.StyleInliner,h.StyleUrlResolver])],e);return e}();t.ViewLoader=y},function(e,t){var n=function(){function e(){}e.prototype.get=function(e){return null};return e}();t.XHR=n},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(5);var a=n(133);var s=n(11);var c=n(127);var u=n(135);var l=n(4);var p=n(61);var f=function(){function e(e,t,n){this._xhr=e;this._styleUrlResolver=t;this._urlResolver=n}e.prototype.inlineImports=function(e,t){return this._inlineImports(e,t,[])};e.prototype._inlineImports=function(e,t,n){var r=this;var i=0;var o=l.StringWrapper.split(e,y);if(o.length===1){return e}var a=[];while(i<o.length-1){var c=o[i];var u=o[i+1];var f=h(u);if(l.isPresent(f)){f=this._urlResolver.resolve(t,f)}var v=d(u);var g;if(l.isBlank(f)){g=p.PromiseWrapper.resolve('/* Invalid import rule: "@import '+u+';" */')}else if(s.ListWrapper.contains(n,f)){g=p.PromiseWrapper.resolve(c)}else{n.push(f);g=p.PromiseWrapper.then(this._xhr.get(f),function(e){var t=r._inlineImports(e,f,n);if(l.isPromise(t)){return t.then(function(e){return c+r._transformImportedCss(e,v,f)+"\n"})}else{return c+r._transformImportedCss(t,v,f)+"\n"}},function(e){return"/* failed to import "+f+" */\n"})}a.push(g);i+=2}return p.PromiseWrapper.all(a).then(function(e){var t=e.join("");if(i<o.length){t+=o[i]}return t})};e.prototype._transformImportedCss=function(e,t,n){e=this._styleUrlResolver.resolveUrls(e,n);return v(e,t)};e=r([o.Injectable(),i("design:paramtypes",[a.XHR,u.StyleUrlResolver,c.UrlResolver])],e);return e}();t.StyleInliner=f;function h(e){var t=l.RegExpWrapper.firstMatch(g,e);if(l.isBlank(t))return null;return l.isPresent(t[1])?t[1]:t[2]}function d(e){var t=l.RegExpWrapper.firstMatch(m,e);if(l.isBlank(t))return null;var n=t[1].trim();return n.length>0?n:null}function v(e,t){return l.isBlank(t)?e:"@media "+t+" {\n"+e+"\n}"}var y=/@import\s+([^;]+);/g;var g=l.RegExpWrapper.create("url\\(\\s*?['\"]?([^'\")]+)['\"]?|"+"['\"]([^'\")]+)['\"]");var m=/['"][^'"]+['"]\s*\)?\s*(.*)/g},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(5);var a=n(4);var s=n(127);var c=function(){function e(e){this._resolver=e}e.prototype.resolveUrls=function(e,t){e=this._replaceUrls(e,u,t);e=this._replaceUrls(e,l,t);return e};e.prototype._replaceUrls=function(e,t,n){var r=this;return a.StringWrapper.replaceAllMapped(e,t,function(e){var t=e[1];var i=e[2];if(a.RegExpWrapper.test(f,i)){return e[0]}var o=a.StringWrapper.replaceAll(i,p,"");var s=e[3];var c=r._resolver.resolve(n,o);return t+"'"+c+"'"+s})};e=r([o.Injectable(),i("design:paramtypes",[s.UrlResolver])],e);return e}();t.StyleUrlResolver=c;var u=/(url\()([^)]*)(\))/g;var l=/(@import[\s]+(?!url\())['"]([^'"]*)['"](.*;)/g;var p=/['"]/g;var f=/^['"]?data:/g},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var o=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};var s=n(108);var c=n(5);var u=n(11);var l=n(137);var p=function(){function e(){this._styles=[];this._stylesSet=new Set}e.prototype.addStyles=function(e){var t=this;var n=[];e.forEach(function(e){if(!u.SetWrapper.has(t._stylesSet,e)){t._stylesSet.add(e);t._styles.push(e);n.push(e)}});this.onStylesAdded(n)};e.prototype.onStylesAdded=function(e){};e.prototype.getAllStyles=function(){return this._styles};e=i([c.Injectable(),o("design:paramtypes",[])],e);return e}();t.SharedStylesHost=p;var f=function(e){r(t,e);function t(t){e.call(this);this._hostNodes=new Set;this._hostNodes.add(t.head)}t.prototype._addStylesToHost=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];s.DOM.appendChild(t,s.DOM.createStyleElement(r))}};t.prototype.addHost=function(e){this._addStylesToHost(this._styles,e);this._hostNodes.add(e)};t.prototype.removeHost=function(e){u.SetWrapper.delete(this._hostNodes,e)};t.prototype.onStylesAdded=function(e){var t=this;this._hostNodes.forEach(function(n){t._addStylesToHost(e,n)})};t=i([c.Injectable(),a(0,c.Inject(l.DOCUMENT)),o("design:paramtypes",[Object])],t);return t}(p);t.DomSharedStylesHost=f},function(e,t,n){var r=n(5);var i=n(4);t.DOCUMENT=i.CONST_EXPR(new r.OpaqueToken("DocumentToken"));t.APP_ID=i.CONST_EXPR(new r.OpaqueToken("AppId"));function o(){return""+a()+a()+a()}t.APP_ID_RANDOM_BINDING=i.CONST_EXPR(new r.Binding(t.APP_ID,{toFactory:o,deps:[]}));t.MAX_IN_MEMORY_ELEMENTS_PER_TEMPLATE=i.CONST_EXPR(new r.OpaqueToken("MaxInMemoryElementsPerTemplate"));function a(){return i.StringWrapper.fromCharCode(97+i.Math.floor(i.Math.random()*25))}},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var o=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};var s=n(5);var c=n(61);var u=n(108);var l=n(57);var p=n(139);var f=n(13);var h=n(132);var d=n(145);var v=n(153);var y=n(24);var g=n(154);var m=n(149);var _=n(137);var b=n(136);var w=n(107);var C=n(155);var E=function(e){r(t,e);function t(t,n,r,i,o){e.call(this);this._schemaRegistry=t;this._templateCloner=n;this._stepFactory=r;this._viewLoader=i;this._sharedStylesHost=o}t.prototype.compile=function(e){var t=this;var n=this._viewLoader.load(e);return c.PromiseWrapper.then(n,function(n){return t._compileView(e,n,l.ViewType.COMPONENT)},function(t){throw new f.BaseException('Failed to load the template for "'+e.componentId+'" : '+t);return null})};t.prototype.compileHost=function(e){var t=new l.ViewDefinition({componentId:e.id,templateAbsUrl:null,template:null,styles:null,styleAbsUrls:null,directives:[e],encapsulation:l.ViewEncapsulation.None});var n=m.CssSelector.parse(e.selector)[0];var r=n.getMatchingElementTemplate();var i=new h.TemplateAndStyles(r,[]);return this._compileView(t,i,l.ViewType.HOST)};t.prototype.mergeProtoViewsRecursively=function(e){return c.PromiseWrapper.resolve(g.mergeProtoViewsRecursively(this._templateCloner,e))};t.prototype._compileView=function(e,t,n){if(e.encapsulation===l.ViewEncapsulation.Emulated&&t.styles.length===0){e=this._normalizeViewEncapsulationIfThereAreNoStyles(e)}var r=new p.CompilePipeline(this._stepFactory.createSteps(e));var i=r.processStyles(t.styles);var o=r.processElements(this._createTemplateElm(t.template),n,e);if(e.encapsulation===l.ViewEncapsulation.Native){w.prependAll(u.DOM.content(o[0].element),i.map(function(e){return u.DOM.createStyleElement(e)}))}else{this._sharedStylesHost.addStyles(i)}return c.PromiseWrapper.resolve(o[0].inheritedProtoView.build(this._schemaRegistry,this._templateCloner))};t.prototype._createTemplateElm=function(e){var t=u.DOM.createTemplate(e);var n=u.DOM.querySelectorAll(u.DOM.templateAwareRoot(t),"script");for(var r=0;r<n.length;r++){u.DOM.remove(n[r])}return t};t.prototype._normalizeViewEncapsulationIfThereAreNoStyles=function(e){if(e.encapsulation===l.ViewEncapsulation.Emulated){return new l.ViewDefinition({componentId:e.componentId,templateAbsUrl:e.templateAbsUrl,template:e.template,styleAbsUrls:e.styleAbsUrls,styles:e.styles,directives:e.directives,encapsulation:l.ViewEncapsulation.None})}else{return e}};return t}(l.RenderCompiler);t.DomCompiler=E;var R=function(e){r(t,e);function t(t,n,r,i,o,a){e.call(this,t,n,new d.DefaultStepFactory(r,a),i,o)}t=i([s.Injectable(),a(5,s.Inject(_.APP_ID)),o("design:paramtypes",[v.ElementSchemaRegistry,C.TemplateCloner,y.Parser,h.ViewLoader,b.SharedStylesHost,Object])],t);return t}(E);t.DefaultDomCompiler=R},function(e,t,n){var r=n(4);var i=n(108);var o=n(140);var a=n(141);var s=n(142);var c=function(){function e(e){this.steps=e;this._control=new a.CompileControl(e)}e.prototype.processStyles=function(e){var t=this;return e.map(function(e){t.steps.forEach(function(t){e=t.processStyle(e)});return e})};e.prototype.processElements=function(e,t,n){var r=[];var i=n.componentId;var a=new o.CompileElement(e,i);a.inheritedProtoView=new s.ProtoViewBuilder(e,t,n.encapsulation);a.isViewRoot=true;this._processElement(r,null,a,i);return r};e.prototype._processElement=function(e,t,n,a){if(a===void 0){a=""}var s=this._control.internalProcess(e,0,t,n);if(n.compileChildren){var c=i.DOM.firstChild(i.DOM.templateAwareRoot(n.element));while(r.isPresent(c)){var u=i.DOM.nextSibling(c);if(i.DOM.isElementNode(c)){var l=new o.CompileElement(c,a);l.inheritedProtoView=n.inheritedProtoView;l.inheritedElementBinder=n.inheritedElementBinder;l.distanceToInheritedBinder=n.distanceToInheritedBinder+1;this._processElement(e,n,l)}c=u}}if(r.isPresent(s)){for(var p=0;p<s.length;p++){this._processElement(e,n,s[p])}}};return e}();t.CompilePipeline=c},function(e,t,n){var r=n(11);var i=n(108);var o=n(4);var a=function(){function e(e,t){if(t===void 0){t=""}this.element=e;this._attrs=null;this._classList=null;this.isViewRoot=false;this.inheritedProtoView=null;this.distanceToInheritedBinder=0;this.inheritedElementBinder=null;this.compileChildren=true;var n=o.assertionsEnabled()?s(e):null;if(t!==""){this.elementDescription=t;if(o.isPresent(n))this.elementDescription+=": "+n}else{this.elementDescription=n}}e.prototype.isBound=function(){return o.isPresent(this.inheritedElementBinder)&&this.distanceToInheritedBinder===0};e.prototype.bindElement=function(){if(!this.isBound()){var e=this.inheritedElementBinder;this.inheritedElementBinder=this.inheritedProtoView.bindElement(this.element,this.elementDescription);if(o.isPresent(e)){this.inheritedElementBinder.setParent(e,this.distanceToInheritedBinder)}this.distanceToInheritedBinder=0}return this.inheritedElementBinder};e.prototype.attrs=function(){if(o.isBlank(this._attrs)){this._attrs=i.DOM.attributeMap(this.element)}return this._attrs};e.prototype.classList=function(){if(o.isBlank(this._classList)){this._classList=[];var e=i.DOM.classList(this.element);for(var t=0;t<e.length;t++){this._classList.push(e[t])}}return this._classList};return e}();t.CompileElement=a;function s(e){var t=new o.StringJoiner;var n=i.DOM.attributeMap(e);t.add("<");t.add(i.DOM.tagName(e).toLowerCase());c(t,"id",n.get("id"));c(t,"class",n.get("class"));r.MapWrapper.forEach(n,function(e,n){if(n!=="id"&&n!=="class"){c(t,n,e)}});t.add(">");return t.toString()}function c(e,t,n){if(o.isPresent(n)){if(n.length===0){e.add(" "+t)}else{e.add(" "+t+'="'+n+'"')}}}},function(e,t,n){var r=n(4);var i=function(){function e(e){this._steps=e;this._currentStepIndex=0;this._parent=null;this._results=null;this._additionalChildren=null}e.prototype.internalProcess=function(e,t,n,r){this._results=e;var i=this._currentStepIndex;var o=this._parent;this._ignoreCurrentElement=false;for(var a=t;a<this._steps.length&&!this._ignoreCurrentElement;a++){var s=this._steps[a];this._parent=n;this._currentStepIndex=a;s.processElement(n,r,this);n=this._parent}if(!this._ignoreCurrentElement){e.push(r)}this._currentStepIndex=i;this._parent=o;var c=this._additionalChildren;this._additionalChildren=null;return c};e.prototype.addParent=function(e){this.internalProcess(this._results,this._currentStepIndex+1,this._parent,e);this._parent=e};e.prototype.addChild=function(e){if(r.isBlank(this._additionalChildren)){this._additionalChildren=[]}this._additionalChildren.push(e)};e.prototype.ignoreCurrentElement=function(){this._ignoreCurrentElement=true};return e}();t.CompileControl=i},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=n(4);var o=n(13);var a=n(11);var s=n(108);var c=n(24);var u=n(143);var l=n(144);var p=n(57);var f=n(107);var h=n(122);var d=function(){function e(e,t,n){this.rootElement=e;this.type=t;this.viewEncapsulation=n;this.variableBindings=new Map;this.elements=[];this.rootTextBindings=new Map;this.ngContentCount=0;this.hostAttributes=new Map}e.prototype.bindElement=function(e,t){if(t===void 0){t=null}var n=new v(this.elements.length,e,t);this.elements.push(n);s.DOM.addClass(e,f.NG_BINDING_CLASS);return n};e.prototype.bindVariable=function(e,t){this.variableBindings.set(t,e)};e.prototype.bindRootText=function(e,t){this.rootTextBindings.set(e,t)};e.prototype.bindNgContent=function(){this.ngContentCount++};e.prototype.setHostAttribute=function(e,t){this.hostAttributes.set(e,t)};e.prototype.build=function(e,t){var n=[];var r=[];var o=[];var h=[];var d=this.ngContentCount;f.queryBoundTextNodeIndices(s.DOM.content(this.rootElement),this.rootTextBindings,function(e,t,n){o.push(n);h.push(t)});a.ListWrapper.forEach(this.elements,function(s){var u=new a.Set;var h=a.ListWrapper.map(s.directives,function(t){s.eventBuilder.merge(t.eventBuilder);a.ListWrapper.forEach(t.templatePropertyNames,function(e){return u.add(e)});return new p.DirectiveBinder({directiveIndex:t.directiveIndex,propertyBindings:t.propertyBindings,eventBindings:t.eventBindings,hostPropertyBindings:w(e,s.element,true,t.hostPropertyBindings,null)})});var v=i.isPresent(s.nestedProtoView)?s.nestedProtoView.build(e,t):null;if(i.isPresent(v)){d+=v.transitiveNgContentCount}var y=i.isPresent(s.parent)?s.parent.index:-1;var g=[];f.queryBoundTextNodeIndices(s.element,s.textBindings,function(e,t,n){o.push(n);g.push(t)});r.push(new p.RenderElementBinder({index:s.index,parentIndex:y,distanceToParent:s.distanceToParent,directives:h,nestedProtoView:v,propertyBindings:w(e,s.element,i.isPresent(s.componentId),s.propertyBindings,u),variableBindings:s.variableBindings,eventBindings:s.eventBindings,readAttributes:s.readAttributes}));n.push(new l.DomElementBinder({textNodeIndices:g,hasNestedProtoView:i.isPresent(v)||i.isPresent(s.componentId),hasNativeShadowRoot:false,eventLocals:new c.LiteralArray(s.eventBuilder.buildEventLocals()),localEvents:s.eventBuilder.buildLocalEvents(),globalEvents:s.eventBuilder.buildGlobalEvents()}))});var v=s.DOM.childNodes(s.DOM.content(this.rootElement)).length;return new p.ProtoViewDto({render:new u.DomProtoViewRef(u.DomProtoView.create(t,this.type,this.rootElement,this.viewEncapsulation,[v],h,n,this.hostAttributes)),type:this.type,elementBinders:r,variableBindings:this.variableBindings,textBindings:o,transitiveNgContentCount:d})};return e}();t.ProtoViewBuilder=d;var v=function(){function e(e,t,n){this.index=e;this.element=t;this.parent=null;this.distanceToParent=0;this.directives=[];this.nestedProtoView=null;this.propertyBindings=new Map;this.variableBindings=new Map;this.eventBindings=[];this.eventBuilder=new g;this.textBindings=new Map;this.readAttributes=new Map;this.componentId=null}e.prototype.setParent=function(e,t){this.parent=e;if(i.isPresent(e)){this.distanceToParent=t}return this};e.prototype.readAttribute=function(e){if(i.isBlank(this.readAttributes.get(e))){this.readAttributes.set(e,s.DOM.getAttribute(this.element,e))}};e.prototype.bindDirective=function(e){var t=new y(e);this.directives.push(t);return t};e.prototype.bindNestedProtoView=function(e){if(i.isPresent(this.nestedProtoView)){throw new o.BaseException("Only one nested view per element is allowed")}this.nestedProtoView=new d(e,p.ViewType.EMBEDDED,p.ViewEncapsulation.None);return this.nestedProtoView};e.prototype.bindProperty=function(e,t){this.propertyBindings.set(e,t)};e.prototype.bindVariable=function(e,t){if(i.isPresent(this.nestedProtoView)){this.nestedProtoView.bindVariable(e,t)}else{this.variableBindings.set(t,e)}};e.prototype.bindEvent=function(e,t,n){if(n===void 0){n=null}this.eventBindings.push(this.eventBuilder.add(e,t,n))};e.prototype.bindText=function(e,t){this.textBindings.set(e,t)};e.prototype.setComponentId=function(e){this.componentId=e};return e}();t.ElementBinderBuilder=v;var y=function(){function e(e){this.directiveIndex=e;this.propertyBindings=new Map;this.templatePropertyNames=[];this.hostPropertyBindings=new Map;this.eventBindings=[];this.eventBuilder=new g}e.prototype.bindProperty=function(e,t,n){this.propertyBindings.set(e,t);if(i.isPresent(n)){this.templatePropertyNames.push(n)}};e.prototype.bindHostProperty=function(e,t){this.hostPropertyBindings.set(e,t)};e.prototype.bindEvent=function(e,t,n){if(n===void 0){n=null}this.eventBindings.push(this.eventBuilder.add(e,t,n))};return e}();t.DirectiveBuilder=y;var g=function(e){r(t,e);function t(){e.call(this);this.locals=[];this.localEvents=[];this.globalEvents=[];this._implicitReceiver=new c.ImplicitReceiver}t.prototype.add=function(e,t,n){var r=t.ast;var o=i.isPresent(n)?n+h.EVENT_TARGET_SEPARATOR+e:e;var a=new p.EventBinding(o,new c.ASTWithSource(r,t.source,t.location));var s=new l.Event(e,n,o);if(i.isBlank(n)){this.localEvents.push(s)}else{this.globalEvents.push(s)}return a};t.prototype.visitPropertyRead=function(e){var t=false;var n=e;while(!t&&n instanceof c.PropertyRead){var r=n;if(r.name=="$event"){t=true}n=r.receiver}if(t){this.locals.push(e);var i=this.locals.length-1;return new c.PropertyRead(this._implicitReceiver,""+i,function(e){return e[i]})}else{return e}};t.prototype.buildEventLocals=function(){return this.locals};t.prototype.buildLocalEvents=function(){return this.localEvents};t.prototype.buildGlobalEvents=function(){return this.globalEvents};t.prototype.merge=function(e){this._merge(this.localEvents,e.localEvents);this._merge(this.globalEvents,e.globalEvents);this.locals.concat(e.locals)};t.prototype._merge=function(e,t){var n=[];for(var r=0;r<e.length;r++){n.push(e[r].fullName)}for(var i=0;i<t.length;i++){if(!a.ListWrapper.contains(n,t[i].fullName)){e.push(t[i])}}};return t}(c.AstTransformer);var m="attr";var _="class";var b="style";function w(e,t,n,r,c){var u=[];a.MapWrapper.forEach(r,function(r,l){var p=E(e,r,l);if(i.isPresent(c)&&a.SetWrapper.has(c,l)){}else if(C(e,t,n,p)){u.push(p)}else{var f="Can't bind to '"+l+"' since it isn't a known property of the '<"+s.DOM.tagName(t).toLowerCase()+">' element";if(i.isPresent(c)){f+=" and there are no matching directives with a corresponding property"}throw new o.BaseException(f)}});return u}function C(e,t,n,r){if(r.type===p.PropertyBindingType.PROPERTY){if(!n){return e.hasProperty(s.DOM.tagName(t),r.property)}else{return s.DOM.hasProperty(t,r.property)}}return true}function E(e,t,n){var r=n.split(".");if(r.length===1){var i=e.getMappedPropName(r[0]);return new p.ElementPropertyBinding(p.PropertyBindingType.PROPERTY,t,i)}else if(r[0]==m){return new p.ElementPropertyBinding(p.PropertyBindingType.ATTRIBUTE,t,r[1])}else if(r[0]==_){return new p.ElementPropertyBinding(p.PropertyBindingType.CLASS,t,f.camelCaseToDashCase(r[1]))}else if(r[0]==b){var a=r.length>2?r[2]:null;return new p.ElementPropertyBinding(p.PropertyBindingType.STYLE,t,r[1],a)}else{throw new o.BaseException("Invalid property name "+n)}}},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=n(57);var o=n(108);function a(e){return e._protoView}t.resolveInternalDomProtoView=a;var s=function(e){r(t,e);function t(t){e.call(this);this._protoView=t}return t}(i.RenderProtoViewRef);t.DomProtoViewRef=s;var c=function(){function e(e,t,n,r,i,o,a,s,c){this.type=e;this.cloneableTemplate=t;this.encapsulation=n;this.elementBinders=r;this.hostAttributes=i;this.rootTextNodeIndices=o;this.boundTextNodeCount=a;this.fragmentsRootNodeCount=s;this.isSingleElementFragment=c}e.create=function(t,n,r,i,a,s,c,u){var l=s.length;for(var p=0;p<c.length;p++){l+=c[p].textNodeIndices.length}var f=a.length===1&&a[0]===1&&o.DOM.isElementNode(o.DOM.firstChild(o.DOM.content(r)));return new e(n,t.prepareForClone(r),i,c,u,s,l,a,f)};return e}();t.DomProtoView=c},function(e,t,n){var r=n(4);var i=function(){function e(e){var t=e===void 0?{}:e,n=t.textNodeIndices,i=t.hasNestedProtoView,o=t.eventLocals,a=t.localEvents,s=t.globalEvents,c=t.hasNativeShadowRoot;this.textNodeIndices=n;this.hasNestedProtoView=i;this.eventLocals=o;this.localEvents=a;this.globalEvents=s;this.hasNativeShadowRoot=r.isPresent(c)?c:false}return e}();t.DomElementBinder=i;var o=function(){function e(e,t,n){this.name=e;this.target=t;this.fullName=n}return e}();t.Event=o;var a=function(){function e(e,t,n){this.actionName=e;this.actionExpression=t;this.expression=n}return e}();t.HostAction=a},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=n(146);var o=n(147);var a=n(148);var s=n(150);var c=n(151);var u=function(){function e(){}e.prototype.createSteps=function(e){return null};return e}();t.CompileStepFactory=u;var l=function(e){r(t,e);function t(t,n){e.call(this);this._parser=t;this._appId=n;this._componentUIDsCache=new Map;
}t.prototype.createSteps=function(e){return[new s.ViewSplitter(this._parser),new i.PropertyBindingParser(this._parser),new a.DirectiveParser(this._parser,e.directives),new o.TextInterpolationParser(this._parser),new c.StyleEncapsulator(this._appId,e,this._componentUIDsCache)]};return t}(u);t.DefaultStepFactory=l},function(e,t,n){var r=n(4);var i=n(11);var o=n(107);var a=/^(?:(?:(?:(bind-)|(var-|#)|(on-)|(bindon-))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/g;var s=function(){function e(e){this._parser=e}e.prototype.processStyle=function(e){return e};e.prototype.processElement=function(e,t,n){var o=this;var s=t.attrs();var c=new Map;i.MapWrapper.forEach(s,function(e,n){n=o._normalizeAttributeName(n);var i=r.RegExpWrapper.firstMatch(a,n);if(r.isPresent(i)){if(r.isPresent(i[1])){o._bindProperty(i[5],e,t,c)}else if(r.isPresent(i[2])){var s=i[5];var u=e==""?"$implicit":e;o._bindVariable(s,u,t,c)}else if(r.isPresent(i[3])){o._bindEvent(i[5],e,t,c)}else if(r.isPresent(i[4])){o._bindProperty(i[5],e,t,c);o._bindAssignmentEvent(i[5],e,t,c)}else if(r.isPresent(i[6])){o._bindProperty(i[6],e,t,c);o._bindAssignmentEvent(i[6],e,t,c)}else if(r.isPresent(i[7])){o._bindProperty(i[7],e,t,c)}else if(r.isPresent(i[8])){o._bindEvent(i[8],e,t,c)}}else{var l=o._parser.parseInterpolation(e,t.elementDescription);if(r.isPresent(l)){o._bindPropertyAst(n,l,t,c)}}});i.MapWrapper.forEach(c,function(e,t){s.set(t,e)})};e.prototype._normalizeAttributeName=function(e){return r.StringWrapper.startsWith(e,"data-")?r.StringWrapper.substring(e,5):e};e.prototype._bindVariable=function(e,t,n,r){n.bindElement().bindVariable(o.dashCaseToCamelCase(e),t);r.set(e,t)};e.prototype._bindProperty=function(e,t,n,r){this._bindPropertyAst(e,this._parser.parseBinding(t,n.elementDescription),n,r)};e.prototype._bindPropertyAst=function(e,t,n,r){var i=n.bindElement();i.bindProperty(o.dashCaseToCamelCase(e),t);r.set(e,t.source)};e.prototype._bindAssignmentEvent=function(e,t,n,r){this._bindEvent(e,t+"=$event",n,r)};e.prototype._bindEvent=function(e,t,n,r){n.bindElement().bindEvent(o.dashCaseToCamelCase(e),this._parser.parseAction(t,n.elementDescription))};return e}();t.PropertyBindingParser=s},function(e,t,n){var r=n(4);var i=n(108);var o=function(){function e(e){this._parser=e}e.prototype.processStyle=function(e){return e};e.prototype.processElement=function(e,t,n){if(!t.compileChildren){return}var o=t.element;var a=i.DOM.childNodes(i.DOM.templateAwareRoot(o));for(var s=0;s<a.length;s++){var c=a[s];if(i.DOM.isTextNode(c)){var u=c;var l=i.DOM.nodeValue(u);var p=this._parser.parseInterpolation(l,t.elementDescription);if(r.isPresent(p)){i.DOM.setText(u," ");if(t.element===t.inheritedProtoView.rootElement){t.inheritedProtoView.bindRootText(u,p)}else{t.bindElement().bindText(u,p)}}}}};return e}();t.TextInterpolationParser=o},function(e,t,n){var r=n(4);var i=n(13);var o=n(11);var a=n(108);var s=n(149);var c=n(57);var u=n(107);var l=n(122);var p=function(){function e(e,t){this._parser=e;this._directives=t;this._selectorMatcher=new s.SelectorMatcher;for(var n=0;n<t.length;n++){var r=t[n];var i=s.CssSelector.parse(r.selector);this._selectorMatcher.addSelectables(i,n)}}e.prototype.processStyle=function(e){return e};e.prototype.processElement=function(e,t,n){var i=this;var u=t.attrs();var l=t.classList();var p=new s.CssSelector;var f=[];var h=null;p.setElement(a.DOM.nodeName(t.element));for(var d=0;d<l.length;d++){p.addClassName(l[d])}o.MapWrapper.forEach(u,function(e,t){p.addAttribute(t,e)});this._selectorMatcher.match(p,function(e,n){var r=i._directives[n];h=t.bindElement();if(r.type===c.RenderDirectiveMetadata.COMPONENT_TYPE){i._ensureHasOnlyOneComponent(h,t.elementDescription);o.ListWrapper.insert(f,0,n);h.setComponentId(r.id)}else{f.push(n)}});o.ListWrapper.forEach(f,function(e){var n=i._directives[e];var a=h.bindDirective(e);t.compileChildren=t.compileChildren&&n.compileChildren;if(r.isPresent(n.properties)){o.ListWrapper.forEach(n.properties,function(e){i._bindDirectiveProperty(e,t,a)})}if(r.isPresent(n.hostListeners)){i._sortedKeysForEach(n.hostListeners,function(e,n){i._bindDirectiveEvent(n,e,t,a)})}if(r.isPresent(n.hostProperties)){i._sortedKeysForEach(n.hostProperties,function(e,n){i._bindHostProperty(n,e,t,a)})}if(r.isPresent(n.hostAttributes)){i._sortedKeysForEach(n.hostAttributes,function(e,n){i._addHostAttribute(n,e,t)})}if(r.isPresent(n.readAttributes)){o.ListWrapper.forEach(n.readAttributes,function(e){h.readAttribute(e)})}})};e.prototype._sortedKeysForEach=function(e,t){var n=o.MapWrapper.keys(e);o.ListWrapper.sort(n,function(e,t){var n=r.StringWrapper.compare(e,t);return n==0?-1:n});o.ListWrapper.forEach(n,function(n){t(o.MapWrapper.get(e,n),n)})};e.prototype._ensureHasOnlyOneComponent=function(e,t){if(r.isPresent(e.componentId)){throw new i.BaseException("Only one component directive is allowed per element - check "+t)}};e.prototype._bindDirectiveProperty=function(e,t,n){var i;var a;var s;var c=e.indexOf(":");if(c>-1){i=r.StringWrapper.substring(e,0,c).trim();s=this._splitBindConfig(r.StringWrapper.substring(e,c+1));a=o.ListWrapper.removeAt(s,0)}else{i=e;a=e;s=[]}a=u.dashCaseToCamelCase(a);var l=t.bindElement().propertyBindings.get(a);if(r.isBlank(l)){var p=t.attrs().get(u.camelCaseToDashCase(a));if(r.isPresent(p)){l=this._parser.wrapLiteralPrimitive(p,t.elementDescription)}}if(r.isPresent(l)){n.bindProperty(i,l,a)}};e.prototype._bindDirectiveEvent=function(e,t,n,r){var i=this._parser.parseAction(t,n.elementDescription);var o=l.EventConfig.parse(e);var a=o.isLongForm?o.fieldName:null;r.bindEvent(o.eventName,i,a)};e.prototype._bindHostProperty=function(e,t,n,r){var i=this._parser.parseSimpleBinding(t,"hostProperties of "+n.elementDescription);r.bindHostProperty(e,i)};e.prototype._addHostAttribute=function(e,t,n){if(r.StringWrapper.equals(e,"class")){o.ListWrapper.forEach(t.split(" "),function(e){a.DOM.addClass(n.element,e)})}else if(!a.DOM.hasAttribute(n.element,e)){a.DOM.setAttribute(n.element,e,t)}};e.prototype._splitBindConfig=function(e){return o.ListWrapper.map(e.split("|"),function(e){return e.trim()})};return e}();t.DirectiveParser=p},function(e,t,n){var r=n(11);var i=n(4);var o=n(13);var a="";var s=i.RegExpWrapper.create("(\\:not\\()|"+"([-\\w]+)|"+"(?:\\.([-\\w]+))|"+"(?:\\[([-\\w*]+)(?:=([^\\]]*))?\\])|"+"(\\))|"+"(\\s*,\\s*)");var c=function(){function e(){this.element=null;this.classNames=[];this.attrs=[];this.notSelectors=[]}e.parse=function(t){var n=[];var a=function(e,t){if(t.notSelectors.length>0&&i.isBlank(t.element)&&r.ListWrapper.isEmpty(t.classNames)&&r.ListWrapper.isEmpty(t.attrs)){t.element="*"}e.push(t)};var c=new e;var u=i.RegExpWrapper.matcher(s,t);var l;var p=c;var f=false;while(i.isPresent(l=i.RegExpMatcherWrapper.next(u))){if(i.isPresent(l[1])){if(f){throw new o.BaseException("Nesting :not is not allowed in a selector")}f=true;p=new e;c.notSelectors.push(p)}if(i.isPresent(l[2])){p.setElement(l[2])}if(i.isPresent(l[3])){p.addClassName(l[3])}if(i.isPresent(l[4])){p.addAttribute(l[4],l[5])}if(i.isPresent(l[6])){f=false;p=c}if(i.isPresent(l[7])){if(f){throw new o.BaseException("Multiple selectors in :not are not supported")}a(n,c);c=p=new e}}a(n,c);return n};e.prototype.isElementSelector=function(){return i.isPresent(this.element)&&r.ListWrapper.isEmpty(this.classNames)&&r.ListWrapper.isEmpty(this.attrs)&&this.notSelectors.length===0};e.prototype.setElement=function(e){if(e===void 0){e=null}if(i.isPresent(e)){e=e.toLowerCase()}this.element=e};e.prototype.getMatchingElementTemplate=function(){var e=i.isPresent(this.element)?this.element:"div";var t=this.classNames.length>0?' class="'+this.classNames.join(" ")+'"':"";var n="";for(var r=0;r<this.attrs.length;r+=2){var o=this.attrs[r];var a=this.attrs[r+1]!==""?'="'+this.attrs[r+1]+'"':"";n+=" "+o+a}return"<"+e+t+n+"></"+e+">"};e.prototype.addAttribute=function(e,t){if(t===void 0){t=a}this.attrs.push(e.toLowerCase());if(i.isPresent(t)){t=t.toLowerCase()}else{t=a}this.attrs.push(t)};e.prototype.addClassName=function(e){this.classNames.push(e.toLowerCase())};e.prototype.toString=function(){var e="";if(i.isPresent(this.element)){e+=this.element}if(i.isPresent(this.classNames)){for(var t=0;t<this.classNames.length;t++){e+="."+this.classNames[t]}}if(i.isPresent(this.attrs)){for(var t=0;t<this.attrs.length;){var n=this.attrs[t++];var o=this.attrs[t++];e+="["+n;if(o.length>0){e+="="+o}e+="]"}}r.ListWrapper.forEach(this.notSelectors,function(t){e+=":not("+t.toString()+")"});return e};return e}();t.CssSelector=c;var u=function(){function e(){this._elementMap=new r.Map;this._elementPartialMap=new r.Map;this._classMap=new r.Map;this._classPartialMap=new r.Map;this._attrValueMap=new r.Map;this._attrValuePartialMap=new r.Map;this._listContexts=[]}e.createNotMatcher=function(t){var n=new e;n.addSelectables(t,null);return n};e.prototype.addSelectables=function(e,t){var n=null;if(e.length>1){n=new l(e);this._listContexts.push(n)}for(var r=0;r<e.length;r++){this._addSelectable(e[r],t,n)}};e.prototype._addSelectable=function(e,t,n){var o=this;var a=e.element;var s=e.classNames;var c=e.attrs;var u=new p(e,t,n);if(i.isPresent(a)){var l=c.length===0&&s.length===0;if(l){this._addTerminal(o._elementMap,a,u)}else{o=this._addPartial(o._elementPartialMap,a)}}if(i.isPresent(s)){for(var f=0;f<s.length;f++){var l=c.length===0&&f===s.length-1;var h=s[f];if(l){this._addTerminal(o._classMap,h,u)}else{o=this._addPartial(o._classPartialMap,h)}}}if(i.isPresent(c)){for(var f=0;f<c.length;){var l=f===c.length-2;var d=c[f++];var v=c[f++];if(l){var y=o._attrValueMap;var g=y.get(d);if(i.isBlank(g)){g=new r.Map;y.set(d,g)}this._addTerminal(g,v,u)}else{var m=o._attrValuePartialMap;var _=m.get(d);if(i.isBlank(_)){_=new r.Map;m.set(d,_)}o=this._addPartial(_,v)}}}};e.prototype._addTerminal=function(e,t,n){var r=e.get(t);if(i.isBlank(r)){r=[];e.set(t,r)}r.push(n)};e.prototype._addPartial=function(t,n){var r=t.get(n);if(i.isBlank(r)){r=new e;t.set(n,r)}return r};e.prototype.match=function(e,t){var n=false;var r=e.element;var o=e.classNames;var s=e.attrs;for(var c=0;c<this._listContexts.length;c++){this._listContexts[c].alreadyMatched=false}n=this._matchTerminal(this._elementMap,r,e,t)||n;n=this._matchPartial(this._elementPartialMap,r,e,t)||n;if(i.isPresent(o)){for(var u=0;u<o.length;u++){var l=o[u];n=this._matchTerminal(this._classMap,l,e,t)||n;n=this._matchPartial(this._classPartialMap,l,e,t)||n}}if(i.isPresent(s)){for(var u=0;u<s.length;){var p=s[u++];var f=s[u++];var h=this._attrValueMap.get(p);if(!i.StringWrapper.equals(f,a)){n=this._matchTerminal(h,a,e,t)||n}n=this._matchTerminal(h,f,e,t)||n;var d=this._attrValuePartialMap.get(p);if(!i.StringWrapper.equals(f,a)){n=this._matchPartial(d,a,e,t)||n}n=this._matchPartial(d,f,e,t)||n}}return n};e.prototype._matchTerminal=function(e,t,n,r){if(i.isBlank(e)||i.isBlank(t)){return false}var o=e.get(t);var a=e.get("*");if(i.isPresent(a)){o=o.concat(a)}if(i.isBlank(o)){return false}var s;var c=false;for(var u=0;u<o.length;u++){s=o[u];c=s.finalize(n,r)||c}return c};e.prototype._matchPartial=function(e,t,n,r){if(i.isBlank(e)||i.isBlank(t)){return false}var o=e.get(t);if(i.isBlank(o)){return false}return o.match(n,r)};return e}();t.SelectorMatcher=u;var l=function(){function e(e){this.selectors=e;this.alreadyMatched=false}return e}();t.SelectorListContext=l;var p=function(){function e(e,t,n){this.selector=e;this.cbContext=t;this.listContext=n;this.notSelectors=e.notSelectors}e.prototype.finalize=function(e,t){var n=true;if(this.notSelectors.length>0&&(i.isBlank(this.listContext)||!this.listContext.alreadyMatched)){var r=u.createNotMatcher(this.notSelectors);n=!r.match(e,null)}if(n&&i.isPresent(t)&&(i.isBlank(this.listContext)||!this.listContext.alreadyMatched)){if(i.isPresent(this.listContext)){this.listContext.alreadyMatched=true}t(this.selector,this.cbContext)}return n};return e}();t.SelectorContext=p},function(e,t,n){var r=n(4);var i=n(13);var o=n(108);var a=n(11);var s=n(140);var c=n(107);var u=function(){function e(e){this._parser=e}e.prototype.processStyle=function(e){return e};e.prototype.processElement=function(e,t,n){var c=t.attrs();var u=c.get("template");var l=r.isPresent(u);a.MapWrapper.forEach(c,function(e,n){if(r.StringWrapper.startsWith(n,"*")){var o=r.StringWrapper.substring(n,1);if(l){throw new i.BaseException("Only one template directive per element is allowed: "+(u+" and "+o+" cannot be used simultaneously ")+("in "+t.elementDescription))}else{u=e.length==0?o:o+" "+e;l=true}}});if(r.isPresent(e)){if(o.DOM.isTemplateElement(t.element)){if(!t.isViewRoot){var p=new s.CompileElement(o.DOM.createTemplate(""));p.inheritedProtoView=t.bindElement().bindNestedProtoView(p.element);p.elementDescription=t.elementDescription;p.isViewRoot=true;this._moveChildNodes(o.DOM.content(t.element),o.DOM.content(p.element));n.addChild(p)}}if(l){var f=new s.CompileElement(o.DOM.createTemplate(""));f.inheritedProtoView=t.inheritedProtoView;f.inheritedElementBinder=t.inheritedElementBinder;f.distanceToInheritedBinder=t.distanceToInheritedBinder;f.elementDescription=t.elementDescription;var p=new s.CompileElement(o.DOM.createTemplate(""));p.inheritedProtoView=f.bindElement().bindNestedProtoView(p.element);p.elementDescription=t.elementDescription;p.isViewRoot=true;t.inheritedProtoView=p.inheritedProtoView;t.inheritedElementBinder=null;t.distanceToInheritedBinder=0;this._parseTemplateBindings(u,f);o.DOM.insertBefore(t.element,f.element);n.addParent(f);o.DOM.appendChild(o.DOM.content(p.element),t.element);n.addParent(p)}}};e.prototype._moveChildNodes=function(e,t){var n=o.DOM.firstChild(e);while(r.isPresent(n)){o.DOM.appendChild(t,n);n=o.DOM.firstChild(e)}};e.prototype._parseTemplateBindings=function(e,t){var n=this._parser.parseTemplateBindings(e,t.elementDescription);for(var i=0;i<n.length;i++){var a=n[i];if(a.keyIsVar){t.bindElement().bindVariable(c.dashCaseToCamelCase(a.key),a.name);t.attrs().set(a.key,a.name)}else if(r.isPresent(a.expression)){t.bindElement().bindProperty(c.dashCaseToCamelCase(a.key),a.expression);t.attrs().set(a.key,a.expression.source)}else{o.DOM.setAttribute(t.element,a.key,"")}}};return e}();t.ViewSplitter=u},function(e,t,n){var r=n(57);var i=n(107);var o=n(108);var a=n(4);var s=n(152);var c=function(){function e(e,t,n){this._appId=e;this._view=t;this._componentUIDsCache=n}e.prototype.processElement=function(e,t,n){if(i.isElementWithTag(t.element,i.NG_CONTENT_ELEMENT_NAME)){t.inheritedProtoView.bindNgContent()}else{if(this._view.encapsulation===r.ViewEncapsulation.Emulated){this._processEmulatedScopedElement(t,e)}}};e.prototype.processStyle=function(e){var t=this._view.encapsulation;if(t===r.ViewEncapsulation.Emulated){return this._shimCssForComponent(e,this._view.componentId)}else{return e}};e.prototype._processEmulatedScopedElement=function(e,t){var n=e.element;var i=this._view.componentId;var s=e.inheritedProtoView.type;if(s!==r.ViewType.HOST&&a.isPresent(i)){var c=l(this._getComponentId(i));o.DOM.setAttribute(n,c,"");if(a.isBlank(t)&&s==r.ViewType.COMPONENT){var p=u(this._getComponentId(i));e.inheritedProtoView.setHostAttribute(p,"")}}};e.prototype._shimCssForComponent=function(e,t){var n=this._getComponentId(t);var r=new s.ShadowCss;return r.shimCssText(e,l(n),u(n))};e.prototype._getComponentId=function(e){var t=this._componentUIDsCache.get(e);if(a.isBlank(t)){t=this._appId+"-"+this._componentUIDsCache.size;this._componentUIDsCache.set(e,t)}return t};return e}();t.StyleEncapsulator=c;function u(e){return"_nghost-"+e}function l(e){return"_ngcontent-"+e}},function(e,t,n){var r=n(108);var i=n(11);var o=n(4);var a=function(){function e(){this.strictStyling=true}e.prototype.shimStyle=function(e,t,n){if(n===void 0){n=""}var i=r.DOM.getText(e);return this.shimCssText(i,t,n)};e.prototype.shimCssText=function(e,t,n){if(n===void 0){n=""}e=this._insertDirectives(e);return this._scopeCssText(e,t,n)};e.prototype._insertDirectives=function(e){e=this._insertPolyfillDirectivesInCssText(e);return this._insertPolyfillRulesInCssText(e)};e.prototype._insertPolyfillDirectivesInCssText=function(e){return o.StringWrapper.replaceAllMapped(e,s,function(e){return e[1]+"{"})};e.prototype._insertPolyfillRulesInCssText=function(e){return o.StringWrapper.replaceAllMapped(e,c,function(e){var t=e[0];t=o.StringWrapper.replace(t,e[1],"");t=o.StringWrapper.replace(t,e[2],"");return e[3]+t})};e.prototype._scopeCssText=function(e,t,n){var r=this;var i=this._extractUnscopedRulesFromCssText(e);e=this._insertPolyfillHostInCssText(e);e=this._convertColonHost(e);e=this._convertColonHostContext(e);e=this._convertShadowDOMSelectors(e);if(o.isPresent(t)){C(e,function(i){e=r._scopeRules(i,t,n)})}e=e+"\n"+i;return e.trim()};e.prototype._extractUnscopedRulesFromCssText=function(e){var t="",n;var r=o.RegExpWrapper.matcher(u,e);while(o.isPresent(n=o.RegExpMatcherWrapper.next(r))){var i=n[0];i=o.StringWrapper.replace(i,n[2],"");i=o.StringWrapper.replace(i,n[1],n[3]);t+=i+"\n\n"}return t};e.prototype._convertColonHost=function(e){return this._convertColonRule(e,h,this._colonHostPartReplacer)};e.prototype._convertColonHostContext=function(e){return this._convertColonRule(e,d,this._colonHostContextPartReplacer)};e.prototype._convertColonRule=function(e,t,n){return o.StringWrapper.replaceAllMapped(e,t,function(e){if(o.isPresent(e[2])){var t=e[2].split(","),r=[];for(var i=0;i<t.length;i++){var a=t[i];if(o.isBlank(a))break;a=a.trim();r.push(n(v,a,e[3]))}return r.join(",")}else{return v+e[3]}})};e.prototype._colonHostContextPartReplacer=function(e,t,n){if(o.StringWrapper.contains(t,l)){return this._colonHostPartReplacer(e,t,n)}else{return e+t+n+", "+t+" "+e+n}};e.prototype._colonHostPartReplacer=function(e,t,n){return e+o.StringWrapper.replace(t,l,"")+n};e.prototype._convertShadowDOMSelectors=function(e){for(var t=0;t<y.length;t++){e=o.StringWrapper.replaceAll(e,y[t]," ")}return e};e.prototype._scopeRules=function(e,t,n){var i="";if(o.isPresent(e)){for(var a=0;a<e.length;a++){var s=e[a];if(r.DOM.isStyleRule(s)||r.DOM.isPageRule(s)){i+=this._scopeSelector(s.selectorText,t,n,this.strictStyling)+" {\n";i+=this._propertiesFromRule(s)+"\n}\n\n"}else if(r.DOM.isMediaRule(s)){i+="@media "+s.media.mediaText+" {\n";i+=this._scopeRules(s.cssRules,t,n);i+="\n}\n\n"}else{try{if(o.isPresent(s.cssText)){i+=s.cssText+"\n\n"}}catch(c){if(r.DOM.isKeyframesRule(s)&&o.isPresent(s.cssRules)){i+=this._ieSafeCssTextFromKeyFrameRule(s)}}}}}return i};e.prototype._ieSafeCssTextFromKeyFrameRule=function(e){var t="@keyframes "+e.name+" {";for(var n=0;n<e.cssRules.length;n++){var r=e.cssRules[n];t+=" "+r.keyText+" {"+r.style.cssText+"}"}t+=" }";return t};e.prototype._scopeSelector=function(e,t,n,r){var i=[],a=e.split(",");for(var s=0;s<a.length;s++){var c=a[s];c=c.trim();if(this._selectorNeedsScoping(c,t)){c=r&&!o.StringWrapper.contains(c,v)?this._applyStrictSelectorScope(c,t):this._applySelectorScope(c,t,n)}i.push(c)}return i.join(", ")};e.prototype._selectorNeedsScoping=function(e,t){var n=this._makeScopeMatcher(t);return!o.isPresent(o.RegExpWrapper.firstMatch(n,e))};e.prototype._makeScopeMatcher=function(e){var t=/\[/g;var n=/\]/g;e=o.StringWrapper.replaceAll(e,t,"\\[");e=o.StringWrapper.replaceAll(e,n,"\\]");return o.RegExpWrapper.create("^("+e+")"+g,"m")};e.prototype._applySelectorScope=function(e,t,n){return this._applySimpleSelectorScope(e,t,n)};e.prototype._applySimpleSelectorScope=function(e,t,n){if(o.isPresent(o.RegExpWrapper.firstMatch(m,e))){var r=this.strictStyling?"["+n+"]":t;e=o.StringWrapper.replace(e,v,r);return o.StringWrapper.replaceAll(e,m,r+" ")}else{return t+" "+e}};e.prototype._applyStrictSelectorScope=function(e,t){var n=/\[is=([^\]]*)\]/g;t=o.StringWrapper.replaceAllMapped(t,n,function(e){return e[1]});var r=[" ",">","+","~"],a=e,s="["+t+"]";for(var c=0;c<r.length;c++){var u=r[c];var l=a.split(u);a=i.ListWrapper.map(l,function(e){var t=o.StringWrapper.replaceAll(e.trim(),m,"");if(t.length>0&&!i.ListWrapper.contains(r,t)&&!o.StringWrapper.contains(t,s)){var n=/([^:]*)(:*)(.*)/g;var a=o.RegExpWrapper.firstMatch(n,t);if(o.isPresent(a)){e=a[1]+s+a[2]+a[3]}}return e}).join(u)}return a};e.prototype._insertPolyfillHostInCssText=function(e){e=o.StringWrapper.replaceAll(e,b,p);e=o.StringWrapper.replaceAll(e,_,l);return e};e.prototype._propertiesFromRule=function(e){var t=e.style.cssText;var n=/['"]+|attr/g;if(e.style.content.length>0&&!o.isPresent(o.RegExpWrapper.firstMatch(n,e.style.content))){var r=/content:[^;]*;/g;t=o.StringWrapper.replaceAll(t,r,"content: '"+e.style.content+"';")}return t};return e}();t.ShadowCss=a;var s=/polyfill-next-selector[^}]*content:[\s]*?['"](.*?)['"][;\s]*}([^{]*?){/gim;var c=/(polyfill-rule)[^}]*(content:[\s]*['"](.*?)['"])[;\s]*[^}]*}/gim;var u=/(polyfill-unscoped-rule)[^}]*(content:[\s]*['"](.*?)['"])[;\s]*[^}]*}/gim;var l="-shadowcsshost";var p="-shadowcsscontext";var f=")(?:\\(("+"(?:\\([^)(]*\\)|[^)(]*)+?"+")\\))?([^,{]*)";var h=o.RegExpWrapper.create("("+l+f,"im");var d=o.RegExpWrapper.create("("+p+f,"im");var v=l+"-no-combinator";var y=[/>>>/g,/::shadow/g,/::content/g,/\/deep\//g,/\/shadow-deep\//g,/\/shadow\//g];var g="([>\\s~+[.,{:][\\s\\S]*)?$";var m=o.RegExpWrapper.create(l,"im");var _=/:host/gim;var b=/:host-context/gim;function w(e){return r.DOM.cssToRules(e)}function C(e,t){if(o.isBlank(t))return;var n=w(e);t(n)}},function(e,t){var n=function(){function e(){}e.prototype.hasProperty=function(e,t){return true};e.prototype.getMappedPropName=function(e){return e};return e}();t.ElementSchemaRegistry=n},function(e,t,n){var r=n(108);var i=n(4);var o=n(11);var a=n(143);var s=n(144);var c=n(57);var u=n(107);function l(e,t){var n=[];var i=[];p(e,t,n,i);var o=n[0];d(n,i);var s=[];var l=new Set;y(n,i,s,l);f(n);var v=s.map(function(e){return e.length});var g=P(s);var m=r.DOM.content(g);var _=u.queryBoundElements(m,false);var b=new Map;var w=h(n);var C=D(m,w,b);var E=I(n,_,l,w,b);var R=S(n,_);var x=N(n,b);var O=M(n,i);var A=B(i);var V=a.DomProtoView.create(e,o.original.type,g,o.original.encapsulation,v,C,E,new Map);return new c.RenderProtoViewMergeMapping(new a.DomProtoViewRef(V),v.length,R,_.length,x,O,A)}t.mergeProtoViewsRecursively=l;function p(e,t,n,r){var o=a.resolveInternalDomProtoView(t[0]);var s=n.length;n.push(u.cloneAndQueryProtoView(e,o,false));if(r.length===0){r.push([null,null])}var c=1;for(var l=0;l<o.elementBinders.length;l++){var f=o.elementBinders[l];if(f.hasNestedProtoView){var h=t[c++];if(i.isPresent(h)){r.push([s,l]);if(i.isArray(h)){p(e,h,n,r)}else{n.push(u.cloneAndQueryProtoView(e,a.resolveInternalDomProtoView(h),false))}}}}}function f(e){e.forEach(function(e){e.boundTextNodes.forEach(function(e){var t=e.parentNode;if(i.isPresent(t)&&r.DOM.isElementNode(t)){r.DOM.addClass(t,u.NG_BINDING_CLASS)}})})}function h(e){var t=new Map;for(var n=0;n<e.length;n++){var r=e[n];r.boundTextNodes.forEach(function(e){t.set(e,null)})}return t}function d(e,t){var n=v(e,t);for(var r=1;r<e.length;r++){var i=e[r];if(i.original.type===c.ViewType.EMBEDDED){var o=n[r];var a=e[o];i.fragments.forEach(function(e){return a.fragments.push(e)})}}}function v(e,t){var n=o.ListWrapper.createFixedSize(e.length);n[0]=null;for(var r=1;r<t.length;r++){var i=t[r][0];var a=e[i];if(i===0||a.original.type===c.ViewType.COMPONENT){n[r]=i}else{n[r]=n[i]}}return n}function y(e,t,n,r){var i=e[0];i.fragments.forEach(function(e){return n.push(e)});for(var o=1;o<e.length;o++){var a=t[o][0];var s=t[o][1];var i=e[a];var u=e[o];if(u.original.type===c.ViewType.COMPONENT){g(i,s,u,n,r)}}}function g(e,t,n,i,a){var s=e.boundElements[t];var u=m(n.fragments);var l=b(u);var p=r.DOM.childNodesAsList(s);for(var f=0;f<l.length;f++){var h=l[f];var d=r.DOM.getAttribute(h,"select");p=C(d,h,p)}var v=_(u);var y=n.original.encapsulation===c.ViewEncapsulation.Native;if(y){a.add(s)}o.MapWrapper.forEach(n.original.hostAttributes,function(e,t){r.DOM.setAttribute(s,t,e)});w(e,t,v[0],y);for(var f=1;f<v.length;f++){i.push(v[f])}}function m(e){return e.map(function(e){var t=r.DOM.createTemplate("");e.forEach(function(e){return r.DOM.appendChild(r.DOM.content(t),e)});return t})}function _(e){return e.map(function(e){return r.DOM.childNodesAsList(r.DOM.content(e))})}function b(e){var t=[];e.forEach(function(e){var n=r.DOM.querySelectorAll(r.DOM.content(e),u.NG_CONTENT_ELEMENT_NAME);for(var i=0;i<n.length;i++){t.push(n[i])}});return R(t)}function w(e,t,n,o){var a=e.boundElements[t];if(o){var s=r.DOM.createElement(u.NG_SHADOW_ROOT_ELEMENT_NAME);for(var c=0;c<n.length;c++){r.DOM.appendChild(s,n[c])}var l=r.DOM.firstChild(a);if(i.isPresent(l)){r.DOM.insertBefore(l,s)}else{r.DOM.appendChild(a,s)}}else{r.DOM.clearNodes(a);for(var c=0;c<n.length;c++){r.DOM.appendChild(a,n[c])}}}function C(e,t,n){var i=[];r.DOM.insertBefore(t,r.DOM.createComment("["));for(var o=0;o<n.length;o++){var a=n[o];var s=false;if(E(e)){s=true}else if(r.DOM.isElementNode(a)&&r.DOM.elementMatches(a,e)){s=true}if(s){r.DOM.insertBefore(t,a)}else{i.push(a)}}r.DOM.insertBefore(t,r.DOM.createComment("]"));r.DOM.remove(t);return i}function E(e){return i.isBlank(e)||e.length===0||e=="*"}function R(e){var t=null;var n=[];e.forEach(function(e){var o=r.DOM.getAttribute(e,"select");if(E(o)){if(i.isBlank(t)){t=e}}else{n.push(e)}});if(i.isPresent(t)){n.push(t)}return n}function P(e){var t=r.DOM.createTemplate("");var n=r.DOM.content(t);for(var i=0;i<e.length;i++){var o=e[i];if(i>=1){r.DOM.appendChild(n,r.DOM.createComment("|"))}o.forEach(function(e){r.DOM.appendChild(n,e)})}return t}function D(e,t,n){var r=[];u.queryBoundTextNodeIndices(e,t,function(e,t,i){r.push(t);n.set(e,n.size)});return r}function I(e,t,n,r,i){var a=x(e);var s=[];for(var c=0;c<t.length;c++){var l=t[c];var p=[];u.queryBoundTextNodeIndices(l,r,function(e,t,n){p.push(t);i.set(e,i.size)});s.push(O(a.get(l),p,o.SetWrapper.has(n,l)))}return s}function x(e){var t=new Map;e.forEach(function(e){for(var n=0;n<e.boundElements.length;n++){var r=e.boundElements[n];if(i.isPresent(r)){t.set(r,e.original.elementBinders[n])}}});return t}function O(e,t,n){var r;if(i.isBlank(e)){r=new s.DomElementBinder({textNodeIndices:t,hasNestedProtoView:false,eventLocals:null,localEvents:[],globalEvents:[],hasNativeShadowRoot:false})}else{r=new s.DomElementBinder({textNodeIndices:t,hasNestedProtoView:false,eventLocals:e.eventLocals,localEvents:e.localEvents,globalEvents:e.globalEvents,hasNativeShadowRoot:n})}return r}function S(e,t){var n=A(t);var r=[];e.forEach(function(e){e.boundElements.forEach(function(e){var t=n.get(e);r.push(t)})});return r}function N(e,t){var n=[];e.forEach(function(e){e.boundTextNodes.forEach(function(e){var r=t.get(e);n.push(r)})});return n}function M(e,t){var n=[null];var r=[0];var i=e[0].original.elementBinders.length;for(var o=1;o<t.length;o++){r.push(i);i+=e[o].original.elementBinders.length;var a=t[o][0];var s=t[o][1];n.push(r[a]+s)}return n}function B(e){var t=o.ListWrapper.createFixedSize(e.length);o.ListWrapper.fill(t,0);for(var n=e.length-1;n>=1;n--){var r=e[n];if(i.isPresent(r)){t[r[0]]+=t[n]+1}}return t}function A(e){var t=new Map;for(var n=0;n<e.length;n++){t.set(e[n],n)}return t}},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};var a=n(4);var s=n(5);var c=n(108);var u=n(137);var l=function(){function e(e){this.maxInMemoryElementsPerTemplate=e}e.prototype.prepareForClone=function(e){var t=c.DOM.querySelectorAll(c.DOM.content(e),"*").length;if(this.maxInMemoryElementsPerTemplate>=0&&t>=this.maxInMemoryElementsPerTemplate){return c.DOM.getInnerHTML(e)}else{return e}};e.prototype.cloneContent=function(e,t){var n;if(a.isString(e)){n=c.DOM.content(c.DOM.createTemplate(e));if(t){n=c.DOM.importIntoDoc(n)}}else{n=c.DOM.content(e);if(t){n=c.DOM.importIntoDoc(n)}else{n=c.DOM.clone(n)}}return n};e=r([s.Injectable(),o(0,s.Inject(u.MAX_IN_MEMORY_ELEMENTS_PER_TEMPLATE)),i("design:paramtypes",[Object])],e);return e}();t.TemplateCloner=l},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var o=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};var s=n(5);var c=n(157);var u=n(4);var l=n(13);var p=n(108);var f=n(163);var h=n(143);var d=n(165);var v=n(166);var y=n(136);var g=n(107);var m=n(35);var _=n(57);var b=n(155);var w=n(137);var C="ng-reflect-";var E=function(e){r(t,e);function t(t,n,r,i,o){e.call(this);this._eventManager=t;this._domSharedStylesHost=n;this._animate=r;this._templateCloner=i;this._createRootHostViewScope=m.wtfCreateScope("DomRenderer#createRootHostView()");this._createViewScope=m.wtfCreateScope("DomRenderer#createView()");this._detachFragmentScope=m.wtfCreateScope("DomRenderer#detachFragment()");this._setEventDispatcherScope=m.wtfCreateScope("DomRenderer#setEventDispatcher()");this._document=o}t.prototype.createRootHostView=function(e,t,n){var r=this._createRootHostViewScope();var i=h.resolveInternalDomProtoView(e);var o=p.DOM.querySelector(this._document,n);if(u.isBlank(o)){m.wtfLeave(r);throw new l.BaseException('The selector "'+n+'" did not match any elements')}return m.wtfLeave(r,this._createView(i,o))};t.prototype.createView=function(e,t){var n=this._createViewScope();var r=h.resolveInternalDomProtoView(e);return m.wtfLeave(n,this._createView(r,null))};t.prototype.destroyView=function(e){var t=d.resolveInternalDomView(e);var n=t.proto.elementBinders;for(var r=0;r<n.length;r++){var i=n[r];if(i.hasNativeShadowRoot){this._domSharedStylesHost.removeHost(p.DOM.getShadowRoot(t.boundElements[r]))}}};t.prototype.getNativeElementSync=function(e){if(u.isBlank(e.renderBoundElementIndex)){return null}return d.resolveInternalDomView(e.renderView).boundElements[e.renderBoundElementIndex]};t.prototype.getRootNodes=function(e){return v.resolveInternalDomFragment(e)};t.prototype.attachFragmentAfterFragment=function(e,t){var n=v.resolveInternalDomFragment(e);if(n.length>0){var r=n[n.length-1];var i=v.resolveInternalDomFragment(t);R(r,i);this.animateNodesEnter(i)}};t.prototype.animateNodesEnter=function(e){for(var t=0;t<e.length;t++)this.animateNodeEnter(e[t])};t.prototype.animateNodeEnter=function(e){if(p.DOM.isElementNode(e)&&p.DOM.hasClass(e,"ng-animate")){p.DOM.addClass(e,"ng-enter");this._animate.css().addAnimationClass("ng-enter-active").start(e).onComplete(function(){p.DOM.removeClass(e,"ng-enter")})}};t.prototype.animateNodeLeave=function(e){if(p.DOM.isElementNode(e)&&p.DOM.hasClass(e,"ng-animate")){p.DOM.addClass(e,"ng-leave");this._animate.css().addAnimationClass("ng-leave-active").start(e).onComplete(function(){p.DOM.removeClass(e,"ng-leave");p.DOM.remove(e)})}else{p.DOM.remove(e)}};t.prototype.attachFragmentAfterElement=function(e,t){if(u.isBlank(e.renderBoundElementIndex)){return}var n=d.resolveInternalDomView(e.renderView);var r=n.boundElements[e.renderBoundElementIndex];var i=v.resolveInternalDomFragment(t);R(r,i);this.animateNodesEnter(i)};t.prototype.detachFragment=function(e){var t=this._detachFragmentScope();var n=v.resolveInternalDomFragment(e);for(var r=0;r<n.length;r++){this.animateNodeLeave(n[r]);
}m.wtfLeave(t)};t.prototype.hydrateView=function(e){var t=d.resolveInternalDomView(e);if(t.hydrated)throw new l.BaseException("The view is already hydrated.");t.hydrated=true;t.eventHandlerRemovers=[];var n=t.proto.elementBinders;for(var r=0;r<n.length;r++){var i=n[r];if(u.isPresent(i.globalEvents)){for(var o=0;o<i.globalEvents.length;o++){var a=i.globalEvents[o];var s=this._createGlobalEventListener(t,r,a.name,a.target,a.fullName);t.eventHandlerRemovers.push(s)}}}};t.prototype.dehydrateView=function(e){var t=d.resolveInternalDomView(e);for(var n=0;n<t.eventHandlerRemovers.length;n++){t.eventHandlerRemovers[n]()}t.eventHandlerRemovers=null;t.hydrated=false};t.prototype.setElementProperty=function(e,t,n){if(u.isBlank(e.renderBoundElementIndex)){return}var r=d.resolveInternalDomView(e.renderView);r.setElementProperty(e.renderBoundElementIndex,t,n)};t.prototype.setElementAttribute=function(e,t,n){if(u.isBlank(e.renderBoundElementIndex)){return}var r=d.resolveInternalDomView(e.renderView);r.setElementAttribute(e.renderBoundElementIndex,t,n)};t.prototype.setElementClass=function(e,t,n){if(u.isBlank(e.renderBoundElementIndex)){return}var r=d.resolveInternalDomView(e.renderView);r.setElementClass(e.renderBoundElementIndex,t,n)};t.prototype.setElementStyle=function(e,t,n){if(u.isBlank(e.renderBoundElementIndex)){return}var r=d.resolveInternalDomView(e.renderView);r.setElementStyle(e.renderBoundElementIndex,t,n)};t.prototype.invokeElementMethod=function(e,t,n){if(u.isBlank(e.renderBoundElementIndex)){return}var r=d.resolveInternalDomView(e.renderView);r.invokeElementMethod(e.renderBoundElementIndex,t,n)};t.prototype.setText=function(e,t,n){if(u.isBlank(t)){return}var r=d.resolveInternalDomView(e);p.DOM.setText(r.boundTextNodes[t],n)};t.prototype.setEventDispatcher=function(e,t){var n=this._setEventDispatcherScope();var r=d.resolveInternalDomView(e);r.eventDispatcher=t;m.wtfLeave(n)};t.prototype._createView=function(e,t){var n=g.cloneAndQueryProtoView(this._templateCloner,e,true);var r=n.boundElements;if(u.isPresent(t)){if(e.fragmentsRootNodeCount[0]!==1){throw new l.BaseException("Root proto views can only contain one element!")}p.DOM.clearNodes(t);var i=n.fragments[0][0];P(i,t);if(r.length>0&&r[0]===i){r[0]=t}n.fragments[0][0]=t}var o=new d.DomView(e,n.boundTextNodes,r);var a=e.elementBinders;for(var s=0;s<a.length;s++){var c=a[s];var f=r[s];if(c.hasNativeShadowRoot){var h=p.DOM.firstChild(f);var y=p.DOM.createShadowRoot(f);this._domSharedStylesHost.addHost(y);P(h,y);p.DOM.remove(h)}if(u.isPresent(c.eventLocals)&&u.isPresent(c.localEvents)){for(var m=0;m<c.localEvents.length;m++){this._createEventListener(o,f,s,c.localEvents[m].name,c.eventLocals)}}}return new _.RenderViewWithFragments(new d.DomViewRef(o),n.fragments.map(function(e){return new v.DomFragmentRef(e)}))};t.prototype._createEventListener=function(e,t,n,r,i){this._eventManager.addEventListener(t,r,function(t){e.dispatchEvent(n,r,t)})};t.prototype._createGlobalEventListener=function(e,t,n,r,i){return this._eventManager.addGlobalEventListener(r,n,function(n){e.dispatchEvent(t,i,n)})};t=i([s.Injectable(),a(4,s.Inject(w.DOCUMENT)),o("design:paramtypes",[f.EventManager,y.DomSharedStylesHost,c.AnimationBuilder,b.TemplateCloner,Object])],t);return t}(_.Renderer);t.DomRenderer=E;function R(e,t){if(t.length>0&&u.isPresent(p.DOM.parentElement(e))){for(var n=0;n<t.length;n++){p.DOM.insertBefore(e,t[n])}p.DOM.insertBefore(t[t.length-1],e)}}function P(e,t){var n=p.DOM.firstChild(e);while(u.isPresent(n)){var r=p.DOM.nextSibling(n);p.DOM.appendChild(t,n);n=r}}},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(5);var a=n(158);var s=n(162);var c=function(){function e(e){this.browserDetails=e}e.prototype.css=function(){return new a.CssAnimationBuilder(this.browserDetails)};e=r([o.Injectable(),i("design:paramtypes",[s.BrowserDetails])],e);return e}();t.AnimationBuilder=c},function(e,t,n){var r=n(159);var i=n(160);var o=function(){function e(e){this.browserDetails=e;this.data=new r.CssAnimationOptions}e.prototype.addAnimationClass=function(e){this.data.animationClasses.push(e);return this};e.prototype.addClass=function(e){this.data.classesToAdd.push(e);return this};e.prototype.removeClass=function(e){this.data.classesToRemove.push(e);return this};e.prototype.setDuration=function(e){this.data.duration=e;return this};e.prototype.setDelay=function(e){this.data.delay=e;return this};e.prototype.setStyles=function(e,t){return this.setFromStyles(e).setToStyles(t)};e.prototype.setFromStyles=function(e){this.data.fromStyles=e;return this};e.prototype.setToStyles=function(e){this.data.toStyles=e;return this};e.prototype.start=function(e){return new i.Animation(e,this.data,this.browserDetails)};return e}();t.CssAnimationBuilder=o},function(e,t){var n=function(){function e(){this.classesToAdd=[];this.classesToRemove=[];this.animationClasses=[]}return e}();t.CssAnimationOptions=n},function(e,t,n){var r=n(4);var i=n(161);var o=n(107);var a=n(11);var s=n(108);var c=function(){function e(e,t,n){var i=this;this.element=e;this.data=t;this.browserDetails=n;this.callbacks=[];this.eventClearFunctions=[];this.completed=false;this.startTime=r.DateWrapper.toMillis(r.DateWrapper.now());this.setup();this.wait(function(e){return i.start()})}Object.defineProperty(e.prototype,"totalTime",{get:function(){var e=this.computedDelay!=null?this.computedDelay:0;var t=this.computedDuration!=null?this.computedDuration:0;return e+t},enumerable:true,configurable:true});e.prototype.wait=function(e){this.browserDetails.raf(e,2)};e.prototype.setup=function(){if(this.data.fromStyles!=null)this.applyStyles(this.data.fromStyles);if(this.data.duration!=null)this.applyStyles({transitionDuration:this.data.duration.toString()+"ms"});if(this.data.delay!=null)this.applyStyles({transitionDelay:this.data.delay.toString()+"ms"})};e.prototype.start=function(){this.addClasses(this.data.classesToAdd);this.addClasses(this.data.animationClasses);this.removeClasses(this.data.classesToRemove);if(this.data.toStyles!=null)this.applyStyles(this.data.toStyles);var e=s.DOM.getComputedStyle(this.element);this.computedDelay=i.Math.max(this.parseDurationString(e.getPropertyValue("transition-delay")),this.parseDurationString(this.element.style.getPropertyValue("transition-delay")));this.computedDuration=i.Math.max(this.parseDurationString(e.getPropertyValue("transition-duration")),this.parseDurationString(this.element.style.getPropertyValue("transition-duration")));this.addEvents()};e.prototype.applyStyles=function(e){var t=this;a.StringMapWrapper.forEach(e,function(e,n){s.DOM.setStyle(t.element,o.camelCaseToDashCase(n),e.toString())})};e.prototype.addClasses=function(e){for(var t=0,n=e.length;t<n;t++)s.DOM.addClass(this.element,e[t])};e.prototype.removeClasses=function(e){for(var t=0,n=e.length;t<n;t++)s.DOM.removeClass(this.element,e[t])};e.prototype.addEvents=function(){var e=this;if(this.totalTime>0){this.eventClearFunctions.push(s.DOM.onAndCancel(this.element,"transitionend",function(t){return e.handleAnimationEvent(t)}))}else{this.handleAnimationCompleted()}};e.prototype.handleAnimationEvent=function(e){var t=i.Math.round(e.elapsedTime*1e3);if(!this.browserDetails.elapsedTimeIncludesDelay)t+=this.computedDelay;e.stopPropagation();if(t>=this.totalTime)this.handleAnimationCompleted()};e.prototype.handleAnimationCompleted=function(){this.removeClasses(this.data.animationClasses);this.callbacks.forEach(function(e){return e()});this.callbacks=[];this.eventClearFunctions.forEach(function(e){return e()});this.eventClearFunctions=[];this.completed=true};e.prototype.onComplete=function(e){if(this.completed){e()}else{this.callbacks.push(e)}return this};e.prototype.parseDurationString=function(e){var t=0;if(e==null||e.length<2){return t}else if(e.substring(e.length-2)=="ms"){var n=r.NumberWrapper.parseInt(this.stripLetters(e),10);if(n>t)t=n}else if(e.substring(e.length-1)=="s"){var o=r.NumberWrapper.parseFloat(this.stripLetters(e))*1e3;var n=i.Math.floor(o);if(n>t)t=n}return t};e.prototype.stripLetters=function(e){return r.StringWrapper.replaceAll(e,r.RegExpWrapper.create("[^0-9]+$",""),"")};return e}();t.Animation=c},function(e,t,n){var r=n(4);t.Math=r.global.Math;t.NaN=typeof t.NaN},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(5);var a=n(161);var s=n(108);var c=function(){function e(){this.elapsedTimeIncludesDelay=false;this.doesElapsedTimeIncludesDelay()}e.prototype.doesElapsedTimeIncludesDelay=function(){var e=this;var t=s.DOM.createElement("div");s.DOM.setAttribute(t,"style","position: absolute; top: -9999px; left: -9999px; width: 1px;\n      height: 1px; transition: all 1ms linear 1ms;");this.raf(function(n){s.DOM.on(t,"transitionend",function(n){var r=a.Math.round(n.elapsedTime*1e3);e.elapsedTimeIncludesDelay=r==2;s.DOM.remove(t)});s.DOM.setStyle(t,"width","2px")},2)};e.prototype.raf=function(e,t){if(t===void 0){t=1}var n=new u(e,t);return function(){return n.cancel()}};e=r([o.Injectable(),i("design:paramtypes",[])],e);return e}();t.BrowserDetails=c;var u=function(){function e(e,t){this.callback=e;this.frames=t;this._raf()}e.prototype._raf=function(){var e=this;this.currentFrameId=s.DOM.requestAnimationFrame(function(t){return e._nextFrame(t)})};e.prototype._nextFrame=function(e){this.frames--;if(this.frames>0){this._raf()}else{this.callback(e)}};e.prototype.cancel=function(){s.DOM.cancelAnimationFrame(this.currentFrameId);this.currentFrameId=null};return e}()},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var o=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};var s=n(4);var c=n(13);var u=n(11);var l=n(108);var p=n(164);var f=n(5);t.EVENT_MANAGER_PLUGINS=s.CONST_EXPR(new f.OpaqueToken("EventManagerPlugins"));var h=function(){function e(e,t){var n=this;this._zone=t;e.forEach(function(e){return e.manager=n});this._plugins=u.ListWrapper.reversed(e)}e.prototype.addEventListener=function(e,t,n){var r=this._findPluginFor(t);r.addEventListener(e,t,n)};e.prototype.addGlobalEventListener=function(e,t,n){var r=this._findPluginFor(t);return r.addGlobalEventListener(e,t,n)};e.prototype.getZone=function(){return this._zone};e.prototype._findPluginFor=function(e){var t=this._plugins;for(var n=0;n<t.length;n++){var r=t[n];if(r.supports(e)){return r}}throw new c.BaseException("No event manager plugin found for event "+e)};e=i([f.Injectable(),a(0,f.Inject(t.EVENT_MANAGER_PLUGINS)),o("design:paramtypes",[Array,p.NgZone])],e);return e}();t.EventManager=h;var d=function(){function e(){}e.prototype.supports=function(e){return false};e.prototype.addEventListener=function(e,t,n){throw"not implemented"};e.prototype.addGlobalEventListener=function(e,t,n){throw"not implemented"};return e}();t.EventManagerPlugin=d;var v=function(e){r(t,e);function t(){e.apply(this,arguments)}t.prototype.supports=function(e){return true};t.prototype.addEventListener=function(e,t,n){var r=this.manager.getZone();var i=function(e){return r.run(function(){return n(e)})};this.manager.getZone().runOutsideAngular(function(){l.DOM.on(e,t,i)})};t.prototype.addGlobalEventListener=function(e,t,n){var r=l.DOM.getGlobalEventTarget(e);var i=this.manager.getZone();var o=function(e){return i.run(function(){return n(e)})};return this.manager.getZone().runOutsideAngular(function(){return l.DOM.onAndCancel(r,t,o)})};t=i([f.Injectable(),o("design:paramtypes",[])],t);return t}(d);t.DomEventsPlugin=v},function(e,t,n){var r=n(11);var i=n(4);var o=n(35);var a=function(){function e(e){var t=e.enableLongStackTrace;this._runScope=o.wtfCreateScope("NgZone#run()");this._microtaskScope=o.wtfCreateScope("NgZone#microtask()");this._inVmTurnDone=false;this._pendingTimeouts=[];this._onTurnStart=null;this._onTurnDone=null;this._onEventDone=null;this._onErrorHandler=null;this._pendingMicrotasks=0;this._hasExecutedCodeInInnerZone=false;this._nestedRun=0;if(i.global.zone){this._disabled=false;this._mountZone=i.global.zone;this._innerZone=this._createInnerZone(this._mountZone,t)}else{this._disabled=true;this._mountZone=null}}e.prototype.overrideOnTurnStart=function(e){this._onTurnStart=i.normalizeBlank(e)};e.prototype.overrideOnTurnDone=function(e){this._onTurnDone=i.normalizeBlank(e)};e.prototype.overrideOnEventDone=function(e,t){var n=this;if(t===void 0){t=false}var r=i.normalizeBlank(e);if(t){this._onEventDone=function(){if(!n._pendingTimeouts.length){r()}}}else{this._onEventDone=r}};e.prototype.overrideOnErrorHandler=function(e){this._onErrorHandler=i.normalizeBlank(e)};e.prototype.run=function(e){if(this._disabled){return e()}else{var t=this._runScope();try{return this._innerZone.run(e)}finally{o.wtfLeave(t)}}};e.prototype.runOutsideAngular=function(e){if(this._disabled){return e()}else{return this._mountZone.run(e)}};e.prototype._createInnerZone=function(e,t){var n=this._microtaskScope;var a=this;var s;if(t){s=r.StringMapWrapper.merge(Zone.longStackTraceZone,{onError:function(e){a._onError(this,e)}})}else{s={onError:function(e){a._onError(this,e)}}}return e.fork(s).fork({$run:function(e){return function(){try{a._nestedRun++;if(!a._hasExecutedCodeInInnerZone){a._hasExecutedCodeInInnerZone=true;if(a._onTurnStart){e.call(a._innerZone,a._onTurnStart)}}return e.apply(this,arguments)}finally{a._nestedRun--;if(a._pendingMicrotasks==0&&a._nestedRun==0&&!this._inVmTurnDone){if(a._onTurnDone&&a._hasExecutedCodeInInnerZone){try{this._inVmTurnDone=true;e.call(a._innerZone,a._onTurnDone)}finally{this._inVmTurnDone=false;a._hasExecutedCodeInInnerZone=false}}if(a._pendingMicrotasks===0&&i.isPresent(a._onEventDone)){a.runOutsideAngular(a._onEventDone)}}}}},$scheduleMicrotask:function(e){return function(t){a._pendingMicrotasks++;var r=function(){var e=n();try{t()}finally{a._pendingMicrotasks--;o.wtfLeave(e)}};e.call(this,r)}},$setTimeout:function(e){return function(t,n){var i=[];for(var o=2;o<arguments.length;o++){i[o-2]=arguments[o]}var s;var c=function(){t();r.ListWrapper.remove(a._pendingTimeouts,s)};s=e(c,n,i);a._pendingTimeouts.push(s);return s}},$clearTimeout:function(e){return function(t){e(t);r.ListWrapper.remove(a._pendingTimeouts,t)}},_innerZone:true})};e.prototype._onError=function(e,t){if(i.isPresent(this._onErrorHandler)){var n=[i.normalizeBlank(t.stack)];while(e&&e.constructedAtException){n.push(e.constructedAtException.get());e=e.parent}this._onErrorHandler(t,n)}else{console.log("## _onError ##");console.log(t.stack);throw t}};return e}();t.NgZone=a},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=n(108);var o=n(11);var a=n(4);var s=n(57);var c=n(107);function u(e){return e._view}t.resolveInternalDomView=u;var l=function(e){r(t,e);function t(t){e.call(this);this._view=t}return t}(s.RenderViewRef);t.DomViewRef=l;var p=function(){function e(e,t,n){this.proto=e;this.boundTextNodes=t;this.boundElements=n;this.hydrated=false;this.eventDispatcher=null;this.eventHandlerRemovers=[]}e.prototype.setElementProperty=function(e,t,n){i.DOM.setProperty(this.boundElements[e],t,n)};e.prototype.setElementAttribute=function(e,t,n){var r=this.boundElements[e];var o=c.camelCaseToDashCase(t);if(a.isPresent(n)){i.DOM.setAttribute(r,o,a.stringify(n))}else{i.DOM.removeAttribute(r,o)}};e.prototype.setElementClass=function(e,t,n){var r=this.boundElements[e];if(n){i.DOM.addClass(r,t)}else{i.DOM.removeClass(r,t)}};e.prototype.setElementStyle=function(e,t,n){var r=this.boundElements[e];var o=c.camelCaseToDashCase(t);if(a.isPresent(n)){i.DOM.setStyle(r,o,a.stringify(n))}else{i.DOM.removeStyle(r,o)}};e.prototype.invokeElementMethod=function(e,t,n){var r=this.boundElements[e];i.DOM.invoke(r,t,n)};e.prototype.setText=function(e,t){i.DOM.setText(this.boundTextNodes[e],t)};e.prototype.dispatchEvent=function(e,t,n){var r=true;if(a.isPresent(this.eventDispatcher)){var s=new o.Map;s.set("$event",n);r=this.eventDispatcher.dispatchRenderEvent(e,t,s);if(!r){i.DOM.preventDefault(n)}}return r};return e}();t.DomView=p},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=n(57);function o(e){return e._nodes}t.resolveInternalDomFragment=o;var a=function(e){r(t,e);function t(t){e.call(this);this._nodes=t}return t}(i.RenderFragmentRef);t.DomFragmentRef=a},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};var a=n(2);var s=n(130);var c=n(100);var u=n(5);var l=n(92);var p=n(4);var f=n(93);var h=function(){function e(e,t,n){this._renderer=t;this._elementRef=n;this.onChange=function(e){};this.onTouched=function(){};this._cd=e;e.valueAccessor=this}e.prototype.writeValue=function(e){f.setProperty(this._renderer,this._elementRef,"checked",e)};Object.defineProperty(e.prototype,"ngClassUntouched",{get:function(){return p.isPresent(this._cd.control)?this._cd.control.untouched:false},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"ngClassTouched",{get:function(){return p.isPresent(this._cd.control)?this._cd.control.touched:false},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"ngClassPristine",{get:function(){return p.isPresent(this._cd.control)?this._cd.control.pristine:false},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"ngClassDirty",{get:function(){return p.isPresent(this._cd.control)?this._cd.control.dirty:false},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"ngClassValid",{get:function(){return p.isPresent(this._cd.control)?this._cd.control.valid:false},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"ngClassInvalid",{get:function(){return p.isPresent(this._cd.control)?!this._cd.control.valid:false},enumerable:true,configurable:true});e.prototype.registerOnChange=function(e){this.onChange=e};e.prototype.registerOnTouched=function(e){this.onTouched=e};e=r([a.Directive({selector:"input[type=checkbox][ng-control],input[type=checkbox][ng-form-control],input[type=checkbox][ng-model]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()","[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid"}}),o(0,u.Self()),i("design:paramtypes",[l.NgControl,s.Renderer,c.ElementRef])],e);return e}();t.CheckboxControlValueAccessor=h},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};var a=n(5);var s=n(130);var c=n(100);var u=n(2);var l=n(92);var p=n(4);var f=n(93);var h=function(){function e(){}e=r([u.Directive({selector:"option"}),i("design:paramtypes",[])],e);return e}();t.NgSelectOption=h;var d=function(){function e(e,t,n,r){this._renderer=t;this._elementRef=n;this.onChange=function(e){};this.onTouched=function(){};this._cd=e;e.valueAccessor=this;this._updateValueWhenListOfOptionsChanges(r)}e.prototype.writeValue=function(e){this.value=e;f.setProperty(this._renderer,this._elementRef,"value",e)};Object.defineProperty(e.prototype,"ngClassUntouched",{get:function(){return p.isPresent(this._cd.control)?this._cd.control.untouched:false},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"ngClassTouched",{get:function(){return p.isPresent(this._cd.control)?this._cd.control.touched:false},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"ngClassPristine",{get:function(){return p.isPresent(this._cd.control)?this._cd.control.pristine:false},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"ngClassDirty",{get:function(){return p.isPresent(this._cd.control)?this._cd.control.dirty:false},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"ngClassValid",{get:function(){return p.isPresent(this._cd.control)?this._cd.control.valid:false},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"ngClassInvalid",{get:function(){return p.isPresent(this._cd.control)?!this._cd.control.valid:false},enumerable:true,configurable:true});e.prototype.registerOnChange=function(e){this.onChange=e};e.prototype.registerOnTouched=function(e){this.onTouched=e};e.prototype._updateValueWhenListOfOptionsChanges=function(e){var t=this;e.onChange(function(){return t.writeValue(t.value)})};e=r([u.Directive({selector:"select[ng-control],select[ng-form-control],select[ng-model]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()","[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid"}}),o(0,a.Self()),o(3,u.Query(h,{descendants:true})),i("design:paramtypes",[l.NgControl,s.Renderer,c.ElementRef,c.QueryList])],e);return e}();t.SelectControlValueAccessor=d},function(e,t,n){var r=n(4);var i=n(91);var o=n(94);var a=n(95);var s=n(96);var c=n(97);var u=n(98);var l=n(99);var p=n(167);var f=n(168);var h=n(170);var d=n(91);t.NgControlName=d.NgControlName;var v=n(94);t.NgFormControl=v.NgFormControl;var y=n(95);t.NgModel=y.NgModel;var g=n(92);t.NgControl=g.NgControl;var m=n(96);t.NgControlGroup=m.NgControlGroup;var _=n(97);t.NgFormModel=_.NgFormModel;var b=n(98);t.NgForm=b.NgForm;var w=n(99);t.DefaultValueAccessor=w.DefaultValueAccessor;var C=n(167);t.CheckboxControlValueAccessor=C.CheckboxControlValueAccessor;var E=n(168);t.SelectControlValueAccessor=E.SelectControlValueAccessor;t.NgSelectOption=E.NgSelectOption;var R=n(170);t.DefaultValidators=R.DefaultValidators;t.FORM_DIRECTIVES=r.CONST_EXPR([i.NgControlName,s.NgControlGroup,o.NgFormControl,a.NgModel,c.NgFormModel,u.NgForm,f.NgSelectOption,l.DefaultValueAccessor,p.CheckboxControlValueAccessor,f.SelectControlValueAccessor,h.DefaultValidators])},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(5);var a=n(4);var s=n(2);var c=n(88);var u=a.CONST_EXPR(new o.Binding(c.NG_VALIDATORS,{toValue:c.Validators.required,multi:true}));var l=function(){function e(){}e=r([s.Directive({selector:"[required][ng-control],[required][ng-form-control],[required][ng-model]",bindings:[u]}),i("design:paramtypes",[])],e);return e}();t.DefaultValidators=l},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(5);var a=n(11);var s=n(4);var c=n(87);var u=function(){function e(){}e.prototype.group=function(e,t){if(t===void 0){t=null}var n=this._reduceControls(e);var r=s.isPresent(t)?a.StringMapWrapper.get(t,"optionals"):null;var i=s.isPresent(t)?a.StringMapWrapper.get(t,"validator"):null;if(s.isPresent(i)){return new c.ControlGroup(n,r,i)}else{return new c.ControlGroup(n,r)}};e.prototype.control=function(e,t){if(t===void 0){t=null}if(s.isPresent(t)){return new c.Control(e,t)}else{return new c.Control(e)}};e.prototype.array=function(e,t){var n=this;if(t===void 0){t=null}var r=a.ListWrapper.map(e,function(e){return n._createControl(e)});if(s.isPresent(t)){return new c.ControlArray(r,t)}else{return new c.ControlArray(r)}};e.prototype._reduceControls=function(e){var t=this;var n={};a.StringMapWrapper.forEach(e,function(e,r){n[r]=t._createControl(e)});return n};e.prototype._createControl=function(e){if(e instanceof c.Control||e instanceof c.ControlGroup||e instanceof c.ControlArray){return e}else if(s.isArray(e)){var t=e[0];var n=e.length>1?e[1]:null;return this.control(t,n)}else{return this.control(e)}};e=r([o.Injectable(),i("design:paramtypes",[])],e);return e}();t.FormBuilder=u},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=n(11);var o=n(4);var a=n(108);var s=n(173);var c={"class":"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"};var u=3;var l={"\b":"Backspace","	":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"};var p={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"};var f=function(e){r(t,e);function t(){e.apply(this,arguments)}t.makeCurrent=function(){a.setRootDomAdapter(new t)};t.prototype.hasProperty=function(e,t){return t in e};t.prototype.setProperty=function(e,t,n){e[t]=n};t.prototype.getProperty=function(e,t){return e[t]};t.prototype.invoke=function(e,t,n){e[t].apply(e,n)};t.prototype.logError=function(e){if(window.console.error){window.console.error(e)}else{window.console.log(e)}};t.prototype.log=function(e){window.console.log(e)};t.prototype.logGroup=function(e){if(window.console.group){window.console.group(e);this.logError(e)}else{window.console.log(e)}};t.prototype.logGroupEnd=function(){if(window.console.groupEnd){window.console.groupEnd()}};Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return c},enumerable:true,configurable:true});t.prototype.query=function(e){return document.querySelector(e)};t.prototype.querySelector=function(e,t){return e.querySelector(t)};t.prototype.querySelectorAll=function(e,t){return e.querySelectorAll(t)};t.prototype.on=function(e,t,n){e.addEventListener(t,n,false)};t.prototype.onAndCancel=function(e,t,n){e.addEventListener(t,n,false);return function(){e.removeEventListener(t,n,false)}};t.prototype.dispatchEvent=function(e,t){e.dispatchEvent(t)};t.prototype.createMouseEvent=function(e){var t=document.createEvent("MouseEvent");t.initEvent(e,true,true);return t};t.prototype.createEvent=function(e){var t=document.createEvent("Event");t.initEvent(e,true,true);return t};t.prototype.preventDefault=function(e){e.preventDefault();e.returnValue=false};t.prototype.isPrevented=function(e){return e.defaultPrevented||o.isPresent(e.returnValue)&&!e.returnValue};t.prototype.getInnerHTML=function(e){return e.innerHTML};t.prototype.getOuterHTML=function(e){return e.outerHTML};t.prototype.nodeName=function(e){return e.nodeName};t.prototype.nodeValue=function(e){return e.nodeValue};t.prototype.type=function(e){return e.type};t.prototype.content=function(e){if(this.hasProperty(e,"content")){return e.content}else{return e}};t.prototype.firstChild=function(e){return e.firstChild};t.prototype.nextSibling=function(e){return e.nextSibling};t.prototype.parentElement=function(e){return e.parentNode};t.prototype.childNodes=function(e){return e.childNodes};t.prototype.childNodesAsList=function(e){var t=e.childNodes;var n=i.ListWrapper.createFixedSize(t.length);for(var r=0;r<t.length;r++){n[r]=t[r]}return n};t.prototype.clearNodes=function(e){while(e.firstChild){e.removeChild(e.firstChild)}};t.prototype.appendChild=function(e,t){e.appendChild(t)};t.prototype.removeChild=function(e,t){e.removeChild(t)};t.prototype.replaceChild=function(e,t,n){e.replaceChild(t,n)};t.prototype.remove=function(e){e.parentNode.removeChild(e);return e};t.prototype.insertBefore=function(e,t){e.parentNode.insertBefore(t,e)};t.prototype.insertAllBefore=function(e,t){i.ListWrapper.forEach(t,function(t){e.parentNode.insertBefore(t,e)})};t.prototype.insertAfter=function(e,t){e.parentNode.insertBefore(t,e.nextSibling)};t.prototype.setInnerHTML=function(e,t){e.innerHTML=t};t.prototype.getText=function(e){return e.textContent};t.prototype.setText=function(e,t){e.textContent=t};t.prototype.getValue=function(e){return e.value};t.prototype.setValue=function(e,t){e.value=t};t.prototype.getChecked=function(e){return e.checked};t.prototype.setChecked=function(e,t){e.checked=t};t.prototype.createComment=function(e){return document.createComment(e)};t.prototype.createTemplate=function(e){var t=document.createElement("template");t.innerHTML=e;return t};t.prototype.createElement=function(e,t){if(t===void 0){t=document}return t.createElement(e)};t.prototype.createTextNode=function(e,t){if(t===void 0){t=document}return t.createTextNode(e)};t.prototype.createScriptTag=function(e,t,n){if(n===void 0){n=document}var r=n.createElement("SCRIPT");r.setAttribute(e,t);return r};t.prototype.createStyleElement=function(e,t){if(t===void 0){t=document}var n=t.createElement("style");this.appendChild(n,this.createTextNode(e));return n};t.prototype.createShadowRoot=function(e){return e.createShadowRoot()};t.prototype.getShadowRoot=function(e){return e.shadowRoot};t.prototype.getHost=function(e){return e.host;
};t.prototype.clone=function(e){return e.cloneNode(true)};t.prototype.getElementsByClassName=function(e,t){return e.getElementsByClassName(t)};t.prototype.getElementsByTagName=function(e,t){return e.getElementsByTagName(t)};t.prototype.classList=function(e){return Array.prototype.slice.call(e.classList,0)};t.prototype.addClass=function(e,t){e.classList.add(t)};t.prototype.removeClass=function(e,t){e.classList.remove(t)};t.prototype.hasClass=function(e,t){return e.classList.contains(t)};t.prototype.setStyle=function(e,t,n){e.style[t]=n};t.prototype.removeStyle=function(e,t){e.style[t]=null};t.prototype.getStyle=function(e,t){return e.style[t]};t.prototype.tagName=function(e){return e.tagName};t.prototype.attributeMap=function(e){var t=new Map;var n=e.attributes;for(var r=0;r<n.length;r++){var i=n[r];t.set(i.name,i.value)}return t};t.prototype.hasAttribute=function(e,t){return e.hasAttribute(t)};t.prototype.getAttribute=function(e,t){return e.getAttribute(t)};t.prototype.setAttribute=function(e,t,n){e.setAttribute(t,n)};t.prototype.removeAttribute=function(e,t){e.removeAttribute(t)};t.prototype.templateAwareRoot=function(e){return this.isTemplateElement(e)?this.content(e):e};t.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")};t.prototype.defaultDoc=function(){return document};t.prototype.getBoundingClientRect=function(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}};t.prototype.getTitle=function(){return document.title};t.prototype.setTitle=function(e){document.title=e||""};t.prototype.elementMatches=function(e,t){var n=false;if(e instanceof HTMLElement){if(e.matches){n=e.matches(t)}else if(e.msMatchesSelector){n=e.msMatchesSelector(t)}else if(e.webkitMatchesSelector){n=e.webkitMatchesSelector(t)}}return n};t.prototype.isTemplateElement=function(e){return e instanceof HTMLElement&&e.nodeName=="TEMPLATE"};t.prototype.isTextNode=function(e){return e.nodeType===Node.TEXT_NODE};t.prototype.isCommentNode=function(e){return e.nodeType===Node.COMMENT_NODE};t.prototype.isElementNode=function(e){return e.nodeType===Node.ELEMENT_NODE};t.prototype.hasShadowRoot=function(e){return e instanceof HTMLElement&&o.isPresent(e.shadowRoot)};t.prototype.isShadowRoot=function(e){return e instanceof DocumentFragment};t.prototype.importIntoDoc=function(e){var t=e;if(this.isTemplateElement(e)){t=this.content(e)}return document.importNode(t,true)};t.prototype.adoptNode=function(e){return document.adoptNode(e)};t.prototype.isPageRule=function(e){return e.type===CSSRule.PAGE_RULE};t.prototype.isStyleRule=function(e){return e.type===CSSRule.STYLE_RULE};t.prototype.isMediaRule=function(e){return e.type===CSSRule.MEDIA_RULE};t.prototype.isKeyframesRule=function(e){return e.type===CSSRule.KEYFRAMES_RULE};t.prototype.getHref=function(e){return e.href};t.prototype.getEventKey=function(e){var t=e.key;if(o.isBlank(t)){t=e.keyIdentifier;if(o.isBlank(t)){return"Unidentified"}if(t.startsWith("U+")){t=String.fromCharCode(parseInt(t.substring(2),16));if(e.location===u&&p.hasOwnProperty(t)){t=p[t]}}}if(l.hasOwnProperty(t)){t=l[t]}return t};t.prototype.getGlobalEventTarget=function(e){if(e=="window"){return window}else if(e=="document"){return document}else if(e=="body"){return document.body}};t.prototype.getHistory=function(){return window.history};t.prototype.getLocation=function(){return window.location};t.prototype.getBaseHref=function(){var e=d();if(o.isBlank(e)){return null}return y(e)};t.prototype.resetBaseElement=function(){h=null};t.prototype.getUserAgent=function(){return window.navigator.userAgent};t.prototype.setData=function(e,t,n){this.setAttribute(e,"data-"+t,n)};t.prototype.getData=function(e,t){return this.getAttribute(e,"data-"+t)};t.prototype.getComputedStyle=function(e){return getComputedStyle(e)};t.prototype.setGlobalVar=function(e,t){o.setValueOnPath(o.global,e,t)};t.prototype.requestAnimationFrame=function(e){return window.requestAnimationFrame(e)};t.prototype.cancelAnimationFrame=function(e){window.cancelAnimationFrame(e)};t.prototype.performanceNow=function(){if(o.isPresent(window.performance)&&o.isPresent(window.performance.now)){return window.performance.now()}else{return o.DateWrapper.toMillis(o.DateWrapper.now())}};return t}(s.GenericBrowserDomAdapter);t.BrowserDomAdapter=f;var h=null;function d(){if(o.isBlank(h)){h=document.querySelector("base");if(o.isBlank(h)){return null}}return h.getAttribute("href")}var v=null;function y(e){if(o.isBlank(v)){v=document.createElement("a")}v.setAttribute("href",e);return v.pathname.charAt(0)==="/"?v.pathname:"/"+v.pathname}},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=n(11);var o=n(4);var a=n(108);var s=function(e){r(t,e);function t(){e.apply(this,arguments)}t.prototype.getDistributedNodes=function(e){return e.getDistributedNodes()};t.prototype.resolveAndSetHref=function(e,t,n){e.href=n==null?t:t+"/../"+n};t.prototype.cssToRules=function(e){var t=this.createStyleElement(e);this.appendChild(this.defaultDoc().head,t);var n=[];if(o.isPresent(t.sheet)){try{var r=t.sheet.cssRules;n=i.ListWrapper.createFixedSize(r.length);for(var a=0;a<r.length;a++){n[a]=r[a]}}catch(s){}}else{}this.remove(t);return n};t.prototype.supportsDOMEvents=function(){return true};t.prototype.supportsNativeShadowDOM=function(){return o.isFunction(this.defaultDoc().body.createShadowRoot)};return t}(a.DomAdapter);t.GenericBrowserDomAdapter=s},function(e,t,n){var r=n(175);var i=n(4);var o=function(){function e(e){this._testability=e}e.prototype.whenStable=function(e){this._testability.whenStable(e)};e.prototype.findBindings=function(e,t,n){return this._testability.findBindings(e,t,n)};return e}();var a=function(){function e(){}e.init=function(){r.setTestabilityGetter(new e)};e.prototype.addToWindow=function(e){i.global.getAngularTestability=function(t,n){if(n===void 0){n=true}var r=e.findTestabilityInTree(t,n);if(r==null){throw new Error("Could not find testability for element.")}return new o(r)};i.global.getAllAngularTestabilities=function(){var t=e.getAllTestabilities();return t.map(function(e){return new o(e)})}};return e}();t.BrowserGetTestability=a},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(5);var a=n(108);var s=n(11);var c=n(4);var u=n(13);var l=n(164);var p=n(61);var f=function(){function e(e){this._ngZone=e;this._pendingCount=0;this._callbacks=[];this._isAngularEventPending=false;this._watchAngularEvents(e)}e.prototype._watchAngularEvents=function(e){var t=this;e.overrideOnTurnStart(function(){t._isAngularEventPending=true});e.overrideOnEventDone(function(){t._isAngularEventPending=false;t._runCallbacksIfReady()},true)};e.prototype.increasePendingRequestCount=function(){this._pendingCount+=1;return this._pendingCount};e.prototype.decreasePendingRequestCount=function(){this._pendingCount-=1;if(this._pendingCount<0){throw new u.BaseException("pending async requests below zero")}this._runCallbacksIfReady();return this._pendingCount};e.prototype._runCallbacksIfReady=function(){var e=this;if(this._pendingCount!=0||this._isAngularEventPending){return}p.PromiseWrapper.resolve(null).then(function(t){while(e._callbacks.length!==0){e._callbacks.pop()()}})};e.prototype.whenStable=function(e){this._callbacks.push(e);this._runCallbacksIfReady()};e.prototype.getPendingRequestCount=function(){return this._pendingCount};e.prototype.isAngularEventPending=function(){return this._isAngularEventPending};e.prototype.findBindings=function(e,t,n){return[]};e=r([o.Injectable(),i("design:paramtypes",[l.NgZone])],e);return e}();t.Testability=f;var h=function(){function e(){this._applications=new s.Map;y.addToWindow(this)}e.prototype.registerApplication=function(e,t){this._applications.set(e,t)};e.prototype.getAllTestabilities=function(){return s.MapWrapper.values(this._applications)};e.prototype.findTestabilityInTree=function(e,t){if(t===void 0){t=true}if(e==null){return null}if(this._applications.has(e)){return this._applications.get(e)}else if(!t){return null}if(a.DOM.isShadowRoot(e)){return this.findTestabilityInTree(a.DOM.getHost(e))}return this.findTestabilityInTree(a.DOM.parentElement(e))};e=r([o.Injectable(),i("design:paramtypes",[])],e);return e}();t.TestabilityRegistry=h;var d=function(){function e(){}e.prototype.addToWindow=function(e){};e=r([c.CONST(),i("design:paramtypes",[])],e);return e}();function v(e){y=e}t.setTestabilityGetter=v;var y=c.CONST_EXPR(new d)},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var o=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var a=n(5);var s=n(61);var c=n(4);var u=n(133);var l=function(e){r(t,e);function t(){e.apply(this,arguments)}t.prototype.get=function(e){var t=s.PromiseWrapper.completer();var n=new XMLHttpRequest;n.open("GET",e,true);n.responseType="text";n.onload=function(){var r=c.isPresent(n.response)?n.response:n.responseText;var i=n.status===1223?204:n.status;if(i===0){i=r?200:0}if(200<=i&&i<=300){t.resolve(r)}else{t.reject("Failed to load "+e,null)}};n.onerror=function(){t.reject("Failed to load "+e,null)};n.send();return t.promise};t=i([a.Injectable(),o("design:paramtypes",[])],t);return t}(u.XHR);t.XHRImpl=l},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var o=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var a=n(108);var s=n(4);var c=n(11);var u=n(163);var l=n(5);var p=["alt","control","meta","shift"];var f={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}};var h=function(e){r(t,e);function t(){e.call(this)}t.prototype.supports=function(e){return s.isPresent(t.parseEventName(e))};t.prototype.addEventListener=function(e,n,r){var i=t.parseEventName(n);var o=t.eventCallback(e,c.StringMapWrapper.get(i,"fullKey"),r,this.manager.getZone());this.manager.getZone().runOutsideAngular(function(){a.DOM.on(e,c.StringMapWrapper.get(i,"domEventName"),o)})};t.parseEventName=function(e){var n=e.toLowerCase().split(".");var r=c.ListWrapper.removeAt(n,0);if(n.length===0||!(s.StringWrapper.equals(r,"keydown")||s.StringWrapper.equals(r,"keyup"))){return null}var i=t._normalizeKey(c.ListWrapper.removeLast(n));var o="";c.ListWrapper.forEach(p,function(e){if(c.ListWrapper.contains(n,e)){c.ListWrapper.remove(n,e);o+=e+"."}});o+=i;if(n.length!=0||i.length===0){return null}var a=c.StringMapWrapper.create();c.StringMapWrapper.set(a,"domEventName",r);c.StringMapWrapper.set(a,"fullKey",o);return a};t.getEventFullKey=function(e){var t="";var n=a.DOM.getEventKey(e);n=n.toLowerCase();if(s.StringWrapper.equals(n," ")){n="space"}else if(s.StringWrapper.equals(n,".")){n="dot"}c.ListWrapper.forEach(p,function(r){if(r!=n){var i=c.StringMapWrapper.get(f,r);if(i(e)){t+=r+"."}}});t+=n;return t};t.eventCallback=function(e,n,r,i){return function(e){if(s.StringWrapper.equals(t.getEventFullKey(e),n)){i.run(function(){return r(e)})}}};t._normalizeKey=function(e){switch(e){case"esc":return"escape";default:return e}};t=i([l.Injectable(),o("design:paramtypes",[])],t);return t}(u.EventManagerPlugin);t.KeyEventsPlugin=h},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var o=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var a=n(179);var s=n(4);var c=n(13);var u=n(5);var l=function(e){r(t,e);function t(){e.apply(this,arguments)}t.prototype.supports=function(t){if(!e.prototype.supports.call(this,t))return false;if(!s.isPresent(window["Hammer"])){throw new c.BaseException("Hammer.js is not loaded, can not bind "+t+" event")}return true};t.prototype.addEventListener=function(e,t,n){var r=this.manager.getZone();t=t.toLowerCase();r.runOutsideAngular(function(){var i=new Hammer(e);i.get("pinch").set({enable:true});i.get("rotate").set({enable:true});i.on(t,function(e){r.run(function(){n(e)})})})};t=i([u.Injectable(),o("design:paramtypes",[])],t);return t}(a.HammerGesturesPluginCommon);t.HammerGesturesPlugin=l},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=n(163);var o=n(11);var a={pan:true,panstart:true,panmove:true,panend:true,pancancel:true,panleft:true,panright:true,panup:true,pandown:true,pinch:true,pinchstart:true,pinchmove:true,pinchend:true,pinchcancel:true,pinchin:true,pinchout:true,press:true,pressup:true,rotate:true,rotatestart:true,rotatemove:true,rotateend:true,rotatecancel:true,swipe:true,swipeleft:true,swiperight:true,swipeup:true,swipedown:true,tap:true};var s=function(e){r(t,e);function t(){e.call(this)}t.prototype.supports=function(e){e=e.toLowerCase();return o.StringMapWrapper.contains(a,e)};return t}(i.EventManagerPlugin);t.HammerGesturesPluginCommon=s},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var o=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var a=n(128);var s=n(108);var c=n(5);var u=function(e){r(t,e);function t(){e.call(this,"");var t;var n=s.DOM.createElement("a");s.DOM.resolveAndSetHref(n,"./",null);t=s.DOM.getHref(n);this.value=t}t=i([c.Injectable(),o("design:paramtypes",[])],t);return t}(a.AppRootUrl);t.AnchorBasedAppRootUrl=u},function(e,t,n){var r=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r};var i=n(4);var o=n(11);var a=n(108);var s=n(153);var c=function(e){r(t,e);function t(){e.apply(this,arguments);this._protoElements=new Map}t.prototype._getProtoElement=function(e){var t=this._protoElements.get(e);if(i.isBlank(t)){t=a.DOM.createElement(e);this._protoElements.set(e,t)}return t};t.prototype.hasProperty=function(e,t){if(e.indexOf("-")!==-1){return true}else{var n=this._getProtoElement(e);return a.DOM.hasProperty(n,t)}};t.prototype.getMappedPropName=function(e){var t=o.StringMapWrapper.get(a.DOM.attrToPropMap,e);return i.isPresent(t)?t:e};return t}(s.ElementSchemaRegistry);t.DomElementSchemaRegistry=c},function(e,t,n){var r=n(5);var i=n(13);var o=n(108);t.EXCEPTION_BINDING=r.bind(i.ExceptionHandler).toFactory(function(){return new i.ExceptionHandler(o.DOM,false)},[])},function(e,t){function n(){}t.wtfInit=n},function(e,t,n){var r=n(164);var i=n(4);var o=n(5);var a=n(84);var s=n(61);var c=n(11);var u=n(15);var l=n(175);var p=n(129);var f=n(13);var h=n(108);var d=n(106);var v=n(185);var y=n(126);var g=n(24);var m=n(116);var _=n(110);var b=n(111);var w=n(117);var C=n(103);var E=n(59);var R=n(124);var P=n(102);var D=n(125);var I=n(135);var x=n(127);var O=n(101);function S(){return[o.bind(u.Reflector).toValue(u.reflector),l.TestabilityRegistry]}t.platformBindings=S;function N(e){return[o.bind(a.APP_COMPONENT).toValue(e),o.bind(a.APP_COMPONENT_REF_PROMISE).toFactory(function(t,n){return t.loadAsRoot(e,null,n).then(function(e){if(i.isPresent(e.location.nativeElement)){n.get(l.TestabilityRegistry).registerApplication(e.location.nativeElement,n.get(l.Testability))}return e})},[p.DynamicComponentLoader,o.Injector]),o.bind(e).toFactory(function(e){return e.then(function(e){return e.instance})},[a.APP_COMPONENT_REF_PROMISE])]}function M(){var e=new g.DynamicChangeDetection;if(g.PreGeneratedChangeDetection.isSupported()){e=new g.PreGeneratedChangeDetection}else if(g.JitChangeDetection.isSupported()){e=new g.JitChangeDetection}return[y.ProtoViewFactory,m.AppViewPool,o.bind(m.APP_VIEW_POOL_CAPACITY).toValue(1e4),_.AppViewManager,b.AppViewManagerUtils,w.AppViewListener,C.Compiler,C.CompilerCache,R.ViewResolver,E.DEFAULT_PIPES,o.bind(g.IterableDiffers).toValue(g.defaultIterableDiffers),o.bind(g.KeyValueDiffers).toValue(g.defaultKeyValueDiffers),o.bind(g.ChangeDetection).toValue(e),P.DirectiveResolver,x.UrlResolver,I.StyleUrlResolver,D.PipeResolver,O.ComponentUrlMapper,g.Parser,g.Lexer,p.DynamicComponentLoader,o.bind(v.LifeCycle).toFactory(function(e){return new v.LifeCycle(null,i.assertionsEnabled())},[f.ExceptionHandler])]}t.applicationCommonBindings=M;function B(){return new r.NgZone({enableLongStackTrace:i.assertionsEnabled()})}t.createNgZone=B;var A;function V(e,t){if(i.isPresent(A)){if(i.isBlank(e)){return A}throw"platform() can only be called once per page"}if(i.isPresent(t)){t()}if(i.isBlank(e)){e=S()}A=new T(o.Injector.resolveAndCreate(e),function(){A=null});return A}t.platformCommon=V;var T=function(){function e(e,t){this._injector=e;this._dispose=t;this._applications=[]}Object.defineProperty(e.prototype,"injector",{get:function(){return this._injector},enumerable:true,configurable:true});e.prototype.application=function(e){var t=this._initApp(B(),e);return t};e.prototype.asyncApplication=function(e){var t=this;var n=B();var r=s.PromiseWrapper.completer();n.run(function(){s.PromiseWrapper.then(e(n),function(e){r.resolve(t._initApp(n,e))})});return r.promise};e.prototype._initApp=function(e,t){var n=this;var a;e.run(function(){t.push(o.bind(r.NgZone).toValue(e));t.push(o.bind(k).toValue(n));var s;try{a=n.injector.resolveAndCreateChild(t);s=a.get(f.ExceptionHandler);e.overrideOnErrorHandler(function(e,t){return s.call(e,t)})}catch(c){if(i.isPresent(s)){s.call(c,c.stack)}else{h.DOM.logError(c)}}});var s=new k(this,e,a);this._applications.push(s);return s};e.prototype.dispose=function(){this._applications.forEach(function(e){return e.dispose()});this._dispose()};e.prototype._applicationDisposed=function(e){c.ListWrapper.remove(this._applications,e)};return e}();t.PlatformRef=T;var k=function(){function e(e,t,n){this._platform=e;this._zone=t;this._injector=n;this._bootstrapListeners=[];this._rootComponents=[]}e.prototype.registerBootstrapListener=function(e){this._bootstrapListeners.push(e)};e.prototype.bootstrap=function(e,t){var n=this;var r=s.PromiseWrapper.completer();this._zone.run(function(){var o=N(e);if(i.isPresent(t)){o.push(t)}var c=n._injector.get(f.ExceptionHandler);try{var u=n._injector.resolveAndCreateChild(o);var l=u.get(a.APP_COMPONENT_REF_PROMISE);var p=function(e){var t=d.internalView(e.hostView).changeDetector;var i=u.get(v.LifeCycle);i.registerWith(n._zone,t);i.tick();r.resolve(e);n._rootComponents.push(e);n._bootstrapListeners.forEach(function(t){return t(e)})};var h=s.PromiseWrapper.then(l,p);s.PromiseWrapper.then(h,function(e){});s.PromiseWrapper.then(h,null,function(e,t){return r.reject(e,t)})}catch(y){c.call(y,y.stack);r.reject(y,y.stack)}});return r.promise};Object.defineProperty(e.prototype,"injector",{get:function(){return this._injector},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"zone",{get:function(){return this._zone},enumerable:true,configurable:true});e.prototype.dispose=function(){this._rootComponents.forEach(function(e){return e.dispose()});this._platform._applicationDisposed(this)};return e}();t.ApplicationRef=k},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(5);var a=n(4);var s=n(13);var c=n(35);var u=function(){function e(e,t){if(e===void 0){e=null}if(t===void 0){t=false}this._runningTick=false;this._changeDetectors=[];if(a.isPresent(e)){this._changeDetectors.push(e)}this._enforceNoNewChanges=t}e.prototype.registerWith=function(e,t){var n=this;if(t===void 0){t=null}if(a.isPresent(t)){this._changeDetectors.push(t)}e.overrideOnTurnDone(function(){return n.tick()})};e.prototype.tick=function(){if(this._runningTick){throw new s.BaseException("LifeCycle.tick is called recursively")}var t=e._tickScope();try{this._runningTick=true;this._changeDetectors.forEach(function(e){return e.detectChanges()});if(this._enforceNoNewChanges){this._changeDetectors.forEach(function(e){return e.checkNoChanges()})}}finally{this._runningTick=false;c.wtfLeave(t)}};e._tickScope=c.wtfCreateScope("LifeCycle#tick()");e=r([o.Injectable(),i("design:paramtypes",[Object,Boolean])],e);return e}();t.LifeCycle=u},function(e,t,n){var r=n(85);t.bootstrap=r.commonBootstrap},function(e,t,n){var r=n(128);t.AppRootUrl=r.AppRootUrl;var i=n(127);t.UrlResolver=i.UrlResolver},function(e,t,n){var r=n(185);t.LifeCycle=r.LifeCycle},function(e,t,n){var r=n(164);t.NgZone=r.NgZone},function(e,t,n){function r(e){for(var n in e)if(!t.hasOwnProperty(n))t[n]=e[n]}var i=n(4);var o=n(191);var a=n(192);var s=n(193);var c=n(194);var u=n(195);var l=n(196);var p=n(191);t.NgClass=p.NgClass;var f=n(192);t.NgFor=f.NgFor;var h=n(193);t.NgIf=h.NgIf;var d=n(194);t.NgNonBindable=d.NgNonBindable;var v=n(195);t.NgStyle=v.NgStyle;var y=n(196);t.NgSwitch=y.NgSwitch;t.NgSwitchWhen=y.NgSwitchWhen;t.NgSwitchDefault=y.NgSwitchDefault;r(n(197));t.CORE_DIRECTIVES=i.CONST_EXPR([o.NgClass,a.NgFor,s.NgIf,c.NgNonBindable,u.NgStyle,l.NgSwitch,l.NgSwitchWhen,l.NgSwitchDefault])},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(4);var a=n(2);var s=n(100);var c=n(23);var u=n(130);var l=n(11);var p=function(){function e(e,t,n,r){this._iterableDiffers=e;this._keyValueDiffers=t;this._ngEl=n;this._renderer=r;this._initialClasses=[]}Object.defineProperty(e.prototype,"initialClasses",{set:function(e){this._applyInitialClasses(true);this._initialClasses=o.isPresent(e)&&o.isString(e)?e.split(" "):[];this._applyInitialClasses(false);this._applyClasses(this._rawClass,false)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"rawClass",{set:function(e){this._cleanupClasses(this._rawClass);if(o.isString(e)){e=e.split(" ")}this._rawClass=e;if(o.isPresent(e)){if(l.isListLikeIterable(e)){this._differ=this._iterableDiffers.find(e).create(null);this._mode="iterable"}else{this._differ=this._keyValueDiffers.find(e).create(null);this._mode="keyValue"}}else{this._differ=null}},enumerable:true,configurable:true});e.prototype.doCheck=function(){if(o.isPresent(this._differ)){var e=this._differ.diff(this._rawClass);if(o.isPresent(e)){if(this._mode=="iterable"){this._applyIterableChanges(e)}else{this._applyKeyValueChanges(e)}}}};e.prototype.onDestroy=function(){this._cleanupClasses(this._rawClass)};e.prototype._cleanupClasses=function(e){this._applyClasses(e,true);this._applyInitialClasses(false)};e.prototype._applyKeyValueChanges=function(e){var t=this;e.forEachAddedItem(function(e){t._toggleClass(e.key,e.currentValue)});e.forEachChangedItem(function(e){t._toggleClass(e.key,e.currentValue)});e.forEachRemovedItem(function(e){if(e.previousValue){t._toggleClass(e.key,false)}})};e.prototype._applyIterableChanges=function(e){var t=this;e.forEachAddedItem(function(e){t._toggleClass(e.item,true)});e.forEachRemovedItem(function(e){t._toggleClass(e.item,false)})};e.prototype._applyInitialClasses=function(e){var t=this;l.ListWrapper.forEach(this._initialClasses,function(n){t._toggleClass(n,!e)})};e.prototype._applyClasses=function(e,t){var n=this;if(o.isPresent(e)){if(l.isListLikeIterable(e)){l.ListWrapper.forEach(e,function(e){return n._toggleClass(e,!t)})}else{l.StringMapWrapper.forEach(e,function(e,r){if(e)n._toggleClass(r,!t)})}}};e.prototype._toggleClass=function(e,t){e=e.trim();if(e.length>0){this._renderer.setElementClass(this._ngEl,e,t)}};e=r([a.Directive({selector:"[ng-class]",properties:["rawClass: ng-class","initialClasses: class"]}),i("design:paramtypes",[c.IterableDiffers,c.KeyValueDiffers,s.ElementRef,u.Renderer])],e);return e}();t.NgClass=p},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(2);var a=n(23);var s=n(100);var c=n(4);var u=function(){function e(e,t,n,r){this._viewContainer=e;this._templateRef=t;this._iterableDiffers=n;this._cdr=r}Object.defineProperty(e.prototype,"ngForOf",{set:function(e){this._ngForOf=e;if(c.isBlank(this._differ)&&c.isPresent(e)){this._differ=this._iterableDiffers.find(e).create(this._cdr)}},enumerable:true,configurable:true});e.prototype.doCheck=function(){if(c.isPresent(this._differ)){var e=this._differ.diff(this._ngForOf);if(c.isPresent(e))this._applyChanges(e)}};e.prototype._applyChanges=function(e){var t=[];e.forEachRemovedItem(function(e){return t.push(new l(e,null))});e.forEachMovedItem(function(e){return t.push(new l(e,null))});var n=this._bulkRemove(t);e.forEachAddedItem(function(e){return n.push(new l(e,null))});this._bulkInsert(n);for(var r=0;r<n.length;r++){this._perViewChange(n[r].view,n[r].record)}for(var r=0,i=this._viewContainer.length;r<i;r++){this._viewContainer.get(r).setLocal("last",r===i-1)}};e.prototype._perViewChange=function(e,t){e.setLocal("$implicit",t.item);e.setLocal("index",t.currentIndex);e.setLocal("even",t.currentIndex%2==0);e.setLocal("odd",t.currentIndex%2==1)};e.prototype._bulkRemove=function(e){e.sort(function(e,t){return e.record.previousIndex-t.record.previousIndex});var t=[];for(var n=e.length-1;n>=0;n--){var r=e[n];if(c.isPresent(r.record.currentIndex)){r.view=this._viewContainer.detach(r.record.previousIndex);t.push(r)}else{this._viewContainer.remove(r.record.previousIndex)}}return t};e.prototype._bulkInsert=function(e){e.sort(function(e,t){return e.record.currentIndex-t.record.currentIndex});for(var t=0;t<e.length;t++){var n=e[t];if(c.isPresent(n.view)){this._viewContainer.insert(n.view,n.record.currentIndex)}else{n.view=this._viewContainer.createEmbeddedView(this._templateRef,n.record.currentIndex)}}return e};e=r([o.Directive({selector:"[ng-for][ng-for-of]",properties:["ngForOf"]}),i("design:paramtypes",[s.ViewContainerRef,s.TemplateRef,a.IterableDiffers,a.ChangeDetectorRef])],e);return e}();t.NgFor=u;var l=function(){function e(e,t){this.record=e;this.view=t}return e}()},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(2);var a=n(100);var s=n(4);var c=function(){function e(e,t){this._viewContainer=e;this._templateRef=t;this._prevCondition=null}Object.defineProperty(e.prototype,"ngIf",{set:function(e){if(e&&(s.isBlank(this._prevCondition)||!this._prevCondition)){this._prevCondition=true;this._viewContainer.createEmbeddedView(this._templateRef)}else if(!e&&(s.isBlank(this._prevCondition)||this._prevCondition)){this._prevCondition=false;this._viewContainer.clear()}},enumerable:true,configurable:true});e=r([o.Directive({selector:"[ng-if]",properties:["ngIf"]}),i("design:paramtypes",[a.ViewContainerRef,a.TemplateRef])],e);return e}();t.NgIf=c},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(2);var a=function(){function e(){}e=r([o.Directive({selector:"[ng-non-bindable]",compileChildren:false}),i("design:paramtypes",[])],e);return e}();t.NgNonBindable=a},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t);
};var o=n(23);var a=n(100);var s=n(2);var c=n(130);var u=n(4);var l=function(){function e(e,t,n){this._differs=e;this._ngEl=t;this._renderer=n}Object.defineProperty(e.prototype,"rawStyle",{set:function(e){this._rawStyle=e;if(u.isBlank(this._differ)&&u.isPresent(e)){this._differ=this._differs.find(this._rawStyle).create(null)}},enumerable:true,configurable:true});e.prototype.doCheck=function(){if(u.isPresent(this._differ)){var e=this._differ.diff(this._rawStyle);if(u.isPresent(e)){this._applyChanges(e)}}};e.prototype._applyChanges=function(e){var t=this;e.forEachAddedItem(function(e){t._setStyle(e.key,e.currentValue)});e.forEachChangedItem(function(e){t._setStyle(e.key,e.currentValue)});e.forEachRemovedItem(function(e){t._setStyle(e.key,null)})};e.prototype._setStyle=function(e,t){this._renderer.setElementStyle(this._ngEl,e,t)};e=r([s.Directive({selector:"[ng-style]",properties:["rawStyle: ng-style"]}),i("design:paramtypes",[o.KeyValueDiffers,a.ElementRef,c.Renderer])],e);return e}();t.NgStyle=l},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};var a=n(2);var s=n(5);var c=n(100);var u=n(4);var l=n(11);var p=u.CONST_EXPR(new Object);var f=function(){function e(e,t){this._viewContainerRef=e;this._templateRef=t}e.prototype.create=function(){this._viewContainerRef.createEmbeddedView(this._templateRef)};e.prototype.destroy=function(){this._viewContainerRef.clear()};return e}();t.SwitchView=f;var h=function(){function e(){this._useDefault=false;this._valueViews=new l.Map;this._activeViews=[]}Object.defineProperty(e.prototype,"ngSwitch",{set:function(e){this._emptyAllActiveViews();this._useDefault=false;var t=this._valueViews.get(e);if(u.isBlank(t)){this._useDefault=true;t=u.normalizeBlank(this._valueViews.get(p))}this._activateViews(t);this._switchValue=e},enumerable:true,configurable:true});e.prototype._onWhenValueChanged=function(e,t,n){this._deregisterView(e,n);this._registerView(t,n);if(e===this._switchValue){n.destroy();l.ListWrapper.remove(this._activeViews,n)}else if(t===this._switchValue){if(this._useDefault){this._useDefault=false;this._emptyAllActiveViews()}n.create();this._activeViews.push(n)}if(this._activeViews.length===0&&!this._useDefault){this._useDefault=true;this._activateViews(this._valueViews.get(p))}};e.prototype._emptyAllActiveViews=function(){var e=this._activeViews;for(var t=0;t<e.length;t++){e[t].destroy()}this._activeViews=[]};e.prototype._activateViews=function(e){if(u.isPresent(e)){for(var t=0;t<e.length;t++){e[t].create()}this._activeViews=e}};e.prototype._registerView=function(e,t){var n=this._valueViews.get(e);if(u.isBlank(n)){n=[];this._valueViews.set(e,n)}n.push(t)};e.prototype._deregisterView=function(e,t){if(e===p)return;var n=this._valueViews.get(e);if(n.length==1){this._valueViews.delete(e)}else{l.ListWrapper.remove(n,t)}};e=r([a.Directive({selector:"[ng-switch]",properties:["ngSwitch"]}),i("design:paramtypes",[])],e);return e}();t.NgSwitch=h;var d=function(){function e(e,t,n){this._switch=n;this._value=p;this._view=new f(e,t)}Object.defineProperty(e.prototype,"ngSwitchWhen",{set:function(e){this._switch._onWhenValueChanged(this._value,e,this._view);this._value=e},enumerable:true,configurable:true});e=r([a.Directive({selector:"[ng-switch-when]",properties:["ngSwitchWhen"]}),o(2,s.Host()),i("design:paramtypes",[c.ViewContainerRef,c.TemplateRef,h])],e);return e}();t.NgSwitchWhen=d;var v=function(){function e(e,t,n){n._registerView(p,new f(e,t))}e=r([a.Directive({selector:"[ng-switch-default]"}),o(2,s.Host()),i("design:paramtypes",[c.ViewContainerRef,c.TemplateRef,h])],e);return e}();t.NgSwitchDefault=v},function(e,t){},function(e,t,n){function r(e){for(var n in e)if(!t.hasOwnProperty(n))t[n]=e[n]}r(n(199));var i=n(200);t.inspectNativeElement=i.inspectNativeElement;t.ELEMENT_PROBE_BINDINGS=i.ELEMENT_PROBE_BINDINGS},function(e,t,n){var r=n(4);var i=n(11);var o=n(108);var a=n(106);var s=function(){function e(e,t){this._parentView=e;this._boundElementIndex=t;this._elementInjector=this._parentView.elementInjectors[this._boundElementIndex]}Object.defineProperty(e.prototype,"componentInstance",{get:function(){if(!r.isPresent(this._elementInjector)){return null}return this._elementInjector.getComponent()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.elementRef.nativeElement},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"elementRef",{get:function(){return this._parentView.elementRefs[this._boundElementIndex]},enumerable:true,configurable:true});e.prototype.getDirectiveInstance=function(e){return this._elementInjector.getDirectiveAtIndex(e)};Object.defineProperty(e.prototype,"children",{get:function(){return this._getChildElements(this._parentView,this._boundElementIndex)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"componentViewChildren",{get:function(){var e=this._parentView.getNestedView(this._boundElementIndex);if(!r.isPresent(e)){return[]}return this._getChildElements(e,null)},enumerable:true,configurable:true});e.prototype.triggerEventHandler=function(e,t){this._parentView.triggerEventHandlers(e,t,this._boundElementIndex)};e.prototype.hasDirective=function(e){if(!r.isPresent(this._elementInjector)){return false}return this._elementInjector.hasDirective(e)};e.prototype.inject=function(e){if(!r.isPresent(this._elementInjector)){return null}return this._elementInjector.get(e)};e.prototype.getLocal=function(e){return this._parentView.locals.get(e)};e.prototype.query=function(e,t){if(t===void 0){t=l.all}var n=this.queryAll(e,t);return n.length>0?n[0]:null};e.prototype.queryAll=function(e,t){if(t===void 0){t=l.all}var n=t(this);return i.ListWrapper.filter(n,e)};e.prototype._getChildElements=function(t,n){var o=this;var a=[];var s=null;if(r.isPresent(n)){s=t.proto.elementBinders[n-t.elementOffset]}for(var c=0;c<t.proto.elementBinders.length;++c){var u=t.proto.elementBinders[c];if(u.parent==s){a.push(new e(t,t.elementOffset+c));var l=t.viewContainers[t.elementOffset+c];if(r.isPresent(l)){i.ListWrapper.forEach(l.views,function(e){a=a.concat(o._getChildElements(e,null))})}}}return a};return e}();t.DebugElement=s;function c(e){return new s(a.internalView(e.parentView),e.boundElementIndex)}t.inspectElement=c;function u(e){return e.map(function(e){return e.nativeElement})}t.asNativeElements=u;var l=function(){function e(){}e.all=function(t){var n=[];n.push(t);i.ListWrapper.forEach(t.children,function(t){n=n.concat(e.all(t))});i.ListWrapper.forEach(t.componentViewChildren,function(t){n=n.concat(e.all(t))});return n};e.light=function(t){var n=[];i.ListWrapper.forEach(t.children,function(t){n.push(t);n=n.concat(e.light(t))});return n};e.view=function(t){var n=[];i.ListWrapper.forEach(t.componentViewChildren,function(t){n.push(t);n=n.concat(e.light(t))});return n};return e}();t.Scope=l;var p=function(){function e(){}e.all=function(){return function(e){return true}};e.css=function(e){return function(t){return r.isPresent(t.nativeElement)?o.DOM.elementMatches(t.nativeElement,e):false}};e.directive=function(e){return function(t){return t.hasDirective(e)}};return e}();t.By=p},function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")return Reflect.decorate(e,t,n,r);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,r){return r&&r(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(t,n,e)||e},r)}};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o=n(4);var a=n(11);var s=n(5);var c=n(117);var u=n(108);var l=n(57);var p=n(199);var f="ngid";var h="ng.probe";var d="#";var v=new a.Map;var y=new a.Map;var g=0;function m(e,t){if(o.isPresent(e)){u.DOM.setData(e,f,a.ListWrapper.join(t,d))}}function _(e){var t=u.DOM.getData(e,f);if(o.isPresent(t)){return a.ListWrapper.map(t.split(d),function(e){return o.NumberWrapper.parseInt(e,10)})}else{return null}}function b(e){var t=_(e);if(o.isPresent(t)){var n=y.get(t[0]);if(o.isPresent(n)){return new p.DebugElement(n,t[1])}}return null}t.inspectNativeElement=b;var w=function(){function e(e){this._renderer=e;u.DOM.setGlobalVar(h,b)}e.prototype.viewCreated=function(e){var t=g++;y.set(t,e);v.set(e,t);for(var n=0;n<e.elementRefs.length;n++){var r=e.elementRefs[n];m(this._renderer.getNativeElementSync(r),[t,n])}};e.prototype.viewDestroyed=function(e){var t=v.get(e);a.MapWrapper.delete(v,e);a.MapWrapper.delete(y,t)};e=r([s.Injectable(),i("design:paramtypes",[l.Renderer])],e);return e}();t.DebugElementViewListener=w;t.ELEMENT_PROBE_BINDINGS=o.CONST_EXPR([w,o.CONST_EXPR(new s.Binding(c.AppViewListener,{toAlias:w}))])},function(e,t,n){var r=n(35);t.wtfCreateScope=r.wtfCreateScope;t.wtfLeave=r.wtfLeave;t.wtfStartTimeRange=r.wtfStartTimeRange;t.wtfEndTimeRange=r.wtfEndTimeRange},function(e,t){},function(e,t,n){var r=n(186);t.bootstrap=r.bootstrap}])});